"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/documents/[id]/process/route";
exports.ids = ["app/api/documents/[id]/process/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "dns":
/*!**********************!*\
  !*** external "dns" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("dns");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("fs/promises");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "http2":
/*!************************!*\
  !*** external "http2" ***!
  \************************/
/***/ ((module) => {

module.exports = require("http2");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "process":
/*!**************************!*\
  !*** external "process" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("process");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("querystring");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tls");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "worker_threads":
/*!*********************************!*\
  !*** external "worker_threads" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("worker_threads");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "node:buffer":
/*!******************************!*\
  !*** external "node:buffer" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:buffer");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("node:fs");

/***/ }),

/***/ "node:http":
/*!****************************!*\
  !*** external "node:http" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:http");

/***/ }),

/***/ "node:https":
/*!*****************************!*\
  !*** external "node:https" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("node:https");

/***/ }),

/***/ "node:net":
/*!***************************!*\
  !*** external "node:net" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("node:net");

/***/ }),

/***/ "node:path":
/*!****************************!*\
  !*** external "node:path" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:path");

/***/ }),

/***/ "node:process":
/*!*******************************!*\
  !*** external "node:process" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("node:process");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:stream");

/***/ }),

/***/ "node:stream/web":
/*!**********************************!*\
  !*** external "node:stream/web" ***!
  \**********************************/
/***/ ((module) => {

module.exports = require("node:stream/web");

/***/ }),

/***/ "node:url":
/*!***************************!*\
  !*** external "node:url" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("node:url");

/***/ }),

/***/ "node:util":
/*!****************************!*\
  !*** external "node:util" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:util");

/***/ }),

/***/ "node:zlib":
/*!****************************!*\
  !*** external "node:zlib" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdocuments%2F%5Bid%5D%2Fprocess%2Froute&page=%2Fapi%2Fdocuments%2F%5Bid%5D%2Fprocess%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdocuments%2F%5Bid%5D%2Fprocess%2Froute.ts&appDir=C%3A%5Ckiran%5Ctaxgrok%5Ctax_filing_app%5Capp%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Ckiran%5Ctaxgrok%5Ctax_filing_app%5Capp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdocuments%2F%5Bid%5D%2Fprocess%2Froute&page=%2Fapi%2Fdocuments%2F%5Bid%5D%2Fprocess%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdocuments%2F%5Bid%5D%2Fprocess%2Froute.ts&appDir=C%3A%5Ckiran%5Ctaxgrok%5Ctax_filing_app%5Capp%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Ckiran%5Ctaxgrok%5Ctax_filing_app%5Capp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_kiran_taxgrok_tax_filing_app_app_app_api_documents_id_process_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/documents/[id]/process/route.ts */ \"(rsc)/./app/api/documents/[id]/process/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/documents/[id]/process/route\",\n        pathname: \"/api/documents/[id]/process\",\n        filename: \"route\",\n        bundlePath: \"app/api/documents/[id]/process/route\"\n    },\n    resolvedPagePath: \"C:\\\\kiran\\\\taxgrok\\\\tax_filing_app\\\\app\\\\app\\\\api\\\\documents\\\\[id]\\\\process\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_kiran_taxgrok_tax_filing_app_app_app_api_documents_id_process_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/documents/[id]/process/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZkb2N1bWVudHMlMkYlNUJpZCU1RCUyRnByb2Nlc3MlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmRvY3VtZW50cyUyRiU1QmlkJTVEJTJGcHJvY2VzcyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmRvY3VtZW50cyUyRiU1QmlkJTVEJTJGcHJvY2VzcyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDa2lyYW4lNUN0YXhncm9rJTVDdGF4X2ZpbGluZ19hcHAlNUNhcHAlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNraXJhbiU1Q3RheGdyb2slNUN0YXhfZmlsaW5nX2FwcCU1Q2FwcCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDcUM7QUFDbEg7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvP2ZlMDkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxca2lyYW5cXFxcdGF4Z3Jva1xcXFx0YXhfZmlsaW5nX2FwcFxcXFxhcHBcXFxcYXBwXFxcXGFwaVxcXFxkb2N1bWVudHNcXFxcW2lkXVxcXFxwcm9jZXNzXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9kb2N1bWVudHMvW2lkXS9wcm9jZXNzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvZG9jdW1lbnRzL1tpZF0vcHJvY2Vzc1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvZG9jdW1lbnRzL1tpZF0vcHJvY2Vzcy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXGtpcmFuXFxcXHRheGdyb2tcXFxcdGF4X2ZpbGluZ19hcHBcXFxcYXBwXFxcXGFwcFxcXFxhcGlcXFxcZG9jdW1lbnRzXFxcXFtpZF1cXFxccHJvY2Vzc1xcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvZG9jdW1lbnRzL1tpZF0vcHJvY2Vzcy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdocuments%2F%5Bid%5D%2Fprocess%2Froute&page=%2Fapi%2Fdocuments%2F%5Bid%5D%2Fprocess%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdocuments%2F%5Bid%5D%2Fprocess%2Froute.ts&appDir=C%3A%5Ckiran%5Ctaxgrok%5Ctax_filing_app%5Capp%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Ckiran%5Ctaxgrok%5Ctax_filing_app%5Capp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/documents/[id]/process/route.ts":
/*!*************************************************!*\
  !*** ./app/api/documents/[id]/process/route.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   dynamic: () => (/* binding */ dynamic)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db.ts\");\n/* harmony import */ var _lib_document_ai_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/document-ai-service */ \"(rsc)/./lib/document-ai-service.ts\");\n\n\n\n\nconst dynamic = \"force-dynamic\";\nasync function POST(request, { params }) {\n    try {\n        const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_1__.getServerSession)();\n        if (!session?.user?.email) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        const user = await _lib_db__WEBPACK_IMPORTED_MODULE_2__.prisma.user.findUnique({\n            where: {\n                email: session.user.email\n            }\n        });\n        if (!user) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"User not found\"\n            }, {\n                status: 404\n            });\n        }\n        const document = await _lib_db__WEBPACK_IMPORTED_MODULE_2__.prisma.document.findFirst({\n            where: {\n                id: params.id,\n                taxReturn: {\n                    userId: user.id\n                }\n            }\n        });\n        if (!document) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Document not found\"\n            }, {\n                status: 404\n            });\n        }\n        // Update status to processing\n        await _lib_db__WEBPACK_IMPORTED_MODULE_2__.prisma.document.update({\n            where: {\n                id: params.id\n            },\n            data: {\n                processingStatus: \"PROCESSING\"\n            }\n        });\n        // Check if Google Document AI is configured\n        const useDocumentAI = process.env.GOOGLE_CLOUD_PROJECT_ID && process.env.GOOGLE_CLOUD_W2_PROCESSOR_ID && process.env.GOOGLE_APPLICATION_CREDENTIALS;\n        let extractedTaxData;\n        if (useDocumentAI) {\n            // Use Google Document AI\n            try {\n                const config = (0,_lib_document_ai_service__WEBPACK_IMPORTED_MODULE_3__.createDocumentAIConfig)();\n                const documentAI = new _lib_document_ai_service__WEBPACK_IMPORTED_MODULE_3__.DocumentAIService(config);\n                extractedTaxData = await documentAI.processDocument(document.filePath, document.documentType);\n            } catch (docAIError) {\n                console.error(\"Document AI processing failed, falling back to LLM:\", docAIError);\n                // Fall back to LLM processing\n                extractedTaxData = await processWithLLM(document);\n            }\n        } else {\n            // Fall back to LLM processing\n            console.log(\"Google Document AI not configured, using LLM fallback\");\n            extractedTaxData = await processWithLLM(document);\n        }\n        // Create streaming response to maintain frontend compatibility\n        const encoder = new TextEncoder();\n        const readable = new ReadableStream({\n            async start (controller) {\n                try {\n                    // Simulate streaming by sending the complete response in chunks\n                    const jsonResponse = JSON.stringify({\n                        documentType: extractedTaxData.documentType,\n                        ocrText: extractedTaxData.ocrText,\n                        extractedData: extractedTaxData.extractedData\n                    });\n                    // Send response in chunks to simulate streaming\n                    const chunkSize = 100;\n                    for(let i = 0; i < jsonResponse.length; i += chunkSize){\n                        const chunk = jsonResponse.slice(i, i + chunkSize);\n                        controller.enqueue(encoder.encode(`data: ${JSON.stringify({\n                            content: chunk\n                        })}\\n\\n`));\n                        // Small delay to simulate processing time\n                        await new Promise((resolve)=>setTimeout(resolve, 50));\n                    }\n                    // Save OCR text and extracted data to database\n                    await _lib_db__WEBPACK_IMPORTED_MODULE_2__.prisma.document.update({\n                        where: {\n                            id: params.id\n                        },\n                        data: {\n                            ocrText: extractedTaxData.ocrText,\n                            extractedData: {\n                                documentType: extractedTaxData.documentType,\n                                ocrText: extractedTaxData.ocrText,\n                                extractedData: extractedTaxData.extractedData,\n                                confidence: extractedTaxData.confidence\n                            },\n                            processingStatus: \"COMPLETED\"\n                        }\n                    });\n                    controller.enqueue(encoder.encode(\"data: [DONE]\\n\\n\"));\n                    controller.close();\n                } catch (error) {\n                    console.error(\"Error in streaming response:\", error);\n                    await _lib_db__WEBPACK_IMPORTED_MODULE_2__.prisma.document.update({\n                        where: {\n                            id: params.id\n                        },\n                        data: {\n                            processingStatus: \"FAILED\"\n                        }\n                    });\n                    controller.error(error);\n                }\n            }\n        });\n        return new Response(readable, {\n            headers: {\n                \"Content-Type\": \"text/plain; charset=utf-8\",\n                \"Cache-Control\": \"no-cache\"\n            }\n        });\n    } catch (error) {\n        console.error(\"Document processing error:\", error);\n        // Update document status to failed\n        await _lib_db__WEBPACK_IMPORTED_MODULE_2__.prisma.document.update({\n            where: {\n                id: params.id\n            },\n            data: {\n                processingStatus: \"FAILED\"\n            }\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n// Fallback LLM processing function\nasync function processWithLLM(document) {\n    const { readFile } = await Promise.resolve(/*! import() */).then(__webpack_require__.t.bind(__webpack_require__, /*! fs/promises */ \"fs/promises\", 23));\n    // Read the file and convert to base64\n    const fileBuffer = await readFile(document.filePath);\n    const base64String = fileBuffer.toString(\"base64\");\n    // Prepare the message for the LLM API\n    const messages = [\n        {\n            role: \"user\",\n            content: [\n                {\n                    type: \"file\",\n                    file: {\n                        filename: document.fileName,\n                        file_data: `data:${document.fileType};base64,${base64String}`\n                    }\n                },\n                {\n                    type: \"text\",\n                    text: getExtractionPrompt(document.documentType)\n                }\n            ]\n        }\n    ];\n    // Call the LLM API for document processing\n    const response = await fetch(\"https://apps.abacus.ai/v1/chat/completions\", {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            \"Authorization\": `Bearer ${process.env.ABACUSAI_API_KEY}`\n        },\n        body: JSON.stringify({\n            model: \"gpt-4.1-mini\",\n            messages: messages,\n            stream: false,\n            max_tokens: 3000,\n            response_format: {\n                type: \"json_object\"\n            }\n        })\n    });\n    if (!response.ok) {\n        throw new Error(`LLM API error: ${response.status}`);\n    }\n    const result = await response.json();\n    const content = result.choices[0]?.message?.content;\n    if (!content) {\n        throw new Error(\"No content returned from LLM API\");\n    }\n    const parsedContent = JSON.parse(content);\n    return {\n        documentType: parsedContent.documentType || document.documentType,\n        ocrText: parsedContent.ocrText || \"\",\n        extractedData: parsedContent.extractedData || parsedContent,\n        confidence: 0.85 // Default confidence for LLM\n    };\n}\nfunction getExtractionPrompt(documentType) {\n    const basePrompt = `Please extract all tax-related information from this document and return it in JSON format. Focus on extracting data that would be useful for tax filing purposes.\n\nPlease respond in JSON format with the following structure:\n{\n  \"documentType\": \"W2\" | \"FORM_1099_INT\" | \"FORM_1099_DIV\" | \"FORM_1099_MISC\" | \"FORM_1099_NEC\" | \"FORM_1099_R\" | \"FORM_1099_G\" | \"OTHER_TAX_DOCUMENT\",\n  \"ocrText\": \"Full OCR text from the document\",\n  \"extractedData\": {\n    // Document-specific fields based on document type\n  }\n}\n\n`;\n    switch(documentType){\n        case \"W2\":\n            return basePrompt + `For W-2 forms, extract:\n{\n  \"documentType\": \"W2\",\n  \"ocrText\": \"Full OCR text\",\n  \"extractedData\": {\n    \"employerName\": \"Employer name\",\n    \"employerEIN\": \"Employer EIN (XX-XXXXXXX format)\",\n    \"employerAddress\": \"Employer address\",\n    \"employeeName\": \"Employee name\",\n    \"employeeSSN\": \"Employee SSN\",\n    \"employeeAddress\": \"Employee address\",\n    \"wages\": \"Box 1 - Wages, tips, other compensation\",\n    \"federalTaxWithheld\": \"Box 2 - Federal income tax withheld\",\n    \"socialSecurityWages\": \"Box 3 - Social security wages\",\n    \"socialSecurityTaxWithheld\": \"Box 4 - Social security tax withheld\",\n    \"medicareWages\": \"Box 5 - Medicare wages and tips\",\n    \"medicareTaxWithheld\": \"Box 6 - Medicare tax withheld\",\n    \"socialSecurityTips\": \"Box 7 - Social security tips\",\n    \"allocatedTips\": \"Box 8 - Allocated tips\",\n    \"stateWages\": \"Box 16 - State wages, tips, etc.\",\n    \"stateTaxWithheld\": \"Box 17 - State income tax\",\n    \"localWages\": \"Box 18 - Local wages, tips, etc.\",\n    \"localTaxWithheld\": \"Box 19 - Local income tax\"\n  }\n}`;\n        case \"FORM_1099_INT\":\n            return basePrompt + `For 1099-INT forms, extract:\n{\n  \"documentType\": \"FORM_1099_INT\",\n  \"ocrText\": \"Full OCR text\",\n  \"extractedData\": {\n    \"payerName\": \"Payer name\",\n    \"payerTIN\": \"Payer TIN\",\n    \"payerAddress\": \"Payer address\",\n    \"recipientName\": \"Recipient name\",\n    \"recipientTIN\": \"Recipient TIN\",\n    \"recipientAddress\": \"Recipient address\",\n    \"interestIncome\": \"Box 1 - Interest income\",\n    \"earlyWithdrawalPenalty\": \"Box 2 - Early withdrawal penalty\",\n    \"interestOnUSavingsBonds\": \"Box 3 - Interest on U.S. Savings Bonds\",\n    \"federalTaxWithheld\": \"Box 4 - Federal income tax withheld\",\n    \"investmentExpenses\": \"Box 5 - Investment expenses\",\n    \"foreignTaxPaid\": \"Box 6 - Foreign tax paid\",\n    \"foreignCountry\": \"Box 7 - Foreign country\",\n    \"taxExemptInterest\": \"Box 8 - Tax-exempt interest\",\n    \"privateActivityBondInterest\": \"Box 9 - Specified private activity bond interest\",\n    \"marketDiscount\": \"Box 10 - Market discount\",\n    \"bondPremium\": \"Box 11 - Bond premium\",\n    \"bondPremiumOnTaxExemptBond\": \"Box 12 - Bond premium on tax-exempt bond\",\n    \"stateCode\": \"Box 13 - State code\",\n    \"stateTaxWithheld\": \"Box 14 - State income tax withheld\",\n    \"stateIdNumber\": \"Box 15 - State/Payer's state no.\"\n  }\n}`;\n        case \"FORM_1099_DIV\":\n            return basePrompt + `For 1099-DIV forms, extract:\n{\n  \"documentType\": \"FORM_1099_DIV\",\n  \"ocrText\": \"Full OCR text\",\n  \"extractedData\": {\n    \"payerName\": \"Payer name\",\n    \"payerTIN\": \"Payer TIN\",\n    \"payerAddress\": \"Payer address\",\n    \"recipientName\": \"Recipient name\",\n    \"recipientTIN\": \"Recipient TIN\",\n    \"recipientAddress\": \"Recipient address\",\n    \"ordinaryDividends\": \"Box 1a - Ordinary dividends\",\n    \"qualifiedDividends\": \"Box 1b - Qualified dividends\",\n    \"totalCapitalGain\": \"Box 2a - Total capital gain distributions\",\n    \"unrecaptured1250Gain\": \"Box 2b - Unrecap. Sec. 1250 gain\",\n    \"section1202Gain\": \"Box 2c - Section 1202 gain\",\n    \"collectiblesGain\": \"Box 2d - Collectibles (28%) gain\",\n    \"nondividendDistributions\": \"Box 3 - Nondividend distributions\",\n    \"federalTaxWithheld\": \"Box 4 - Federal income tax withheld\",\n    \"section199ADividends\": \"Box 5 - Section 199A dividends\",\n    \"investmentExpenses\": \"Box 6 - Investment expenses\",\n    \"foreignTaxPaid\": \"Box 7 - Foreign tax paid\",\n    \"foreignCountry\": \"Box 8 - Foreign country\",\n    \"cashLiquidation\": \"Box 9 - Cash liquidation distributions\",\n    \"noncashLiquidation\": \"Box 10 - Noncash liquidation distributions\",\n    \"stateCode\": \"Box 11 - State code\",\n    \"stateTaxWithheld\": \"Box 12 - State income tax withheld\",\n    \"stateIdNumber\": \"Box 13 - State/Payer's state no.\"\n  }\n}`;\n        case \"FORM_1099_MISC\":\n            return basePrompt + `For 1099-MISC forms, extract:\n{\n  \"documentType\": \"FORM_1099_MISC\",\n  \"ocrText\": \"Full OCR text\",\n  \"extractedData\": {\n    \"payerName\": \"Payer name\",\n    \"payerTIN\": \"Payer TIN\",\n    \"payerAddress\": \"Payer address\",\n    \"recipientName\": \"Recipient name\",\n    \"recipientTIN\": \"Recipient TIN\",\n    \"recipientAddress\": \"Recipient address\",\n    \"rents\": \"Box 1 - Rents\",\n    \"royalties\": \"Box 2 - Royalties\",\n    \"otherIncome\": \"Box 3 - Other income\",\n    \"federalTaxWithheld\": \"Box 4 - Federal income tax withheld\",\n    \"fishingBoatProceeds\": \"Box 5 - Fishing boat proceeds\",\n    \"medicalHealthPayments\": \"Box 6 - Medical and health care payments\",\n    \"nonemployeeCompensation\": \"Box 7 - Nonemployee compensation\",\n    \"substitutePayments\": \"Box 8 - Substitute payments in lieu of dividends\",\n    \"cropInsuranceProceeds\": \"Box 9 - Crop insurance proceeds\",\n    \"grossProceeds\": \"Box 10 - Gross proceeds paid to an attorney\",\n    \"section409ADeferrals\": \"Box 11 - Section 409A deferrals\",\n    \"section409AIncome\": \"Box 12 - Section 409A income\",\n    \"excessGoldenParachute\": \"Box 13 - Excess golden parachute payments\",\n    \"nonqualifiedDeferredCompensation\": \"Box 14 - Nonqualified deferred compensation\",\n    \"stateCode\": \"Box 15 - State code\",\n    \"stateTaxWithheld\": \"Box 16 - State income tax withheld\",\n    \"stateIdNumber\": \"Box 17 - State/Payer's state no.\"\n  }\n}`;\n        case \"FORM_1099_NEC\":\n            return basePrompt + `For 1099-NEC forms, extract:\n{\n  \"documentType\": \"FORM_1099_NEC\",\n  \"ocrText\": \"Full OCR text\",\n  \"extractedData\": {\n    \"payerName\": \"Payer name\",\n    \"payerTIN\": \"Payer TIN\",\n    \"payerAddress\": \"Payer address\",\n    \"recipientName\": \"Recipient name\",\n    \"recipientTIN\": \"Recipient TIN\",\n    \"recipientAddress\": \"Recipient address\",\n    \"nonemployeeCompensation\": \"Box 1 - Nonemployee compensation\",\n    \"federalTaxWithheld\": \"Box 4 - Federal income tax withheld\",\n    \"stateCode\": \"Box 5 - State code\",\n    \"stateTaxWithheld\": \"Box 6 - State income tax withheld\",\n    \"stateIdNumber\": \"Box 7 - State/Payer's state no.\"\n  }\n}`;\n        default:\n            return basePrompt + `For other tax documents, extract relevant information including:\n{\n  \"documentType\": \"OTHER_TAX_DOCUMENT\",\n  \"ocrText\": \"Full OCR text\",\n  \"extractedData\": {\n    \"payerName\": \"Payer/Employer name if applicable\",\n    \"payerTIN\": \"Payer/Employer TIN if applicable\",\n    \"recipientName\": \"Recipient/Employee name if applicable\",\n    \"recipientTIN\": \"Recipient/Employee TIN if applicable\",\n    \"incomeAmount\": \"Any income amounts\",\n    \"taxWithheld\": \"Any tax withheld amounts\",\n    \"relevantBoxes\": \"Any other relevant tax information\"\n  }\n}\n\nRespond with raw JSON only. Do not include code blocks, markdown, or any other formatting.`;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2RvY3VtZW50cy9baWRdL3Byb2Nlc3Mvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUMwQztBQUNFO0FBQ1g7QUFDMkU7QUFFckcsTUFBTUssVUFBVSxnQkFBZTtBQUUvQixlQUFlQyxLQUNwQkMsT0FBZ0IsRUFDaEIsRUFBRUMsTUFBTSxFQUE4QjtJQUV0QyxJQUFJO1FBQ0YsTUFBTUMsVUFBVSxNQUFNUiwyREFBZ0JBO1FBRXRDLElBQUksQ0FBQ1EsU0FBU0MsTUFBTUMsT0FBTztZQUN6QixPQUFPWCxxREFBWUEsQ0FBQ1ksSUFBSSxDQUFDO2dCQUFFQyxPQUFPO1lBQWUsR0FBRztnQkFBRUMsUUFBUTtZQUFJO1FBQ3BFO1FBRUEsTUFBTUosT0FBTyxNQUFNUiwyQ0FBTUEsQ0FBQ1EsSUFBSSxDQUFDSyxVQUFVLENBQUM7WUFDeENDLE9BQU87Z0JBQUVMLE9BQU9GLFFBQVFDLElBQUksQ0FBQ0MsS0FBSztZQUFDO1FBQ3JDO1FBRUEsSUFBSSxDQUFDRCxNQUFNO1lBQ1QsT0FBT1YscURBQVlBLENBQUNZLElBQUksQ0FBQztnQkFBRUMsT0FBTztZQUFpQixHQUFHO2dCQUFFQyxRQUFRO1lBQUk7UUFDdEU7UUFFQSxNQUFNRyxXQUFXLE1BQU1mLDJDQUFNQSxDQUFDZSxRQUFRLENBQUNDLFNBQVMsQ0FBQztZQUMvQ0YsT0FBTztnQkFDTEcsSUFBSVgsT0FBT1csRUFBRTtnQkFDYkMsV0FBVztvQkFDVEMsUUFBUVgsS0FBS1MsRUFBRTtnQkFDakI7WUFDRjtRQUNGO1FBRUEsSUFBSSxDQUFDRixVQUFVO1lBQ2IsT0FBT2pCLHFEQUFZQSxDQUFDWSxJQUFJLENBQUM7Z0JBQUVDLE9BQU87WUFBcUIsR0FBRztnQkFBRUMsUUFBUTtZQUFJO1FBQzFFO1FBRUEsOEJBQThCO1FBQzlCLE1BQU1aLDJDQUFNQSxDQUFDZSxRQUFRLENBQUNLLE1BQU0sQ0FBQztZQUMzQk4sT0FBTztnQkFBRUcsSUFBSVgsT0FBT1csRUFBRTtZQUFDO1lBQ3ZCSSxNQUFNO2dCQUFFQyxrQkFBa0I7WUFBYTtRQUN6QztRQUVBLDRDQUE0QztRQUM1QyxNQUFNQyxnQkFBZ0JDLFFBQVFDLEdBQUcsQ0FBQ0MsdUJBQXVCLElBQ25DRixRQUFRQyxHQUFHLENBQUNFLDRCQUE0QixJQUN4Q0gsUUFBUUMsR0FBRyxDQUFDRyw4QkFBOEI7UUFFaEUsSUFBSUM7UUFFSixJQUFJTixlQUFlO1lBQ2pCLHlCQUF5QjtZQUN6QixJQUFJO2dCQUNGLE1BQU1PLFNBQVM1QixnRkFBc0JBO2dCQUNyQyxNQUFNNkIsYUFBYSxJQUFJOUIsdUVBQWlCQSxDQUFDNkI7Z0JBQ3pDRCxtQkFBbUIsTUFBTUUsV0FBV0MsZUFBZSxDQUFDakIsU0FBU2tCLFFBQVEsRUFBRWxCLFNBQVNtQixZQUFZO1lBQzlGLEVBQUUsT0FBT0MsWUFBWTtnQkFDbkJDLFFBQVF6QixLQUFLLENBQUMsdURBQXVEd0I7Z0JBQ3JFLDhCQUE4QjtnQkFDOUJOLG1CQUFtQixNQUFNUSxlQUFldEI7WUFDMUM7UUFDRixPQUFPO1lBQ0wsOEJBQThCO1lBQzlCcUIsUUFBUUUsR0FBRyxDQUFDO1lBQ1pULG1CQUFtQixNQUFNUSxlQUFldEI7UUFDMUM7UUFFQSwrREFBK0Q7UUFDL0QsTUFBTXdCLFVBQVUsSUFBSUM7UUFDcEIsTUFBTUMsV0FBVyxJQUFJQyxlQUFlO1lBQ2xDLE1BQU1DLE9BQU1DLFVBQVU7Z0JBQ3BCLElBQUk7b0JBQ0YsZ0VBQWdFO29CQUNoRSxNQUFNQyxlQUFlQyxLQUFLQyxTQUFTLENBQUM7d0JBQ2xDYixjQUFjTCxpQkFBaUJLLFlBQVk7d0JBQzNDYyxTQUFTbkIsaUJBQWlCbUIsT0FBTzt3QkFDakNDLGVBQWVwQixpQkFBaUJvQixhQUFhO29CQUMvQztvQkFFQSxnREFBZ0Q7b0JBQ2hELE1BQU1DLFlBQVk7b0JBQ2xCLElBQUssSUFBSUMsSUFBSSxHQUFHQSxJQUFJTixhQUFhTyxNQUFNLEVBQUVELEtBQUtELFVBQVc7d0JBQ3ZELE1BQU1HLFFBQVFSLGFBQWFTLEtBQUssQ0FBQ0gsR0FBR0EsSUFBSUQ7d0JBQ3hDTixXQUFXVyxPQUFPLENBQUNoQixRQUFRaUIsTUFBTSxDQUFDLENBQUMsTUFBTSxFQUFFVixLQUFLQyxTQUFTLENBQUM7NEJBQUNVLFNBQVNKO3dCQUFLLEdBQUcsSUFBSSxDQUFDO3dCQUNqRiwwQ0FBMEM7d0JBQzFDLE1BQU0sSUFBSUssUUFBUUMsQ0FBQUEsVUFBV0MsV0FBV0QsU0FBUztvQkFDbkQ7b0JBRUEsK0NBQStDO29CQUMvQyxNQUFNM0QsMkNBQU1BLENBQUNlLFFBQVEsQ0FBQ0ssTUFBTSxDQUFDO3dCQUMzQk4sT0FBTzs0QkFBRUcsSUFBSVgsT0FBT1csRUFBRTt3QkFBQzt3QkFDdkJJLE1BQU07NEJBQ0oyQixTQUFTbkIsaUJBQWlCbUIsT0FBTzs0QkFDakNDLGVBQWU7Z0NBQ2JmLGNBQWNMLGlCQUFpQkssWUFBWTtnQ0FDM0NjLFNBQVNuQixpQkFBaUJtQixPQUFPO2dDQUNqQ0MsZUFBZXBCLGlCQUFpQm9CLGFBQWE7Z0NBQzdDWSxZQUFZaEMsaUJBQWlCZ0MsVUFBVTs0QkFDekM7NEJBQ0F2QyxrQkFBa0I7d0JBQ3BCO29CQUNGO29CQUVBc0IsV0FBV1csT0FBTyxDQUFDaEIsUUFBUWlCLE1BQU0sQ0FBQztvQkFDbENaLFdBQVdrQixLQUFLO2dCQUNsQixFQUFFLE9BQU9uRCxPQUFPO29CQUNkeUIsUUFBUXpCLEtBQUssQ0FBQyxnQ0FBZ0NBO29CQUM5QyxNQUFNWCwyQ0FBTUEsQ0FBQ2UsUUFBUSxDQUFDSyxNQUFNLENBQUM7d0JBQzNCTixPQUFPOzRCQUFFRyxJQUFJWCxPQUFPVyxFQUFFO3dCQUFDO3dCQUN2QkksTUFBTTs0QkFBRUMsa0JBQWtCO3dCQUFTO29CQUNyQztvQkFDQXNCLFdBQVdqQyxLQUFLLENBQUNBO2dCQUNuQjtZQUNGO1FBQ0Y7UUFFQSxPQUFPLElBQUlvRCxTQUFTdEIsVUFBVTtZQUM1QnVCLFNBQVM7Z0JBQ1AsZ0JBQWdCO2dCQUNoQixpQkFBaUI7WUFDbkI7UUFDRjtJQUVGLEVBQUUsT0FBT3JELE9BQU87UUFDZHlCLFFBQVF6QixLQUFLLENBQUMsOEJBQThCQTtRQUU1QyxtQ0FBbUM7UUFDbkMsTUFBTVgsMkNBQU1BLENBQUNlLFFBQVEsQ0FBQ0ssTUFBTSxDQUFDO1lBQzNCTixPQUFPO2dCQUFFRyxJQUFJWCxPQUFPVyxFQUFFO1lBQUM7WUFDdkJJLE1BQU07Z0JBQUVDLGtCQUFrQjtZQUFTO1FBQ3JDO1FBRUEsT0FBT3hCLHFEQUFZQSxDQUFDWSxJQUFJLENBQ3RCO1lBQUVDLE9BQU87UUFBd0IsR0FDakM7WUFBRUMsUUFBUTtRQUFJO0lBRWxCO0FBQ0Y7QUFFQSxtQ0FBbUM7QUFDbkMsZUFBZXlCLGVBQWV0QixRQUFhO0lBQ3pDLE1BQU0sRUFBRWtELFFBQVEsRUFBRSxHQUFHLE1BQU0sNEhBQXFCO0lBRWhELHNDQUFzQztJQUN0QyxNQUFNQyxhQUFhLE1BQU1ELFNBQVNsRCxTQUFTa0IsUUFBUTtJQUNuRCxNQUFNa0MsZUFBZUQsV0FBV0UsUUFBUSxDQUFDO0lBRXpDLHNDQUFzQztJQUN0QyxNQUFNQyxXQUFXO1FBQUM7WUFDaEJDLE1BQU07WUFDTmIsU0FBUztnQkFDUDtvQkFDRWMsTUFBTTtvQkFDTkMsTUFBTTt3QkFDSkMsVUFBVTFELFNBQVMyRCxRQUFRO3dCQUMzQkMsV0FBVyxDQUFDLEtBQUssRUFBRTVELFNBQVM2RCxRQUFRLENBQUMsUUFBUSxFQUFFVCxhQUFhLENBQUM7b0JBQy9EO2dCQUNGO2dCQUNBO29CQUNFSSxNQUFNO29CQUNOTSxNQUFNQyxvQkFBb0IvRCxTQUFTbUIsWUFBWTtnQkFDakQ7YUFDRDtRQUNIO0tBQUU7SUFFRiwyQ0FBMkM7SUFDM0MsTUFBTTZDLFdBQVcsTUFBTUMsTUFBTSw4Q0FBOEM7UUFDekVDLFFBQVE7UUFDUmpCLFNBQVM7WUFDUCxnQkFBZ0I7WUFDaEIsaUJBQWlCLENBQUMsT0FBTyxFQUFFeEMsUUFBUUMsR0FBRyxDQUFDeUQsZ0JBQWdCLENBQUMsQ0FBQztRQUMzRDtRQUNBQyxNQUFNckMsS0FBS0MsU0FBUyxDQUFDO1lBQ25CcUMsT0FBTztZQUNQZixVQUFVQTtZQUNWZ0IsUUFBUTtZQUNSQyxZQUFZO1lBQ1pDLGlCQUFpQjtnQkFBRWhCLE1BQU07WUFBYztRQUN6QztJQUNGO0lBRUEsSUFBSSxDQUFDUSxTQUFTUyxFQUFFLEVBQUU7UUFDaEIsTUFBTSxJQUFJQyxNQUFNLENBQUMsZUFBZSxFQUFFVixTQUFTbkUsTUFBTSxDQUFDLENBQUM7SUFDckQ7SUFFQSxNQUFNOEUsU0FBUyxNQUFNWCxTQUFTckUsSUFBSTtJQUNsQyxNQUFNK0MsVUFBVWlDLE9BQU9DLE9BQU8sQ0FBQyxFQUFFLEVBQUVDLFNBQVNuQztJQUU1QyxJQUFJLENBQUNBLFNBQVM7UUFDWixNQUFNLElBQUlnQyxNQUFNO0lBQ2xCO0lBRUEsTUFBTUksZ0JBQWdCL0MsS0FBS2dELEtBQUssQ0FBQ3JDO0lBRWpDLE9BQU87UUFDTHZCLGNBQWMyRCxjQUFjM0QsWUFBWSxJQUFJbkIsU0FBU21CLFlBQVk7UUFDakVjLFNBQVM2QyxjQUFjN0MsT0FBTyxJQUFJO1FBQ2xDQyxlQUFlNEMsY0FBYzVDLGFBQWEsSUFBSTRDO1FBQzlDaEMsWUFBWSxLQUFLLDZCQUE2QjtJQUNoRDtBQUNGO0FBRUEsU0FBU2lCLG9CQUFvQjVDLFlBQW9CO0lBQy9DLE1BQU02RCxhQUFhLENBQUM7Ozs7Ozs7Ozs7O0FBV3RCLENBQUM7SUFFQyxPQUFRN0Q7UUFDTixLQUFLO1lBQ0gsT0FBTzZELGFBQWEsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBd0IxQixDQUFDO1FBRUUsS0FBSztZQUNILE9BQU9BLGFBQWEsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBMkIxQixDQUFDO1FBRUUsS0FBSztZQUNILE9BQU9BLGFBQWEsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0E2QjFCLENBQUM7UUFFRSxLQUFLO1lBQ0gsT0FBT0EsYUFBYSxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQTZCMUIsQ0FBQztRQUVFLEtBQUs7WUFDSCxPQUFPQSxhQUFhLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBaUIxQixDQUFDO1FBRUU7WUFDRSxPQUFPQSxhQUFhLENBQUM7Ozs7Ozs7Ozs7Ozs7OzswRkFlK0QsQ0FBQztJQUN6RjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vYXBwL2FwaS9kb2N1bWVudHMvW2lkXS9wcm9jZXNzL3JvdXRlLnRzP2I2MTciXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIlxuaW1wb3J0IHsgZ2V0U2VydmVyU2Vzc2lvbiB9IGZyb20gXCJuZXh0LWF1dGhcIlxuaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIkAvbGliL2RiXCJcbmltcG9ydCB7IERvY3VtZW50QUlTZXJ2aWNlLCBjcmVhdGVEb2N1bWVudEFJQ29uZmlnLCB0eXBlIEV4dHJhY3RlZFRheERhdGEgfSBmcm9tIFwiQC9saWIvZG9jdW1lbnQtYWktc2VydmljZVwiXG5cbmV4cG9ydCBjb25zdCBkeW5hbWljID0gXCJmb3JjZS1keW5hbWljXCJcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QoXG4gIHJlcXVlc3Q6IFJlcXVlc3QsXG4gIHsgcGFyYW1zIH06IHsgcGFyYW1zOiB7IGlkOiBzdHJpbmcgfSB9XG4pIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2VydmVyU2Vzc2lvbigpXG4gICAgXG4gICAgaWYgKCFzZXNzaW9uPy51c2VyPy5lbWFpbCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiVW5hdXRob3JpemVkXCIgfSwgeyBzdGF0dXM6IDQwMSB9KVxuICAgIH1cblxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kVW5pcXVlKHtcbiAgICAgIHdoZXJlOiB7IGVtYWlsOiBzZXNzaW9uLnVzZXIuZW1haWwgfVxuICAgIH0pXG5cbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBcIlVzZXIgbm90IGZvdW5kXCIgfSwgeyBzdGF0dXM6IDQwNCB9KVxuICAgIH1cblxuICAgIGNvbnN0IGRvY3VtZW50ID0gYXdhaXQgcHJpc21hLmRvY3VtZW50LmZpbmRGaXJzdCh7XG4gICAgICB3aGVyZTogeyBcbiAgICAgICAgaWQ6IHBhcmFtcy5pZCxcbiAgICAgICAgdGF4UmV0dXJuOiB7XG4gICAgICAgICAgdXNlcklkOiB1c2VyLmlkXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuXG4gICAgaWYgKCFkb2N1bWVudCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiRG9jdW1lbnQgbm90IGZvdW5kXCIgfSwgeyBzdGF0dXM6IDQwNCB9KVxuICAgIH1cblxuICAgIC8vIFVwZGF0ZSBzdGF0dXMgdG8gcHJvY2Vzc2luZ1xuICAgIGF3YWl0IHByaXNtYS5kb2N1bWVudC51cGRhdGUoe1xuICAgICAgd2hlcmU6IHsgaWQ6IHBhcmFtcy5pZCB9LFxuICAgICAgZGF0YTogeyBwcm9jZXNzaW5nU3RhdHVzOiAnUFJPQ0VTU0lORycgfVxuICAgIH0pXG5cbiAgICAvLyBDaGVjayBpZiBHb29nbGUgRG9jdW1lbnQgQUkgaXMgY29uZmlndXJlZFxuICAgIGNvbnN0IHVzZURvY3VtZW50QUkgPSBwcm9jZXNzLmVudi5HT09HTEVfQ0xPVURfUFJPSkVDVF9JRCAmJiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzcy5lbnYuR09PR0xFX0NMT1VEX1cyX1BST0NFU1NPUl9JRCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzLmVudi5HT09HTEVfQVBQTElDQVRJT05fQ1JFREVOVElBTFM7XG5cbiAgICBsZXQgZXh0cmFjdGVkVGF4RGF0YTogRXh0cmFjdGVkVGF4RGF0YTtcblxuICAgIGlmICh1c2VEb2N1bWVudEFJKSB7XG4gICAgICAvLyBVc2UgR29vZ2xlIERvY3VtZW50IEFJXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBjb25maWcgPSBjcmVhdGVEb2N1bWVudEFJQ29uZmlnKCk7XG4gICAgICAgIGNvbnN0IGRvY3VtZW50QUkgPSBuZXcgRG9jdW1lbnRBSVNlcnZpY2UoY29uZmlnKTtcbiAgICAgICAgZXh0cmFjdGVkVGF4RGF0YSA9IGF3YWl0IGRvY3VtZW50QUkucHJvY2Vzc0RvY3VtZW50KGRvY3VtZW50LmZpbGVQYXRoLCBkb2N1bWVudC5kb2N1bWVudFR5cGUpO1xuICAgICAgfSBjYXRjaCAoZG9jQUlFcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdEb2N1bWVudCBBSSBwcm9jZXNzaW5nIGZhaWxlZCwgZmFsbGluZyBiYWNrIHRvIExMTTonLCBkb2NBSUVycm9yKTtcbiAgICAgICAgLy8gRmFsbCBiYWNrIHRvIExMTSBwcm9jZXNzaW5nXG4gICAgICAgIGV4dHJhY3RlZFRheERhdGEgPSBhd2FpdCBwcm9jZXNzV2l0aExMTShkb2N1bWVudCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEZhbGwgYmFjayB0byBMTE0gcHJvY2Vzc2luZ1xuICAgICAgY29uc29sZS5sb2coJ0dvb2dsZSBEb2N1bWVudCBBSSBub3QgY29uZmlndXJlZCwgdXNpbmcgTExNIGZhbGxiYWNrJyk7XG4gICAgICBleHRyYWN0ZWRUYXhEYXRhID0gYXdhaXQgcHJvY2Vzc1dpdGhMTE0oZG9jdW1lbnQpO1xuICAgIH1cblxuICAgIC8vIENyZWF0ZSBzdHJlYW1pbmcgcmVzcG9uc2UgdG8gbWFpbnRhaW4gZnJvbnRlbmQgY29tcGF0aWJpbGl0eVxuICAgIGNvbnN0IGVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoKVxuICAgIGNvbnN0IHJlYWRhYmxlID0gbmV3IFJlYWRhYmxlU3RyZWFtKHtcbiAgICAgIGFzeW5jIHN0YXJ0KGNvbnRyb2xsZXIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBTaW11bGF0ZSBzdHJlYW1pbmcgYnkgc2VuZGluZyB0aGUgY29tcGxldGUgcmVzcG9uc2UgaW4gY2h1bmtzXG4gICAgICAgICAgY29uc3QganNvblJlc3BvbnNlID0gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgZG9jdW1lbnRUeXBlOiBleHRyYWN0ZWRUYXhEYXRhLmRvY3VtZW50VHlwZSxcbiAgICAgICAgICAgIG9jclRleHQ6IGV4dHJhY3RlZFRheERhdGEub2NyVGV4dCxcbiAgICAgICAgICAgIGV4dHJhY3RlZERhdGE6IGV4dHJhY3RlZFRheERhdGEuZXh0cmFjdGVkRGF0YVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gU2VuZCByZXNwb25zZSBpbiBjaHVua3MgdG8gc2ltdWxhdGUgc3RyZWFtaW5nXG4gICAgICAgICAgY29uc3QgY2h1bmtTaXplID0gMTAwO1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwganNvblJlc3BvbnNlLmxlbmd0aDsgaSArPSBjaHVua1NpemUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNodW5rID0ganNvblJlc3BvbnNlLnNsaWNlKGksIGkgKyBjaHVua1NpemUpO1xuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGVuY29kZXIuZW5jb2RlKGBkYXRhOiAke0pTT04uc3RyaW5naWZ5KHtjb250ZW50OiBjaHVua30pfVxcblxcbmApKTtcbiAgICAgICAgICAgIC8vIFNtYWxsIGRlbGF5IHRvIHNpbXVsYXRlIHByb2Nlc3NpbmcgdGltZVxuICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDUwKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gU2F2ZSBPQ1IgdGV4dCBhbmQgZXh0cmFjdGVkIGRhdGEgdG8gZGF0YWJhc2VcbiAgICAgICAgICBhd2FpdCBwcmlzbWEuZG9jdW1lbnQudXBkYXRlKHtcbiAgICAgICAgICAgIHdoZXJlOiB7IGlkOiBwYXJhbXMuaWQgfSxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgb2NyVGV4dDogZXh0cmFjdGVkVGF4RGF0YS5vY3JUZXh0LFxuICAgICAgICAgICAgICBleHRyYWN0ZWREYXRhOiB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnRUeXBlOiBleHRyYWN0ZWRUYXhEYXRhLmRvY3VtZW50VHlwZSxcbiAgICAgICAgICAgICAgICBvY3JUZXh0OiBleHRyYWN0ZWRUYXhEYXRhLm9jclRleHQsXG4gICAgICAgICAgICAgICAgZXh0cmFjdGVkRGF0YTogZXh0cmFjdGVkVGF4RGF0YS5leHRyYWN0ZWREYXRhLFxuICAgICAgICAgICAgICAgIGNvbmZpZGVuY2U6IGV4dHJhY3RlZFRheERhdGEuY29uZmlkZW5jZVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBwcm9jZXNzaW5nU3RhdHVzOiAnQ09NUExFVEVEJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoZW5jb2Rlci5lbmNvZGUoJ2RhdGE6IFtET05FXVxcblxcbicpKVxuICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIHN0cmVhbWluZyByZXNwb25zZTonLCBlcnJvcilcbiAgICAgICAgICBhd2FpdCBwcmlzbWEuZG9jdW1lbnQudXBkYXRlKHtcbiAgICAgICAgICAgIHdoZXJlOiB7IGlkOiBwYXJhbXMuaWQgfSxcbiAgICAgICAgICAgIGRhdGE6IHsgcHJvY2Vzc2luZ1N0YXR1czogJ0ZBSUxFRCcgfVxuICAgICAgICAgIH0pXG4gICAgICAgICAgY29udHJvbGxlci5lcnJvcihlcnJvcilcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG5cbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKHJlYWRhYmxlLCB7XG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAndGV4dC9wbGFpbjsgY2hhcnNldD11dGYtOCcsXG4gICAgICAgICdDYWNoZS1Db250cm9sJzogJ25vLWNhY2hlJyxcbiAgICAgIH0sXG4gICAgfSlcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJEb2N1bWVudCBwcm9jZXNzaW5nIGVycm9yOlwiLCBlcnJvcilcbiAgICBcbiAgICAvLyBVcGRhdGUgZG9jdW1lbnQgc3RhdHVzIHRvIGZhaWxlZFxuICAgIGF3YWl0IHByaXNtYS5kb2N1bWVudC51cGRhdGUoe1xuICAgICAgd2hlcmU6IHsgaWQ6IHBhcmFtcy5pZCB9LFxuICAgICAgZGF0YTogeyBwcm9jZXNzaW5nU3RhdHVzOiAnRkFJTEVEJyB9XG4gICAgfSlcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6IFwiSW50ZXJuYWwgc2VydmVyIGVycm9yXCIgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgIClcbiAgfVxufVxuXG4vLyBGYWxsYmFjayBMTE0gcHJvY2Vzc2luZyBmdW5jdGlvblxuYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc1dpdGhMTE0oZG9jdW1lbnQ6IGFueSk6IFByb21pc2U8RXh0cmFjdGVkVGF4RGF0YT4ge1xuICBjb25zdCB7IHJlYWRGaWxlIH0gPSBhd2FpdCBpbXBvcnQoXCJmcy9wcm9taXNlc1wiKTtcbiAgXG4gIC8vIFJlYWQgdGhlIGZpbGUgYW5kIGNvbnZlcnQgdG8gYmFzZTY0XG4gIGNvbnN0IGZpbGVCdWZmZXIgPSBhd2FpdCByZWFkRmlsZShkb2N1bWVudC5maWxlUGF0aClcbiAgY29uc3QgYmFzZTY0U3RyaW5nID0gZmlsZUJ1ZmZlci50b1N0cmluZygnYmFzZTY0JylcbiAgXG4gIC8vIFByZXBhcmUgdGhlIG1lc3NhZ2UgZm9yIHRoZSBMTE0gQVBJXG4gIGNvbnN0IG1lc3NhZ2VzID0gW3tcbiAgICByb2xlOiBcInVzZXJcIiBhcyBjb25zdCxcbiAgICBjb250ZW50OiBbXG4gICAgICB7XG4gICAgICAgIHR5cGU6IFwiZmlsZVwiLFxuICAgICAgICBmaWxlOiB7XG4gICAgICAgICAgZmlsZW5hbWU6IGRvY3VtZW50LmZpbGVOYW1lLFxuICAgICAgICAgIGZpbGVfZGF0YTogYGRhdGE6JHtkb2N1bWVudC5maWxlVHlwZX07YmFzZTY0LCR7YmFzZTY0U3RyaW5nfWBcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgIHRleHQ6IGdldEV4dHJhY3Rpb25Qcm9tcHQoZG9jdW1lbnQuZG9jdW1lbnRUeXBlKVxuICAgICAgfVxuICAgIF1cbiAgfV1cblxuICAvLyBDYWxsIHRoZSBMTE0gQVBJIGZvciBkb2N1bWVudCBwcm9jZXNzaW5nXG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vYXBwcy5hYmFjdXMuYWkvdjEvY2hhdC9jb21wbGV0aW9ucycsIHtcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBoZWFkZXJzOiB7XG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7cHJvY2Vzcy5lbnYuQUJBQ1VTQUlfQVBJX0tFWX1gXG4gICAgfSxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICBtb2RlbDogJ2dwdC00LjEtbWluaScsXG4gICAgICBtZXNzYWdlczogbWVzc2FnZXMsXG4gICAgICBzdHJlYW06IGZhbHNlLCAvLyBEb24ndCBzdHJlYW0gZm9yIGZhbGxiYWNrXG4gICAgICBtYXhfdG9rZW5zOiAzMDAwLFxuICAgICAgcmVzcG9uc2VfZm9ybWF0OiB7IHR5cGU6IFwianNvbl9vYmplY3RcIiB9XG4gICAgfSksXG4gIH0pXG5cbiAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgIHRocm93IG5ldyBFcnJvcihgTExNIEFQSSBlcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9YClcbiAgfVxuXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxuICBjb25zdCBjb250ZW50ID0gcmVzdWx0LmNob2ljZXNbMF0/Lm1lc3NhZ2U/LmNvbnRlbnRcblxuICBpZiAoIWNvbnRlbnQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGNvbnRlbnQgcmV0dXJuZWQgZnJvbSBMTE0gQVBJJylcbiAgfVxuXG4gIGNvbnN0IHBhcnNlZENvbnRlbnQgPSBKU09OLnBhcnNlKGNvbnRlbnQpXG4gIFxuICByZXR1cm4ge1xuICAgIGRvY3VtZW50VHlwZTogcGFyc2VkQ29udGVudC5kb2N1bWVudFR5cGUgfHwgZG9jdW1lbnQuZG9jdW1lbnRUeXBlLFxuICAgIG9jclRleHQ6IHBhcnNlZENvbnRlbnQub2NyVGV4dCB8fCAnJyxcbiAgICBleHRyYWN0ZWREYXRhOiBwYXJzZWRDb250ZW50LmV4dHJhY3RlZERhdGEgfHwgcGFyc2VkQ29udGVudCxcbiAgICBjb25maWRlbmNlOiAwLjg1IC8vIERlZmF1bHQgY29uZmlkZW5jZSBmb3IgTExNXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0RXh0cmFjdGlvblByb21wdChkb2N1bWVudFR5cGU6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IGJhc2VQcm9tcHQgPSBgUGxlYXNlIGV4dHJhY3QgYWxsIHRheC1yZWxhdGVkIGluZm9ybWF0aW9uIGZyb20gdGhpcyBkb2N1bWVudCBhbmQgcmV0dXJuIGl0IGluIEpTT04gZm9ybWF0LiBGb2N1cyBvbiBleHRyYWN0aW5nIGRhdGEgdGhhdCB3b3VsZCBiZSB1c2VmdWwgZm9yIHRheCBmaWxpbmcgcHVycG9zZXMuXG5cblBsZWFzZSByZXNwb25kIGluIEpTT04gZm9ybWF0IHdpdGggdGhlIGZvbGxvd2luZyBzdHJ1Y3R1cmU6XG57XG4gIFwiZG9jdW1lbnRUeXBlXCI6IFwiVzJcIiB8IFwiRk9STV8xMDk5X0lOVFwiIHwgXCJGT1JNXzEwOTlfRElWXCIgfCBcIkZPUk1fMTA5OV9NSVNDXCIgfCBcIkZPUk1fMTA5OV9ORUNcIiB8IFwiRk9STV8xMDk5X1JcIiB8IFwiRk9STV8xMDk5X0dcIiB8IFwiT1RIRVJfVEFYX0RPQ1VNRU5UXCIsXG4gIFwib2NyVGV4dFwiOiBcIkZ1bGwgT0NSIHRleHQgZnJvbSB0aGUgZG9jdW1lbnRcIixcbiAgXCJleHRyYWN0ZWREYXRhXCI6IHtcbiAgICAvLyBEb2N1bWVudC1zcGVjaWZpYyBmaWVsZHMgYmFzZWQgb24gZG9jdW1lbnQgdHlwZVxuICB9XG59XG5cbmBcblxuICBzd2l0Y2ggKGRvY3VtZW50VHlwZSkge1xuICAgIGNhc2UgJ1cyJzpcbiAgICAgIHJldHVybiBiYXNlUHJvbXB0ICsgYEZvciBXLTIgZm9ybXMsIGV4dHJhY3Q6XG57XG4gIFwiZG9jdW1lbnRUeXBlXCI6IFwiVzJcIixcbiAgXCJvY3JUZXh0XCI6IFwiRnVsbCBPQ1IgdGV4dFwiLFxuICBcImV4dHJhY3RlZERhdGFcIjoge1xuICAgIFwiZW1wbG95ZXJOYW1lXCI6IFwiRW1wbG95ZXIgbmFtZVwiLFxuICAgIFwiZW1wbG95ZXJFSU5cIjogXCJFbXBsb3llciBFSU4gKFhYLVhYWFhYWFggZm9ybWF0KVwiLFxuICAgIFwiZW1wbG95ZXJBZGRyZXNzXCI6IFwiRW1wbG95ZXIgYWRkcmVzc1wiLFxuICAgIFwiZW1wbG95ZWVOYW1lXCI6IFwiRW1wbG95ZWUgbmFtZVwiLFxuICAgIFwiZW1wbG95ZWVTU05cIjogXCJFbXBsb3llZSBTU05cIixcbiAgICBcImVtcGxveWVlQWRkcmVzc1wiOiBcIkVtcGxveWVlIGFkZHJlc3NcIixcbiAgICBcIndhZ2VzXCI6IFwiQm94IDEgLSBXYWdlcywgdGlwcywgb3RoZXIgY29tcGVuc2F0aW9uXCIsXG4gICAgXCJmZWRlcmFsVGF4V2l0aGhlbGRcIjogXCJCb3ggMiAtIEZlZGVyYWwgaW5jb21lIHRheCB3aXRoaGVsZFwiLFxuICAgIFwic29jaWFsU2VjdXJpdHlXYWdlc1wiOiBcIkJveCAzIC0gU29jaWFsIHNlY3VyaXR5IHdhZ2VzXCIsXG4gICAgXCJzb2NpYWxTZWN1cml0eVRheFdpdGhoZWxkXCI6IFwiQm94IDQgLSBTb2NpYWwgc2VjdXJpdHkgdGF4IHdpdGhoZWxkXCIsXG4gICAgXCJtZWRpY2FyZVdhZ2VzXCI6IFwiQm94IDUgLSBNZWRpY2FyZSB3YWdlcyBhbmQgdGlwc1wiLFxuICAgIFwibWVkaWNhcmVUYXhXaXRoaGVsZFwiOiBcIkJveCA2IC0gTWVkaWNhcmUgdGF4IHdpdGhoZWxkXCIsXG4gICAgXCJzb2NpYWxTZWN1cml0eVRpcHNcIjogXCJCb3ggNyAtIFNvY2lhbCBzZWN1cml0eSB0aXBzXCIsXG4gICAgXCJhbGxvY2F0ZWRUaXBzXCI6IFwiQm94IDggLSBBbGxvY2F0ZWQgdGlwc1wiLFxuICAgIFwic3RhdGVXYWdlc1wiOiBcIkJveCAxNiAtIFN0YXRlIHdhZ2VzLCB0aXBzLCBldGMuXCIsXG4gICAgXCJzdGF0ZVRheFdpdGhoZWxkXCI6IFwiQm94IDE3IC0gU3RhdGUgaW5jb21lIHRheFwiLFxuICAgIFwibG9jYWxXYWdlc1wiOiBcIkJveCAxOCAtIExvY2FsIHdhZ2VzLCB0aXBzLCBldGMuXCIsXG4gICAgXCJsb2NhbFRheFdpdGhoZWxkXCI6IFwiQm94IDE5IC0gTG9jYWwgaW5jb21lIHRheFwiXG4gIH1cbn1gXG5cbiAgICBjYXNlICdGT1JNXzEwOTlfSU5UJzpcbiAgICAgIHJldHVybiBiYXNlUHJvbXB0ICsgYEZvciAxMDk5LUlOVCBmb3JtcywgZXh0cmFjdDpcbntcbiAgXCJkb2N1bWVudFR5cGVcIjogXCJGT1JNXzEwOTlfSU5UXCIsXG4gIFwib2NyVGV4dFwiOiBcIkZ1bGwgT0NSIHRleHRcIixcbiAgXCJleHRyYWN0ZWREYXRhXCI6IHtcbiAgICBcInBheWVyTmFtZVwiOiBcIlBheWVyIG5hbWVcIixcbiAgICBcInBheWVyVElOXCI6IFwiUGF5ZXIgVElOXCIsXG4gICAgXCJwYXllckFkZHJlc3NcIjogXCJQYXllciBhZGRyZXNzXCIsXG4gICAgXCJyZWNpcGllbnROYW1lXCI6IFwiUmVjaXBpZW50IG5hbWVcIixcbiAgICBcInJlY2lwaWVudFRJTlwiOiBcIlJlY2lwaWVudCBUSU5cIixcbiAgICBcInJlY2lwaWVudEFkZHJlc3NcIjogXCJSZWNpcGllbnQgYWRkcmVzc1wiLFxuICAgIFwiaW50ZXJlc3RJbmNvbWVcIjogXCJCb3ggMSAtIEludGVyZXN0IGluY29tZVwiLFxuICAgIFwiZWFybHlXaXRoZHJhd2FsUGVuYWx0eVwiOiBcIkJveCAyIC0gRWFybHkgd2l0aGRyYXdhbCBwZW5hbHR5XCIsXG4gICAgXCJpbnRlcmVzdE9uVVNhdmluZ3NCb25kc1wiOiBcIkJveCAzIC0gSW50ZXJlc3Qgb24gVS5TLiBTYXZpbmdzIEJvbmRzXCIsXG4gICAgXCJmZWRlcmFsVGF4V2l0aGhlbGRcIjogXCJCb3ggNCAtIEZlZGVyYWwgaW5jb21lIHRheCB3aXRoaGVsZFwiLFxuICAgIFwiaW52ZXN0bWVudEV4cGVuc2VzXCI6IFwiQm94IDUgLSBJbnZlc3RtZW50IGV4cGVuc2VzXCIsXG4gICAgXCJmb3JlaWduVGF4UGFpZFwiOiBcIkJveCA2IC0gRm9yZWlnbiB0YXggcGFpZFwiLFxuICAgIFwiZm9yZWlnbkNvdW50cnlcIjogXCJCb3ggNyAtIEZvcmVpZ24gY291bnRyeVwiLFxuICAgIFwidGF4RXhlbXB0SW50ZXJlc3RcIjogXCJCb3ggOCAtIFRheC1leGVtcHQgaW50ZXJlc3RcIixcbiAgICBcInByaXZhdGVBY3Rpdml0eUJvbmRJbnRlcmVzdFwiOiBcIkJveCA5IC0gU3BlY2lmaWVkIHByaXZhdGUgYWN0aXZpdHkgYm9uZCBpbnRlcmVzdFwiLFxuICAgIFwibWFya2V0RGlzY291bnRcIjogXCJCb3ggMTAgLSBNYXJrZXQgZGlzY291bnRcIixcbiAgICBcImJvbmRQcmVtaXVtXCI6IFwiQm94IDExIC0gQm9uZCBwcmVtaXVtXCIsXG4gICAgXCJib25kUHJlbWl1bU9uVGF4RXhlbXB0Qm9uZFwiOiBcIkJveCAxMiAtIEJvbmQgcHJlbWl1bSBvbiB0YXgtZXhlbXB0IGJvbmRcIixcbiAgICBcInN0YXRlQ29kZVwiOiBcIkJveCAxMyAtIFN0YXRlIGNvZGVcIixcbiAgICBcInN0YXRlVGF4V2l0aGhlbGRcIjogXCJCb3ggMTQgLSBTdGF0ZSBpbmNvbWUgdGF4IHdpdGhoZWxkXCIsXG4gICAgXCJzdGF0ZUlkTnVtYmVyXCI6IFwiQm94IDE1IC0gU3RhdGUvUGF5ZXIncyBzdGF0ZSBuby5cIlxuICB9XG59YFxuXG4gICAgY2FzZSAnRk9STV8xMDk5X0RJVic6XG4gICAgICByZXR1cm4gYmFzZVByb21wdCArIGBGb3IgMTA5OS1ESVYgZm9ybXMsIGV4dHJhY3Q6XG57XG4gIFwiZG9jdW1lbnRUeXBlXCI6IFwiRk9STV8xMDk5X0RJVlwiLFxuICBcIm9jclRleHRcIjogXCJGdWxsIE9DUiB0ZXh0XCIsXG4gIFwiZXh0cmFjdGVkRGF0YVwiOiB7XG4gICAgXCJwYXllck5hbWVcIjogXCJQYXllciBuYW1lXCIsXG4gICAgXCJwYXllclRJTlwiOiBcIlBheWVyIFRJTlwiLFxuICAgIFwicGF5ZXJBZGRyZXNzXCI6IFwiUGF5ZXIgYWRkcmVzc1wiLFxuICAgIFwicmVjaXBpZW50TmFtZVwiOiBcIlJlY2lwaWVudCBuYW1lXCIsXG4gICAgXCJyZWNpcGllbnRUSU5cIjogXCJSZWNpcGllbnQgVElOXCIsXG4gICAgXCJyZWNpcGllbnRBZGRyZXNzXCI6IFwiUmVjaXBpZW50IGFkZHJlc3NcIixcbiAgICBcIm9yZGluYXJ5RGl2aWRlbmRzXCI6IFwiQm94IDFhIC0gT3JkaW5hcnkgZGl2aWRlbmRzXCIsXG4gICAgXCJxdWFsaWZpZWREaXZpZGVuZHNcIjogXCJCb3ggMWIgLSBRdWFsaWZpZWQgZGl2aWRlbmRzXCIsXG4gICAgXCJ0b3RhbENhcGl0YWxHYWluXCI6IFwiQm94IDJhIC0gVG90YWwgY2FwaXRhbCBnYWluIGRpc3RyaWJ1dGlvbnNcIixcbiAgICBcInVucmVjYXB0dXJlZDEyNTBHYWluXCI6IFwiQm94IDJiIC0gVW5yZWNhcC4gU2VjLiAxMjUwIGdhaW5cIixcbiAgICBcInNlY3Rpb24xMjAyR2FpblwiOiBcIkJveCAyYyAtIFNlY3Rpb24gMTIwMiBnYWluXCIsXG4gICAgXCJjb2xsZWN0aWJsZXNHYWluXCI6IFwiQm94IDJkIC0gQ29sbGVjdGlibGVzICgyOCUpIGdhaW5cIixcbiAgICBcIm5vbmRpdmlkZW5kRGlzdHJpYnV0aW9uc1wiOiBcIkJveCAzIC0gTm9uZGl2aWRlbmQgZGlzdHJpYnV0aW9uc1wiLFxuICAgIFwiZmVkZXJhbFRheFdpdGhoZWxkXCI6IFwiQm94IDQgLSBGZWRlcmFsIGluY29tZSB0YXggd2l0aGhlbGRcIixcbiAgICBcInNlY3Rpb24xOTlBRGl2aWRlbmRzXCI6IFwiQm94IDUgLSBTZWN0aW9uIDE5OUEgZGl2aWRlbmRzXCIsXG4gICAgXCJpbnZlc3RtZW50RXhwZW5zZXNcIjogXCJCb3ggNiAtIEludmVzdG1lbnQgZXhwZW5zZXNcIixcbiAgICBcImZvcmVpZ25UYXhQYWlkXCI6IFwiQm94IDcgLSBGb3JlaWduIHRheCBwYWlkXCIsXG4gICAgXCJmb3JlaWduQ291bnRyeVwiOiBcIkJveCA4IC0gRm9yZWlnbiBjb3VudHJ5XCIsXG4gICAgXCJjYXNoTGlxdWlkYXRpb25cIjogXCJCb3ggOSAtIENhc2ggbGlxdWlkYXRpb24gZGlzdHJpYnV0aW9uc1wiLFxuICAgIFwibm9uY2FzaExpcXVpZGF0aW9uXCI6IFwiQm94IDEwIC0gTm9uY2FzaCBsaXF1aWRhdGlvbiBkaXN0cmlidXRpb25zXCIsXG4gICAgXCJzdGF0ZUNvZGVcIjogXCJCb3ggMTEgLSBTdGF0ZSBjb2RlXCIsXG4gICAgXCJzdGF0ZVRheFdpdGhoZWxkXCI6IFwiQm94IDEyIC0gU3RhdGUgaW5jb21lIHRheCB3aXRoaGVsZFwiLFxuICAgIFwic3RhdGVJZE51bWJlclwiOiBcIkJveCAxMyAtIFN0YXRlL1BheWVyJ3Mgc3RhdGUgbm8uXCJcbiAgfVxufWBcblxuICAgIGNhc2UgJ0ZPUk1fMTA5OV9NSVNDJzpcbiAgICAgIHJldHVybiBiYXNlUHJvbXB0ICsgYEZvciAxMDk5LU1JU0MgZm9ybXMsIGV4dHJhY3Q6XG57XG4gIFwiZG9jdW1lbnRUeXBlXCI6IFwiRk9STV8xMDk5X01JU0NcIixcbiAgXCJvY3JUZXh0XCI6IFwiRnVsbCBPQ1IgdGV4dFwiLFxuICBcImV4dHJhY3RlZERhdGFcIjoge1xuICAgIFwicGF5ZXJOYW1lXCI6IFwiUGF5ZXIgbmFtZVwiLFxuICAgIFwicGF5ZXJUSU5cIjogXCJQYXllciBUSU5cIixcbiAgICBcInBheWVyQWRkcmVzc1wiOiBcIlBheWVyIGFkZHJlc3NcIixcbiAgICBcInJlY2lwaWVudE5hbWVcIjogXCJSZWNpcGllbnQgbmFtZVwiLFxuICAgIFwicmVjaXBpZW50VElOXCI6IFwiUmVjaXBpZW50IFRJTlwiLFxuICAgIFwicmVjaXBpZW50QWRkcmVzc1wiOiBcIlJlY2lwaWVudCBhZGRyZXNzXCIsXG4gICAgXCJyZW50c1wiOiBcIkJveCAxIC0gUmVudHNcIixcbiAgICBcInJveWFsdGllc1wiOiBcIkJveCAyIC0gUm95YWx0aWVzXCIsXG4gICAgXCJvdGhlckluY29tZVwiOiBcIkJveCAzIC0gT3RoZXIgaW5jb21lXCIsXG4gICAgXCJmZWRlcmFsVGF4V2l0aGhlbGRcIjogXCJCb3ggNCAtIEZlZGVyYWwgaW5jb21lIHRheCB3aXRoaGVsZFwiLFxuICAgIFwiZmlzaGluZ0JvYXRQcm9jZWVkc1wiOiBcIkJveCA1IC0gRmlzaGluZyBib2F0IHByb2NlZWRzXCIsXG4gICAgXCJtZWRpY2FsSGVhbHRoUGF5bWVudHNcIjogXCJCb3ggNiAtIE1lZGljYWwgYW5kIGhlYWx0aCBjYXJlIHBheW1lbnRzXCIsXG4gICAgXCJub25lbXBsb3llZUNvbXBlbnNhdGlvblwiOiBcIkJveCA3IC0gTm9uZW1wbG95ZWUgY29tcGVuc2F0aW9uXCIsXG4gICAgXCJzdWJzdGl0dXRlUGF5bWVudHNcIjogXCJCb3ggOCAtIFN1YnN0aXR1dGUgcGF5bWVudHMgaW4gbGlldSBvZiBkaXZpZGVuZHNcIixcbiAgICBcImNyb3BJbnN1cmFuY2VQcm9jZWVkc1wiOiBcIkJveCA5IC0gQ3JvcCBpbnN1cmFuY2UgcHJvY2VlZHNcIixcbiAgICBcImdyb3NzUHJvY2VlZHNcIjogXCJCb3ggMTAgLSBHcm9zcyBwcm9jZWVkcyBwYWlkIHRvIGFuIGF0dG9ybmV5XCIsXG4gICAgXCJzZWN0aW9uNDA5QURlZmVycmFsc1wiOiBcIkJveCAxMSAtIFNlY3Rpb24gNDA5QSBkZWZlcnJhbHNcIixcbiAgICBcInNlY3Rpb240MDlBSW5jb21lXCI6IFwiQm94IDEyIC0gU2VjdGlvbiA0MDlBIGluY29tZVwiLFxuICAgIFwiZXhjZXNzR29sZGVuUGFyYWNodXRlXCI6IFwiQm94IDEzIC0gRXhjZXNzIGdvbGRlbiBwYXJhY2h1dGUgcGF5bWVudHNcIixcbiAgICBcIm5vbnF1YWxpZmllZERlZmVycmVkQ29tcGVuc2F0aW9uXCI6IFwiQm94IDE0IC0gTm9ucXVhbGlmaWVkIGRlZmVycmVkIGNvbXBlbnNhdGlvblwiLFxuICAgIFwic3RhdGVDb2RlXCI6IFwiQm94IDE1IC0gU3RhdGUgY29kZVwiLFxuICAgIFwic3RhdGVUYXhXaXRoaGVsZFwiOiBcIkJveCAxNiAtIFN0YXRlIGluY29tZSB0YXggd2l0aGhlbGRcIixcbiAgICBcInN0YXRlSWROdW1iZXJcIjogXCJCb3ggMTcgLSBTdGF0ZS9QYXllcidzIHN0YXRlIG5vLlwiXG4gIH1cbn1gXG5cbiAgICBjYXNlICdGT1JNXzEwOTlfTkVDJzpcbiAgICAgIHJldHVybiBiYXNlUHJvbXB0ICsgYEZvciAxMDk5LU5FQyBmb3JtcywgZXh0cmFjdDpcbntcbiAgXCJkb2N1bWVudFR5cGVcIjogXCJGT1JNXzEwOTlfTkVDXCIsXG4gIFwib2NyVGV4dFwiOiBcIkZ1bGwgT0NSIHRleHRcIixcbiAgXCJleHRyYWN0ZWREYXRhXCI6IHtcbiAgICBcInBheWVyTmFtZVwiOiBcIlBheWVyIG5hbWVcIixcbiAgICBcInBheWVyVElOXCI6IFwiUGF5ZXIgVElOXCIsXG4gICAgXCJwYXllckFkZHJlc3NcIjogXCJQYXllciBhZGRyZXNzXCIsXG4gICAgXCJyZWNpcGllbnROYW1lXCI6IFwiUmVjaXBpZW50IG5hbWVcIixcbiAgICBcInJlY2lwaWVudFRJTlwiOiBcIlJlY2lwaWVudCBUSU5cIixcbiAgICBcInJlY2lwaWVudEFkZHJlc3NcIjogXCJSZWNpcGllbnQgYWRkcmVzc1wiLFxuICAgIFwibm9uZW1wbG95ZWVDb21wZW5zYXRpb25cIjogXCJCb3ggMSAtIE5vbmVtcGxveWVlIGNvbXBlbnNhdGlvblwiLFxuICAgIFwiZmVkZXJhbFRheFdpdGhoZWxkXCI6IFwiQm94IDQgLSBGZWRlcmFsIGluY29tZSB0YXggd2l0aGhlbGRcIixcbiAgICBcInN0YXRlQ29kZVwiOiBcIkJveCA1IC0gU3RhdGUgY29kZVwiLFxuICAgIFwic3RhdGVUYXhXaXRoaGVsZFwiOiBcIkJveCA2IC0gU3RhdGUgaW5jb21lIHRheCB3aXRoaGVsZFwiLFxuICAgIFwic3RhdGVJZE51bWJlclwiOiBcIkJveCA3IC0gU3RhdGUvUGF5ZXIncyBzdGF0ZSBuby5cIlxuICB9XG59YFxuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBiYXNlUHJvbXB0ICsgYEZvciBvdGhlciB0YXggZG9jdW1lbnRzLCBleHRyYWN0IHJlbGV2YW50IGluZm9ybWF0aW9uIGluY2x1ZGluZzpcbntcbiAgXCJkb2N1bWVudFR5cGVcIjogXCJPVEhFUl9UQVhfRE9DVU1FTlRcIixcbiAgXCJvY3JUZXh0XCI6IFwiRnVsbCBPQ1IgdGV4dFwiLFxuICBcImV4dHJhY3RlZERhdGFcIjoge1xuICAgIFwicGF5ZXJOYW1lXCI6IFwiUGF5ZXIvRW1wbG95ZXIgbmFtZSBpZiBhcHBsaWNhYmxlXCIsXG4gICAgXCJwYXllclRJTlwiOiBcIlBheWVyL0VtcGxveWVyIFRJTiBpZiBhcHBsaWNhYmxlXCIsXG4gICAgXCJyZWNpcGllbnROYW1lXCI6IFwiUmVjaXBpZW50L0VtcGxveWVlIG5hbWUgaWYgYXBwbGljYWJsZVwiLFxuICAgIFwicmVjaXBpZW50VElOXCI6IFwiUmVjaXBpZW50L0VtcGxveWVlIFRJTiBpZiBhcHBsaWNhYmxlXCIsXG4gICAgXCJpbmNvbWVBbW91bnRcIjogXCJBbnkgaW5jb21lIGFtb3VudHNcIixcbiAgICBcInRheFdpdGhoZWxkXCI6IFwiQW55IHRheCB3aXRoaGVsZCBhbW91bnRzXCIsXG4gICAgXCJyZWxldmFudEJveGVzXCI6IFwiQW55IG90aGVyIHJlbGV2YW50IHRheCBpbmZvcm1hdGlvblwiXG4gIH1cbn1cblxuUmVzcG9uZCB3aXRoIHJhdyBKU09OIG9ubHkuIERvIG5vdCBpbmNsdWRlIGNvZGUgYmxvY2tzLCBtYXJrZG93biwgb3IgYW55IG90aGVyIGZvcm1hdHRpbmcuYFxuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiZ2V0U2VydmVyU2Vzc2lvbiIsInByaXNtYSIsIkRvY3VtZW50QUlTZXJ2aWNlIiwiY3JlYXRlRG9jdW1lbnRBSUNvbmZpZyIsImR5bmFtaWMiLCJQT1NUIiwicmVxdWVzdCIsInBhcmFtcyIsInNlc3Npb24iLCJ1c2VyIiwiZW1haWwiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJkb2N1bWVudCIsImZpbmRGaXJzdCIsImlkIiwidGF4UmV0dXJuIiwidXNlcklkIiwidXBkYXRlIiwiZGF0YSIsInByb2Nlc3NpbmdTdGF0dXMiLCJ1c2VEb2N1bWVudEFJIiwicHJvY2VzcyIsImVudiIsIkdPT0dMRV9DTE9VRF9QUk9KRUNUX0lEIiwiR09PR0xFX0NMT1VEX1cyX1BST0NFU1NPUl9JRCIsIkdPT0dMRV9BUFBMSUNBVElPTl9DUkVERU5USUFMUyIsImV4dHJhY3RlZFRheERhdGEiLCJjb25maWciLCJkb2N1bWVudEFJIiwicHJvY2Vzc0RvY3VtZW50IiwiZmlsZVBhdGgiLCJkb2N1bWVudFR5cGUiLCJkb2NBSUVycm9yIiwiY29uc29sZSIsInByb2Nlc3NXaXRoTExNIiwibG9nIiwiZW5jb2RlciIsIlRleHRFbmNvZGVyIiwicmVhZGFibGUiLCJSZWFkYWJsZVN0cmVhbSIsInN0YXJ0IiwiY29udHJvbGxlciIsImpzb25SZXNwb25zZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvY3JUZXh0IiwiZXh0cmFjdGVkRGF0YSIsImNodW5rU2l6ZSIsImkiLCJsZW5ndGgiLCJjaHVuayIsInNsaWNlIiwiZW5xdWV1ZSIsImVuY29kZSIsImNvbnRlbnQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJjb25maWRlbmNlIiwiY2xvc2UiLCJSZXNwb25zZSIsImhlYWRlcnMiLCJyZWFkRmlsZSIsImZpbGVCdWZmZXIiLCJiYXNlNjRTdHJpbmciLCJ0b1N0cmluZyIsIm1lc3NhZ2VzIiwicm9sZSIsInR5cGUiLCJmaWxlIiwiZmlsZW5hbWUiLCJmaWxlTmFtZSIsImZpbGVfZGF0YSIsImZpbGVUeXBlIiwidGV4dCIsImdldEV4dHJhY3Rpb25Qcm9tcHQiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiQUJBQ1VTQUlfQVBJX0tFWSIsImJvZHkiLCJtb2RlbCIsInN0cmVhbSIsIm1heF90b2tlbnMiLCJyZXNwb25zZV9mb3JtYXQiLCJvayIsIkVycm9yIiwicmVzdWx0IiwiY2hvaWNlcyIsIm1lc3NhZ2UiLCJwYXJzZWRDb250ZW50IiwicGFyc2UiLCJiYXNlUHJvbXB0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/documents/[id]/process/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db.ts":
/*!*******************!*\
  !*** ./lib/db.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = globalThis;\nconst prisma = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nif (true) globalForPrisma.prisma = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTZDO0FBRTdDLE1BQU1DLGtCQUFrQkM7QUFJakIsTUFBTUMsU0FBU0YsZ0JBQWdCRSxNQUFNLElBQUksSUFBSUgsd0RBQVlBLEdBQUU7QUFFbEUsSUFBSUksSUFBeUIsRUFBY0gsZ0JBQWdCRSxNQUFNLEdBQUdBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbGliL2RiLnRzPzFkZjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSAnQHByaXNtYS9jbGllbnQnXG5cbmNvbnN0IGdsb2JhbEZvclByaXNtYSA9IGdsb2JhbFRoaXMgYXMgdW5rbm93biBhcyB7XG4gIHByaXNtYTogUHJpc21hQ2xpZW50IHwgdW5kZWZpbmVkXG59XG5cbmV4cG9ydCBjb25zdCBwcmlzbWEgPSBnbG9iYWxGb3JQcmlzbWEucHJpc21hID8/IG5ldyBQcmlzbWFDbGllbnQoKVxuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgZ2xvYmFsRm9yUHJpc21hLnByaXNtYSA9IHByaXNtYVxuIl0sIm5hbWVzIjpbIlByaXNtYUNsaWVudCIsImdsb2JhbEZvclByaXNtYSIsImdsb2JhbFRoaXMiLCJwcmlzbWEiLCJwcm9jZXNzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.ts\n");

/***/ }),

/***/ "(rsc)/./lib/document-ai-service.ts":
/*!************************************!*\
  !*** ./lib/document-ai-service.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DocumentAIService: () => (/* binding */ DocumentAIService),\n/* harmony export */   createDocumentAIConfig: () => (/* binding */ createDocumentAIConfig)\n/* harmony export */ });\n/* harmony import */ var _google_cloud_documentai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @google-cloud/documentai */ \"(rsc)/./node_modules/@google-cloud/documentai/build/src/index.js\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs/promises */ \"fs/promises\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs_promises__WEBPACK_IMPORTED_MODULE_1__);\n\n\nclass DocumentAIService {\n    constructor(config){\n        this.config = config;\n        // Initialize the client - will use GOOGLE_APPLICATION_CREDENTIALS env var\n        this.client = new _google_cloud_documentai__WEBPACK_IMPORTED_MODULE_0__.DocumentProcessorServiceClient({\n            // Use regional endpoint if not US\n            ...config.location !== \"us\" && {\n                apiEndpoint: `${config.location}-documentai.googleapis.com`\n            }\n        });\n    }\n    async processDocument(filePath, documentType) {\n        try {\n            const processorName = this.getProcessorName(documentType);\n            // Read and encode the document\n            const imageFile = await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.readFile)(filePath);\n            const encodedImage = Buffer.from(imageFile).toString(\"base64\");\n            const request = {\n                name: processorName,\n                rawDocument: {\n                    content: encodedImage,\n                    mimeType: this.getMimeType(filePath)\n                }\n            };\n            // Process the document\n            const [result] = await this.client.processDocument(request);\n            if (!result.document) {\n                throw new Error(\"No document returned from processing\");\n            }\n            return this.transformToTaxData(result.document, documentType);\n        } catch (error) {\n            console.error(\"Error processing document with Document AI:\", error);\n            throw error;\n        }\n    }\n    getProcessorName(documentType) {\n        const { projectId, location } = this.config;\n        switch(documentType){\n            case \"W2\":\n                return `projects/${projectId}/locations/${location}/processors/${this.config.w2ProcessorId}`;\n            case \"FORM_1099_INT\":\n            case \"FORM_1099_DIV\":\n            case \"FORM_1099_MISC\":\n            case \"FORM_1099_NEC\":\n            case \"FORM_1099_R\":\n            case \"FORM_1099_G\":\n                if (!this.config.form1099ProcessorId) {\n                    throw new Error(`No 1099 processor configured for ${documentType}`);\n                }\n                return `projects/${projectId}/locations/${location}/processors/${this.config.form1099ProcessorId}`;\n            default:\n                // Fallback to W2 processor for unknown types\n                return `projects/${projectId}/locations/${location}/processors/${this.config.w2ProcessorId}`;\n        }\n    }\n    getMimeType(filePath) {\n        const extension = filePath.toLowerCase().split(\".\").pop();\n        switch(extension){\n            case \"pdf\":\n                return \"application/pdf\";\n            case \"png\":\n                return \"image/png\";\n            case \"jpg\":\n            case \"jpeg\":\n                return \"image/jpeg\";\n            case \"tiff\":\n            case \"tif\":\n                return \"image/tiff\";\n            default:\n                return \"application/pdf\";\n        }\n    }\n    transformToTaxData(document, documentType) {\n        const fullText = document.text || \"\";\n        let extractedData = {};\n        let averageConfidence = 0;\n        // Extract form fields and entities based on document type\n        switch(documentType){\n            case \"W2\":\n                extractedData = this.extractW2Data(document);\n                break;\n            case \"FORM_1099_INT\":\n                extractedData = this.extract1099IntData(document);\n                break;\n            case \"FORM_1099_DIV\":\n                extractedData = this.extract1099DivData(document);\n                break;\n            case \"FORM_1099_MISC\":\n                extractedData = this.extract1099MiscData(document);\n                break;\n            case \"FORM_1099_NEC\":\n                extractedData = this.extract1099NecData(document);\n                break;\n            default:\n                extractedData = this.extractGenericTaxData(document);\n        }\n        // Calculate average confidence\n        averageConfidence = this.calculateAverageConfidence(document);\n        return {\n            documentType,\n            ocrText: fullText,\n            extractedData,\n            confidence: averageConfidence\n        };\n    }\n    extractW2Data(document) {\n        const w2Data = {\n            employerName: \"\",\n            employerEIN: \"\",\n            employerAddress: \"\",\n            employeeName: \"\",\n            employeeSSN: \"\",\n            employeeAddress: \"\",\n            wages: \"\",\n            federalTaxWithheld: \"\",\n            socialSecurityWages: \"\",\n            socialSecurityTaxWithheld: \"\",\n            medicareWages: \"\",\n            medicareTaxWithheld: \"\",\n            socialSecurityTips: \"\",\n            allocatedTips: \"\",\n            stateWages: \"\",\n            stateTaxWithheld: \"\",\n            localWages: \"\",\n            localTaxWithheld: \"\"\n        };\n        // Extract from entities (specialized W-2 processor)\n        if (document.entities) {\n            document.entities.forEach((entity)=>{\n                const value = this.getText(entity.textAnchor, document.text);\n                switch(entity.type){\n                    case \"employee_name\":\n                        w2Data.employeeName = value;\n                        break;\n                    case \"employee_ssn\":\n                        w2Data.employeeSSN = value;\n                        break;\n                    case \"employer_name\":\n                        w2Data.employerName = value;\n                        break;\n                    case \"employer_ein\":\n                        w2Data.employerEIN = value;\n                        break;\n                    case \"wages_tips_other_compensation\":\n                        w2Data.wages = value;\n                        break;\n                    case \"federal_income_tax_withheld\":\n                        w2Data.federalTaxWithheld = value;\n                        break;\n                    case \"social_security_wages\":\n                        w2Data.socialSecurityWages = value;\n                        break;\n                    case \"social_security_tax_withheld\":\n                        w2Data.socialSecurityTaxWithheld = value;\n                        break;\n                    case \"medicare_wages_and_tips\":\n                        w2Data.medicareWages = value;\n                        break;\n                    case \"medicare_tax_withheld\":\n                        w2Data.medicareTaxWithheld = value;\n                        break;\n                }\n            });\n        }\n        // Extract from form fields as fallback\n        if (document.pages && document.pages[0]?.formFields) {\n            document.pages[0].formFields.forEach((field)=>{\n                if (!field.fieldName?.textAnchor || !field.fieldValue?.textAnchor) return;\n                const fieldName = this.getText(field.fieldName.textAnchor, document.text).toLowerCase();\n                const fieldValue = this.getText(field.fieldValue.textAnchor, document.text);\n                if (fieldName.includes(\"wages\") && fieldName.includes(\"tips\")) {\n                    w2Data.wages = fieldValue;\n                } else if (fieldName.includes(\"federal\") && fieldName.includes(\"tax\")) {\n                    w2Data.federalTaxWithheld = fieldValue;\n                } else if (fieldName.includes(\"social security\") && fieldName.includes(\"wages\")) {\n                    w2Data.socialSecurityWages = fieldValue;\n                } else if (fieldName.includes(\"medicare\") && fieldName.includes(\"wages\")) {\n                    w2Data.medicareWages = fieldValue;\n                }\n            // Add more field mappings as needed\n            });\n        }\n        return w2Data;\n    }\n    extract1099IntData(document) {\n        const data1099Int = {\n            payerName: \"\",\n            payerTIN: \"\",\n            payerAddress: \"\",\n            recipientName: \"\",\n            recipientTIN: \"\",\n            recipientAddress: \"\",\n            interestIncome: \"\",\n            earlyWithdrawalPenalty: \"\",\n            interestOnUSavingsBonds: \"\",\n            federalTaxWithheld: \"\",\n            investmentExpenses: \"\",\n            foreignTaxPaid: \"\",\n            foreignCountry: \"\",\n            taxExemptInterest: \"\",\n            privateActivityBondInterest: \"\",\n            marketDiscount: \"\",\n            bondPremium: \"\",\n            bondPremiumOnTaxExemptBond: \"\",\n            stateCode: \"\",\n            stateTaxWithheld: \"\",\n            stateIdNumber: \"\"\n        };\n        // Extract from form fields or entities\n        this.extractGenericFormFields(document, data1099Int);\n        return data1099Int;\n    }\n    extract1099DivData(document) {\n        const data1099Div = {\n            payerName: \"\",\n            payerTIN: \"\",\n            payerAddress: \"\",\n            recipientName: \"\",\n            recipientTIN: \"\",\n            recipientAddress: \"\",\n            ordinaryDividends: \"\",\n            qualifiedDividends: \"\",\n            totalCapitalGain: \"\",\n            unrecaptured1250Gain: \"\",\n            section1202Gain: \"\",\n            collectiblesGain: \"\",\n            nondividendDistributions: \"\",\n            federalTaxWithheld: \"\",\n            section199ADividends: \"\",\n            investmentExpenses: \"\",\n            foreignTaxPaid: \"\",\n            foreignCountry: \"\",\n            cashLiquidation: \"\",\n            noncashLiquidation: \"\",\n            stateCode: \"\",\n            stateTaxWithheld: \"\",\n            stateIdNumber: \"\"\n        };\n        this.extractGenericFormFields(document, data1099Div);\n        return data1099Div;\n    }\n    extract1099MiscData(document) {\n        const data1099Misc = {\n            payerName: \"\",\n            payerTIN: \"\",\n            payerAddress: \"\",\n            recipientName: \"\",\n            recipientTIN: \"\",\n            recipientAddress: \"\",\n            rents: \"\",\n            royalties: \"\",\n            otherIncome: \"\",\n            federalTaxWithheld: \"\",\n            fishingBoatProceeds: \"\",\n            medicalHealthPayments: \"\",\n            nonemployeeCompensation: \"\",\n            substitutePayments: \"\",\n            cropInsuranceProceeds: \"\",\n            grossProceeds: \"\",\n            section409ADeferrals: \"\",\n            section409AIncome: \"\",\n            excessGoldenParachute: \"\",\n            nonqualifiedDeferredCompensation: \"\",\n            stateCode: \"\",\n            stateTaxWithheld: \"\",\n            stateIdNumber: \"\"\n        };\n        this.extractGenericFormFields(document, data1099Misc);\n        return data1099Misc;\n    }\n    extract1099NecData(document) {\n        const data1099Nec = {\n            payerName: \"\",\n            payerTIN: \"\",\n            payerAddress: \"\",\n            recipientName: \"\",\n            recipientTIN: \"\",\n            recipientAddress: \"\",\n            nonemployeeCompensation: \"\",\n            federalTaxWithheld: \"\",\n            stateCode: \"\",\n            stateTaxWithheld: \"\",\n            stateIdNumber: \"\"\n        };\n        this.extractGenericFormFields(document, data1099Nec);\n        return data1099Nec;\n    }\n    extractGenericTaxData(document) {\n        const genericData = {\n            payerName: \"\",\n            payerTIN: \"\",\n            recipientName: \"\",\n            recipientTIN: \"\",\n            incomeAmount: \"\",\n            taxWithheld: \"\",\n            relevantBoxes: {}\n        };\n        this.extractGenericFormFields(document, genericData);\n        return genericData;\n    }\n    extractGenericFormFields(document, dataObject) {\n        if (document.pages && document.pages[0]?.formFields) {\n            document.pages[0].formFields.forEach((field)=>{\n                if (!field.fieldName?.textAnchor || !field.fieldValue?.textAnchor) return;\n                const fieldName = this.getText(field.fieldName.textAnchor, document.text);\n                const fieldValue = this.getText(field.fieldValue.textAnchor, document.text);\n                // Try to map common field names to data object properties\n                const normalizedFieldName = fieldName.toLowerCase().replace(/[^a-zA-Z0-9]/g, \"\");\n                // Look for matching property names in the data object\n                for (const [key, value] of Object.entries(dataObject)){\n                    const normalizedKey = key.toLowerCase().replace(/[^a-zA-Z0-9]/g, \"\");\n                    if (normalizedFieldName.includes(normalizedKey) || normalizedKey.includes(normalizedFieldName)) {\n                        dataObject[key] = fieldValue;\n                        break;\n                    }\n                }\n            });\n        }\n    }\n    getText(textAnchor, fullText) {\n        if (!textAnchor?.textSegments || textAnchor.textSegments.length === 0) {\n            return \"\";\n        }\n        const segment = textAnchor.textSegments[0];\n        const startIndex = segment.startIndex || 0;\n        const endIndex = segment.endIndex || fullText.length;\n        return fullText.substring(startIndex, endIndex).trim();\n    }\n    calculateAverageConfidence(document) {\n        let totalConfidence = 0;\n        let count = 0;\n        // Calculate from entities\n        if (document.entities) {\n            document.entities.forEach((entity)=>{\n                if (entity.confidence !== undefined) {\n                    totalConfidence += entity.confidence;\n                    count++;\n                }\n            });\n        }\n        // Calculate from form fields\n        if (document.pages) {\n            document.pages.forEach((page)=>{\n                if (page.formFields) {\n                    page.formFields.forEach((field)=>{\n                        if (field.fieldValue?.confidence !== undefined) {\n                            totalConfidence += field.fieldValue.confidence;\n                            count++;\n                        }\n                    });\n                }\n            });\n        }\n        return count > 0 ? totalConfidence / count : 0;\n    }\n}\n// Configuration helper\nfunction createDocumentAIConfig() {\n    const config = {\n        projectId: process.env.GOOGLE_CLOUD_PROJECT_ID || \"\",\n        location: process.env.GOOGLE_CLOUD_LOCATION || \"us\",\n        w2ProcessorId: process.env.GOOGLE_CLOUD_W2_PROCESSOR_ID || \"\",\n        form1099ProcessorId: process.env.GOOGLE_CLOUD_1099_PROCESSOR_ID || \"\"\n    };\n    if (!config.projectId || !config.w2ProcessorId) {\n        throw new Error(\"Missing required Google Cloud configuration. Please set GOOGLE_CLOUD_PROJECT_ID, GOOGLE_CLOUD_W2_PROCESSOR_ID environment variables.\");\n    }\n    return config;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkFBa0JDLFFBQVE7SUFDL0M7QUFDRjtBQUVBLHVCQUF1QjtBQUNoQixTQUFTRztJQUNkLE1BQU1uSixTQUFTO1FBQ2IwQixXQUFXMEgsUUFBUUMsR0FBRyxDQUFDQyx1QkFBdUIsSUFBSTtRQUNsRHBKLFVBQVVrSixRQUFRQyxHQUFHLENBQUNFLHFCQUFxQixJQUFJO1FBQy9DNUgsZUFBZXlILFFBQVFDLEdBQUcsQ0FBQ0csNEJBQTRCLElBQUk7UUFDM0Q1SCxxQkFBcUJ3SCxRQUFRQyxHQUFHLENBQUNJLDhCQUE4QixJQUFJO0lBQ3JFO0lBRUEsSUFBSSxDQUFDekosT0FBTzBCLFNBQVMsSUFBSSxDQUFDMUIsT0FBTzJCLGFBQWEsRUFBRTtRQUM5QyxNQUFNLElBQUlMLE1BQU07SUFDbEI7SUFFQSxPQUFPdEI7QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL2xpYi9kb2N1bWVudC1haS1zZXJ2aWNlLnRzP2YzOTEiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgeyBEb2N1bWVudFByb2Nlc3NvclNlcnZpY2VDbGllbnQgfSBmcm9tICdAZ29vZ2xlLWNsb3VkL2RvY3VtZW50YWknO1xuaW1wb3J0IHsgcmVhZEZpbGUgfSBmcm9tICdmcy9wcm9taXNlcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRG9jdW1lbnRBSUNvbmZpZyB7XG4gIHByb2plY3RJZDogc3RyaW5nO1xuICBsb2NhdGlvbjogc3RyaW5nO1xuICB3MlByb2Nlc3NvcklkOiBzdHJpbmc7XG4gIGZvcm0xMDk5UHJvY2Vzc29ySWQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXh0cmFjdGVkVGF4RGF0YSB7XG4gIGRvY3VtZW50VHlwZTogc3RyaW5nO1xuICBvY3JUZXh0OiBzdHJpbmc7XG4gIGV4dHJhY3RlZERhdGE6IGFueTtcbiAgY29uZmlkZW5jZTogbnVtYmVyO1xufVxuXG5leHBvcnQgY2xhc3MgRG9jdW1lbnRBSVNlcnZpY2Uge1xuICBwcml2YXRlIGNsaWVudDogRG9jdW1lbnRQcm9jZXNzb3JTZXJ2aWNlQ2xpZW50O1xuICBwcml2YXRlIGNvbmZpZzogRG9jdW1lbnRBSUNvbmZpZztcblxuICBjb25zdHJ1Y3Rvcihjb25maWc6IERvY3VtZW50QUlDb25maWcpIHtcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICBcbiAgICAvLyBJbml0aWFsaXplIHRoZSBjbGllbnQgLSB3aWxsIHVzZSBHT09HTEVfQVBQTElDQVRJT05fQ1JFREVOVElBTFMgZW52IHZhclxuICAgIHRoaXMuY2xpZW50ID0gbmV3IERvY3VtZW50UHJvY2Vzc29yU2VydmljZUNsaWVudCh7XG4gICAgICAvLyBVc2UgcmVnaW9uYWwgZW5kcG9pbnQgaWYgbm90IFVTXG4gICAgICAuLi4oY29uZmlnLmxvY2F0aW9uICE9PSAndXMnICYmIHtcbiAgICAgICAgYXBpRW5kcG9pbnQ6IGAke2NvbmZpZy5sb2NhdGlvbn0tZG9jdW1lbnRhaS5nb29nbGVhcGlzLmNvbWBcbiAgICAgIH0pXG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBwcm9jZXNzRG9jdW1lbnQoZmlsZVBhdGg6IHN0cmluZywgZG9jdW1lbnRUeXBlOiBzdHJpbmcpOiBQcm9taXNlPEV4dHJhY3RlZFRheERhdGE+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcHJvY2Vzc29yTmFtZSA9IHRoaXMuZ2V0UHJvY2Vzc29yTmFtZShkb2N1bWVudFR5cGUpO1xuICAgICAgXG4gICAgICAvLyBSZWFkIGFuZCBlbmNvZGUgdGhlIGRvY3VtZW50XG4gICAgICBjb25zdCBpbWFnZUZpbGUgPSBhd2FpdCByZWFkRmlsZShmaWxlUGF0aCk7XG4gICAgICBjb25zdCBlbmNvZGVkSW1hZ2UgPSBCdWZmZXIuZnJvbShpbWFnZUZpbGUpLnRvU3RyaW5nKCdiYXNlNjQnKTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IHtcbiAgICAgICAgbmFtZTogcHJvY2Vzc29yTmFtZSxcbiAgICAgICAgcmF3RG9jdW1lbnQ6IHtcbiAgICAgICAgICBjb250ZW50OiBlbmNvZGVkSW1hZ2UsXG4gICAgICAgICAgbWltZVR5cGU6IHRoaXMuZ2V0TWltZVR5cGUoZmlsZVBhdGgpLFxuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgLy8gUHJvY2VzcyB0aGUgZG9jdW1lbnRcbiAgICAgIGNvbnN0IFtyZXN1bHRdID0gYXdhaXQgdGhpcy5jbGllbnQucHJvY2Vzc0RvY3VtZW50KHJlcXVlc3QpO1xuICAgICAgXG4gICAgICBpZiAoIXJlc3VsdC5kb2N1bWVudCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGRvY3VtZW50IHJldHVybmVkIGZyb20gcHJvY2Vzc2luZycpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm1Ub1RheERhdGEocmVzdWx0LmRvY3VtZW50LCBkb2N1bWVudFR5cGUpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwcm9jZXNzaW5nIGRvY3VtZW50IHdpdGggRG9jdW1lbnQgQUk6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRQcm9jZXNzb3JOYW1lKGRvY3VtZW50VHlwZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCB7IHByb2plY3RJZCwgbG9jYXRpb24gfSA9IHRoaXMuY29uZmlnO1xuICAgIFxuICAgIHN3aXRjaCAoZG9jdW1lbnRUeXBlKSB7XG4gICAgICBjYXNlICdXMic6XG4gICAgICAgIHJldHVybiBgcHJvamVjdHMvJHtwcm9qZWN0SWR9L2xvY2F0aW9ucy8ke2xvY2F0aW9ufS9wcm9jZXNzb3JzLyR7dGhpcy5jb25maWcudzJQcm9jZXNzb3JJZH1gO1xuICAgICAgY2FzZSAnRk9STV8xMDk5X0lOVCc6XG4gICAgICBjYXNlICdGT1JNXzEwOTlfRElWJzpcbiAgICAgIGNhc2UgJ0ZPUk1fMTA5OV9NSVNDJzpcbiAgICAgIGNhc2UgJ0ZPUk1fMTA5OV9ORUMnOlxuICAgICAgY2FzZSAnRk9STV8xMDk5X1InOlxuICAgICAgY2FzZSAnRk9STV8xMDk5X0cnOlxuICAgICAgICBpZiAoIXRoaXMuY29uZmlnLmZvcm0xMDk5UHJvY2Vzc29ySWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIDEwOTkgcHJvY2Vzc29yIGNvbmZpZ3VyZWQgZm9yICR7ZG9jdW1lbnRUeXBlfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBgcHJvamVjdHMvJHtwcm9qZWN0SWR9L2xvY2F0aW9ucy8ke2xvY2F0aW9ufS9wcm9jZXNzb3JzLyR7dGhpcy5jb25maWcuZm9ybTEwOTlQcm9jZXNzb3JJZH1gO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgLy8gRmFsbGJhY2sgdG8gVzIgcHJvY2Vzc29yIGZvciB1bmtub3duIHR5cGVzXG4gICAgICAgIHJldHVybiBgcHJvamVjdHMvJHtwcm9qZWN0SWR9L2xvY2F0aW9ucy8ke2xvY2F0aW9ufS9wcm9jZXNzb3JzLyR7dGhpcy5jb25maWcudzJQcm9jZXNzb3JJZH1gO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0TWltZVR5cGUoZmlsZVBhdGg6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgZXh0ZW5zaW9uID0gZmlsZVBhdGgudG9Mb3dlckNhc2UoKS5zcGxpdCgnLicpLnBvcCgpO1xuICAgIHN3aXRjaCAoZXh0ZW5zaW9uKSB7XG4gICAgICBjYXNlICdwZGYnOlxuICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL3BkZic7XG4gICAgICBjYXNlICdwbmcnOlxuICAgICAgICByZXR1cm4gJ2ltYWdlL3BuZyc7XG4gICAgICBjYXNlICdqcGcnOlxuICAgICAgY2FzZSAnanBlZyc6XG4gICAgICAgIHJldHVybiAnaW1hZ2UvanBlZyc7XG4gICAgICBjYXNlICd0aWZmJzpcbiAgICAgIGNhc2UgJ3RpZic6XG4gICAgICAgIHJldHVybiAnaW1hZ2UvdGlmZic7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL3BkZic7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSB0cmFuc2Zvcm1Ub1RheERhdGEoZG9jdW1lbnQ6IGFueSwgZG9jdW1lbnRUeXBlOiBzdHJpbmcpOiBFeHRyYWN0ZWRUYXhEYXRhIHtcbiAgICBjb25zdCBmdWxsVGV4dCA9IGRvY3VtZW50LnRleHQgfHwgJyc7XG4gICAgbGV0IGV4dHJhY3RlZERhdGE6IGFueSA9IHt9O1xuICAgIGxldCBhdmVyYWdlQ29uZmlkZW5jZSA9IDA7XG5cbiAgICAvLyBFeHRyYWN0IGZvcm0gZmllbGRzIGFuZCBlbnRpdGllcyBiYXNlZCBvbiBkb2N1bWVudCB0eXBlXG4gICAgc3dpdGNoIChkb2N1bWVudFR5cGUpIHtcbiAgICAgIGNhc2UgJ1cyJzpcbiAgICAgICAgZXh0cmFjdGVkRGF0YSA9IHRoaXMuZXh0cmFjdFcyRGF0YShkb2N1bWVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnRk9STV8xMDk5X0lOVCc6XG4gICAgICAgIGV4dHJhY3RlZERhdGEgPSB0aGlzLmV4dHJhY3QxMDk5SW50RGF0YShkb2N1bWVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnRk9STV8xMDk5X0RJVic6XG4gICAgICAgIGV4dHJhY3RlZERhdGEgPSB0aGlzLmV4dHJhY3QxMDk5RGl2RGF0YShkb2N1bWVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnRk9STV8xMDk5X01JU0MnOlxuICAgICAgICBleHRyYWN0ZWREYXRhID0gdGhpcy5leHRyYWN0MTA5OU1pc2NEYXRhKGRvY3VtZW50KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdGT1JNXzEwOTlfTkVDJzpcbiAgICAgICAgZXh0cmFjdGVkRGF0YSA9IHRoaXMuZXh0cmFjdDEwOTlOZWNEYXRhKGRvY3VtZW50KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBleHRyYWN0ZWREYXRhID0gdGhpcy5leHRyYWN0R2VuZXJpY1RheERhdGEoZG9jdW1lbnQpO1xuICAgIH1cblxuICAgIC8vIENhbGN1bGF0ZSBhdmVyYWdlIGNvbmZpZGVuY2VcbiAgICBhdmVyYWdlQ29uZmlkZW5jZSA9IHRoaXMuY2FsY3VsYXRlQXZlcmFnZUNvbmZpZGVuY2UoZG9jdW1lbnQpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGRvY3VtZW50VHlwZSxcbiAgICAgIG9jclRleHQ6IGZ1bGxUZXh0LFxuICAgICAgZXh0cmFjdGVkRGF0YSxcbiAgICAgIGNvbmZpZGVuY2U6IGF2ZXJhZ2VDb25maWRlbmNlXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgZXh0cmFjdFcyRGF0YShkb2N1bWVudDogYW55KTogYW55IHtcbiAgICBjb25zdCB3MkRhdGEgPSB7XG4gICAgICBlbXBsb3llck5hbWU6ICcnLFxuICAgICAgZW1wbG95ZXJFSU46ICcnLFxuICAgICAgZW1wbG95ZXJBZGRyZXNzOiAnJyxcbiAgICAgIGVtcGxveWVlTmFtZTogJycsXG4gICAgICBlbXBsb3llZVNTTjogJycsXG4gICAgICBlbXBsb3llZUFkZHJlc3M6ICcnLFxuICAgICAgd2FnZXM6ICcnLFxuICAgICAgZmVkZXJhbFRheFdpdGhoZWxkOiAnJyxcbiAgICAgIHNvY2lhbFNlY3VyaXR5V2FnZXM6ICcnLFxuICAgICAgc29jaWFsU2VjdXJpdHlUYXhXaXRoaGVsZDogJycsXG4gICAgICBtZWRpY2FyZVdhZ2VzOiAnJyxcbiAgICAgIG1lZGljYXJlVGF4V2l0aGhlbGQ6ICcnLFxuICAgICAgc29jaWFsU2VjdXJpdHlUaXBzOiAnJyxcbiAgICAgIGFsbG9jYXRlZFRpcHM6ICcnLFxuICAgICAgc3RhdGVXYWdlczogJycsXG4gICAgICBzdGF0ZVRheFdpdGhoZWxkOiAnJyxcbiAgICAgIGxvY2FsV2FnZXM6ICcnLFxuICAgICAgbG9jYWxUYXhXaXRoaGVsZDogJydcbiAgICB9O1xuXG4gICAgLy8gRXh0cmFjdCBmcm9tIGVudGl0aWVzIChzcGVjaWFsaXplZCBXLTIgcHJvY2Vzc29yKVxuICAgIGlmIChkb2N1bWVudC5lbnRpdGllcykge1xuICAgICAgZG9jdW1lbnQuZW50aXRpZXMuZm9yRWFjaCgoZW50aXR5OiBhbnkpID0+IHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmdldFRleHQoZW50aXR5LnRleHRBbmNob3IsIGRvY3VtZW50LnRleHQpO1xuICAgICAgICBcbiAgICAgICAgc3dpdGNoIChlbnRpdHkudHlwZSkge1xuICAgICAgICAgIGNhc2UgJ2VtcGxveWVlX25hbWUnOlxuICAgICAgICAgICAgdzJEYXRhLmVtcGxveWVlTmFtZSA9IHZhbHVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnZW1wbG95ZWVfc3NuJzpcbiAgICAgICAgICAgIHcyRGF0YS5lbXBsb3llZVNTTiA9IHZhbHVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnZW1wbG95ZXJfbmFtZSc6XG4gICAgICAgICAgICB3MkRhdGEuZW1wbG95ZXJOYW1lID0gdmFsdWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdlbXBsb3llcl9laW4nOlxuICAgICAgICAgICAgdzJEYXRhLmVtcGxveWVyRUlOID0gdmFsdWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICd3YWdlc190aXBzX290aGVyX2NvbXBlbnNhdGlvbic6XG4gICAgICAgICAgICB3MkRhdGEud2FnZXMgPSB2YWx1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2ZlZGVyYWxfaW5jb21lX3RheF93aXRoaGVsZCc6XG4gICAgICAgICAgICB3MkRhdGEuZmVkZXJhbFRheFdpdGhoZWxkID0gdmFsdWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdzb2NpYWxfc2VjdXJpdHlfd2FnZXMnOlxuICAgICAgICAgICAgdzJEYXRhLnNvY2lhbFNlY3VyaXR5V2FnZXMgPSB2YWx1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3NvY2lhbF9zZWN1cml0eV90YXhfd2l0aGhlbGQnOlxuICAgICAgICAgICAgdzJEYXRhLnNvY2lhbFNlY3VyaXR5VGF4V2l0aGhlbGQgPSB2YWx1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ21lZGljYXJlX3dhZ2VzX2FuZF90aXBzJzpcbiAgICAgICAgICAgIHcyRGF0YS5tZWRpY2FyZVdhZ2VzID0gdmFsdWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdtZWRpY2FyZV90YXhfd2l0aGhlbGQnOlxuICAgICAgICAgICAgdzJEYXRhLm1lZGljYXJlVGF4V2l0aGhlbGQgPSB2YWx1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBFeHRyYWN0IGZyb20gZm9ybSBmaWVsZHMgYXMgZmFsbGJhY2tcbiAgICBpZiAoZG9jdW1lbnQucGFnZXMgJiYgZG9jdW1lbnQucGFnZXNbMF0/LmZvcm1GaWVsZHMpIHtcbiAgICAgIGRvY3VtZW50LnBhZ2VzWzBdLmZvcm1GaWVsZHMuZm9yRWFjaCgoZmllbGQ6IGFueSkgPT4ge1xuICAgICAgICBpZiAoIWZpZWxkLmZpZWxkTmFtZT8udGV4dEFuY2hvciB8fCAhZmllbGQuZmllbGRWYWx1ZT8udGV4dEFuY2hvcikgcmV0dXJuO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgZmllbGROYW1lID0gdGhpcy5nZXRUZXh0KGZpZWxkLmZpZWxkTmFtZS50ZXh0QW5jaG9yLCBkb2N1bWVudC50ZXh0KS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBjb25zdCBmaWVsZFZhbHVlID0gdGhpcy5nZXRUZXh0KGZpZWxkLmZpZWxkVmFsdWUudGV4dEFuY2hvciwgZG9jdW1lbnQudGV4dCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoZmllbGROYW1lLmluY2x1ZGVzKCd3YWdlcycpICYmIGZpZWxkTmFtZS5pbmNsdWRlcygndGlwcycpKSB7XG4gICAgICAgICAgdzJEYXRhLndhZ2VzID0gZmllbGRWYWx1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChmaWVsZE5hbWUuaW5jbHVkZXMoJ2ZlZGVyYWwnKSAmJiBmaWVsZE5hbWUuaW5jbHVkZXMoJ3RheCcpKSB7XG4gICAgICAgICAgdzJEYXRhLmZlZGVyYWxUYXhXaXRoaGVsZCA9IGZpZWxkVmFsdWU7XG4gICAgICAgIH0gZWxzZSBpZiAoZmllbGROYW1lLmluY2x1ZGVzKCdzb2NpYWwgc2VjdXJpdHknKSAmJiBmaWVsZE5hbWUuaW5jbHVkZXMoJ3dhZ2VzJykpIHtcbiAgICAgICAgICB3MkRhdGEuc29jaWFsU2VjdXJpdHlXYWdlcyA9IGZpZWxkVmFsdWU7XG4gICAgICAgIH0gZWxzZSBpZiAoZmllbGROYW1lLmluY2x1ZGVzKCdtZWRpY2FyZScpICYmIGZpZWxkTmFtZS5pbmNsdWRlcygnd2FnZXMnKSkge1xuICAgICAgICAgIHcyRGF0YS5tZWRpY2FyZVdhZ2VzID0gZmllbGRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBZGQgbW9yZSBmaWVsZCBtYXBwaW5ncyBhcyBuZWVkZWRcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB3MkRhdGE7XG4gIH1cblxuICBwcml2YXRlIGV4dHJhY3QxMDk5SW50RGF0YShkb2N1bWVudDogYW55KTogYW55IHtcbiAgICBjb25zdCBkYXRhMTA5OUludCA9IHtcbiAgICAgIHBheWVyTmFtZTogJycsXG4gICAgICBwYXllclRJTjogJycsXG4gICAgICBwYXllckFkZHJlc3M6ICcnLFxuICAgICAgcmVjaXBpZW50TmFtZTogJycsXG4gICAgICByZWNpcGllbnRUSU46ICcnLFxuICAgICAgcmVjaXBpZW50QWRkcmVzczogJycsXG4gICAgICBpbnRlcmVzdEluY29tZTogJycsXG4gICAgICBlYXJseVdpdGhkcmF3YWxQZW5hbHR5OiAnJyxcbiAgICAgIGludGVyZXN0T25VU2F2aW5nc0JvbmRzOiAnJyxcbiAgICAgIGZlZGVyYWxUYXhXaXRoaGVsZDogJycsXG4gICAgICBpbnZlc3RtZW50RXhwZW5zZXM6ICcnLFxuICAgICAgZm9yZWlnblRheFBhaWQ6ICcnLFxuICAgICAgZm9yZWlnbkNvdW50cnk6ICcnLFxuICAgICAgdGF4RXhlbXB0SW50ZXJlc3Q6ICcnLFxuICAgICAgcHJpdmF0ZUFjdGl2aXR5Qm9uZEludGVyZXN0OiAnJyxcbiAgICAgIG1hcmtldERpc2NvdW50OiAnJyxcbiAgICAgIGJvbmRQcmVtaXVtOiAnJyxcbiAgICAgIGJvbmRQcmVtaXVtT25UYXhFeGVtcHRCb25kOiAnJyxcbiAgICAgIHN0YXRlQ29kZTogJycsXG4gICAgICBzdGF0ZVRheFdpdGhoZWxkOiAnJyxcbiAgICAgIHN0YXRlSWROdW1iZXI6ICcnXG4gICAgfTtcblxuICAgIC8vIEV4dHJhY3QgZnJvbSBmb3JtIGZpZWxkcyBvciBlbnRpdGllc1xuICAgIHRoaXMuZXh0cmFjdEdlbmVyaWNGb3JtRmllbGRzKGRvY3VtZW50LCBkYXRhMTA5OUludCk7XG4gICAgcmV0dXJuIGRhdGExMDk5SW50O1xuICB9XG5cbiAgcHJpdmF0ZSBleHRyYWN0MTA5OURpdkRhdGEoZG9jdW1lbnQ6IGFueSk6IGFueSB7XG4gICAgY29uc3QgZGF0YTEwOTlEaXYgPSB7XG4gICAgICBwYXllck5hbWU6ICcnLFxuICAgICAgcGF5ZXJUSU46ICcnLFxuICAgICAgcGF5ZXJBZGRyZXNzOiAnJyxcbiAgICAgIHJlY2lwaWVudE5hbWU6ICcnLFxuICAgICAgcmVjaXBpZW50VElOOiAnJyxcbiAgICAgIHJlY2lwaWVudEFkZHJlc3M6ICcnLFxuICAgICAgb3JkaW5hcnlEaXZpZGVuZHM6ICcnLFxuICAgICAgcXVhbGlmaWVkRGl2aWRlbmRzOiAnJyxcbiAgICAgIHRvdGFsQ2FwaXRhbEdhaW46ICcnLFxuICAgICAgdW5yZWNhcHR1cmVkMTI1MEdhaW46ICcnLFxuICAgICAgc2VjdGlvbjEyMDJHYWluOiAnJyxcbiAgICAgIGNvbGxlY3RpYmxlc0dhaW46ICcnLFxuICAgICAgbm9uZGl2aWRlbmREaXN0cmlidXRpb25zOiAnJyxcbiAgICAgIGZlZGVyYWxUYXhXaXRoaGVsZDogJycsXG4gICAgICBzZWN0aW9uMTk5QURpdmlkZW5kczogJycsXG4gICAgICBpbnZlc3RtZW50RXhwZW5zZXM6ICcnLFxuICAgICAgZm9yZWlnblRheFBhaWQ6ICcnLFxuICAgICAgZm9yZWlnbkNvdW50cnk6ICcnLFxuICAgICAgY2FzaExpcXVpZGF0aW9uOiAnJyxcbiAgICAgIG5vbmNhc2hMaXF1aWRhdGlvbjogJycsXG4gICAgICBzdGF0ZUNvZGU6ICcnLFxuICAgICAgc3RhdGVUYXhXaXRoaGVsZDogJycsXG4gICAgICBzdGF0ZUlkTnVtYmVyOiAnJ1xuICAgIH07XG5cbiAgICB0aGlzLmV4dHJhY3RHZW5lcmljRm9ybUZpZWxkcyhkb2N1bWVudCwgZGF0YTEwOTlEaXYpO1xuICAgIHJldHVybiBkYXRhMTA5OURpdjtcbiAgfVxuXG4gIHByaXZhdGUgZXh0cmFjdDEwOTlNaXNjRGF0YShkb2N1bWVudDogYW55KTogYW55IHtcbiAgICBjb25zdCBkYXRhMTA5OU1pc2MgPSB7XG4gICAgICBwYXllck5hbWU6ICcnLFxuICAgICAgcGF5ZXJUSU46ICcnLFxuICAgICAgcGF5ZXJBZGRyZXNzOiAnJyxcbiAgICAgIHJlY2lwaWVudE5hbWU6ICcnLFxuICAgICAgcmVjaXBpZW50VElOOiAnJyxcbiAgICAgIHJlY2lwaWVudEFkZHJlc3M6ICcnLFxuICAgICAgcmVudHM6ICcnLFxuICAgICAgcm95YWx0aWVzOiAnJyxcbiAgICAgIG90aGVySW5jb21lOiAnJyxcbiAgICAgIGZlZGVyYWxUYXhXaXRoaGVsZDogJycsXG4gICAgICBmaXNoaW5nQm9hdFByb2NlZWRzOiAnJyxcbiAgICAgIG1lZGljYWxIZWFsdGhQYXltZW50czogJycsXG4gICAgICBub25lbXBsb3llZUNvbXBlbnNhdGlvbjogJycsXG4gICAgICBzdWJzdGl0dXRlUGF5bWVudHM6ICcnLFxuICAgICAgY3JvcEluc3VyYW5jZVByb2NlZWRzOiAnJyxcbiAgICAgIGdyb3NzUHJvY2VlZHM6ICcnLFxuICAgICAgc2VjdGlvbjQwOUFEZWZlcnJhbHM6ICcnLFxuICAgICAgc2VjdGlvbjQwOUFJbmNvbWU6ICcnLFxuICAgICAgZXhjZXNzR29sZGVuUGFyYWNodXRlOiAnJyxcbiAgICAgIG5vbnF1YWxpZmllZERlZmVycmVkQ29tcGVuc2F0aW9uOiAnJyxcbiAgICAgIHN0YXRlQ29kZTogJycsXG4gICAgICBzdGF0ZVRheFdpdGhoZWxkOiAnJyxcbiAgICAgIHN0YXRlSWROdW1iZXI6ICcnXG4gICAgfTtcblxuICAgIHRoaXMuZXh0cmFjdEdlbmVyaWNGb3JtRmllbGRzKGRvY3VtZW50LCBkYXRhMTA5OU1pc2MpO1xuICAgIHJldHVybiBkYXRhMTA5OU1pc2M7XG4gIH1cblxuICBwcml2YXRlIGV4dHJhY3QxMDk5TmVjRGF0YShkb2N1bWVudDogYW55KTogYW55IHtcbiAgICBjb25zdCBkYXRhMTA5OU5lYyA9IHtcbiAgICAgIHBheWVyTmFtZTogJycsXG4gICAgICBwYXllclRJTjogJycsXG4gICAgICBwYXllckFkZHJlc3M6ICcnLFxuICAgICAgcmVjaXBpZW50TmFtZTogJycsXG4gICAgICByZWNpcGllbnRUSU46ICcnLFxuICAgICAgcmVjaXBpZW50QWRkcmVzczogJycsXG4gICAgICBub25lbXBsb3llZUNvbXBlbnNhdGlvbjogJycsXG4gICAgICBmZWRlcmFsVGF4V2l0aGhlbGQ6ICcnLFxuICAgICAgc3RhdGVDb2RlOiAnJyxcbiAgICAgIHN0YXRlVGF4V2l0aGhlbGQ6ICcnLFxuICAgICAgc3RhdGVJZE51bWJlcjogJydcbiAgICB9O1xuXG4gICAgdGhpcy5leHRyYWN0R2VuZXJpY0Zvcm1GaWVsZHMoZG9jdW1lbnQsIGRhdGExMDk5TmVjKTtcbiAgICByZXR1cm4gZGF0YTEwOTlOZWM7XG4gIH1cblxuICBwcml2YXRlIGV4dHJhY3RHZW5lcmljVGF4RGF0YShkb2N1bWVudDogYW55KTogYW55IHtcbiAgICBjb25zdCBnZW5lcmljRGF0YSA9IHtcbiAgICAgIHBheWVyTmFtZTogJycsXG4gICAgICBwYXllclRJTjogJycsXG4gICAgICByZWNpcGllbnROYW1lOiAnJyxcbiAgICAgIHJlY2lwaWVudFRJTjogJycsXG4gICAgICBpbmNvbWVBbW91bnQ6ICcnLFxuICAgICAgdGF4V2l0aGhlbGQ6ICcnLFxuICAgICAgcmVsZXZhbnRCb3hlczoge31cbiAgICB9O1xuXG4gICAgdGhpcy5leHRyYWN0R2VuZXJpY0Zvcm1GaWVsZHMoZG9jdW1lbnQsIGdlbmVyaWNEYXRhKTtcbiAgICByZXR1cm4gZ2VuZXJpY0RhdGE7XG4gIH1cblxuICBwcml2YXRlIGV4dHJhY3RHZW5lcmljRm9ybUZpZWxkcyhkb2N1bWVudDogYW55LCBkYXRhT2JqZWN0OiBhbnkpOiB2b2lkIHtcbiAgICBpZiAoZG9jdW1lbnQucGFnZXMgJiYgZG9jdW1lbnQucGFnZXNbMF0/LmZvcm1GaWVsZHMpIHtcbiAgICAgIGRvY3VtZW50LnBhZ2VzWzBdLmZvcm1GaWVsZHMuZm9yRWFjaCgoZmllbGQ6IGFueSkgPT4ge1xuICAgICAgICBpZiAoIWZpZWxkLmZpZWxkTmFtZT8udGV4dEFuY2hvciB8fCAhZmllbGQuZmllbGRWYWx1ZT8udGV4dEFuY2hvcikgcmV0dXJuO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgZmllbGROYW1lID0gdGhpcy5nZXRUZXh0KGZpZWxkLmZpZWxkTmFtZS50ZXh0QW5jaG9yLCBkb2N1bWVudC50ZXh0KTtcbiAgICAgICAgY29uc3QgZmllbGRWYWx1ZSA9IHRoaXMuZ2V0VGV4dChmaWVsZC5maWVsZFZhbHVlLnRleHRBbmNob3IsIGRvY3VtZW50LnRleHQpO1xuICAgICAgICBcbiAgICAgICAgLy8gVHJ5IHRvIG1hcCBjb21tb24gZmllbGQgbmFtZXMgdG8gZGF0YSBvYmplY3QgcHJvcGVydGllc1xuICAgICAgICBjb25zdCBub3JtYWxpemVkRmllbGROYW1lID0gZmllbGROYW1lLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvW15hLXpBLVowLTldL2csICcnKTtcbiAgICAgICAgXG4gICAgICAgIC8vIExvb2sgZm9yIG1hdGNoaW5nIHByb3BlcnR5IG5hbWVzIGluIHRoZSBkYXRhIG9iamVjdFxuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhkYXRhT2JqZWN0KSkge1xuICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRLZXkgPSBrZXkudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9bXmEtekEtWjAtOV0vZywgJycpO1xuICAgICAgICAgIGlmIChub3JtYWxpemVkRmllbGROYW1lLmluY2x1ZGVzKG5vcm1hbGl6ZWRLZXkpIHx8IG5vcm1hbGl6ZWRLZXkuaW5jbHVkZXMobm9ybWFsaXplZEZpZWxkTmFtZSkpIHtcbiAgICAgICAgICAgIGRhdGFPYmplY3Rba2V5XSA9IGZpZWxkVmFsdWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0VGV4dCh0ZXh0QW5jaG9yOiBhbnksIGZ1bGxUZXh0OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGlmICghdGV4dEFuY2hvcj8udGV4dFNlZ21lbnRzIHx8IHRleHRBbmNob3IudGV4dFNlZ21lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIGNvbnN0IHNlZ21lbnQgPSB0ZXh0QW5jaG9yLnRleHRTZWdtZW50c1swXTtcbiAgICBjb25zdCBzdGFydEluZGV4ID0gc2VnbWVudC5zdGFydEluZGV4IHx8IDA7XG4gICAgY29uc3QgZW5kSW5kZXggPSBzZWdtZW50LmVuZEluZGV4IHx8IGZ1bGxUZXh0Lmxlbmd0aDtcblxuICAgIHJldHVybiBmdWxsVGV4dC5zdWJzdHJpbmcoc3RhcnRJbmRleCwgZW5kSW5kZXgpLnRyaW0oKTtcbiAgfVxuXG4gIHByaXZhdGUgY2FsY3VsYXRlQXZlcmFnZUNvbmZpZGVuY2UoZG9jdW1lbnQ6IGFueSk6IG51bWJlciB7XG4gICAgbGV0IHRvdGFsQ29uZmlkZW5jZSA9IDA7XG4gICAgbGV0IGNvdW50ID0gMDtcblxuICAgIC8vIENhbGN1bGF0ZSBmcm9tIGVudGl0aWVzXG4gICAgaWYgKGRvY3VtZW50LmVudGl0aWVzKSB7XG4gICAgICBkb2N1bWVudC5lbnRpdGllcy5mb3JFYWNoKChlbnRpdHk6IGFueSkgPT4ge1xuICAgICAgICBpZiAoZW50aXR5LmNvbmZpZGVuY2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRvdGFsQ29uZmlkZW5jZSArPSBlbnRpdHkuY29uZmlkZW5jZTtcbiAgICAgICAgICBjb3VudCsrO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBDYWxjdWxhdGUgZnJvbSBmb3JtIGZpZWxkc1xuICAgIGlmIChkb2N1bWVudC5wYWdlcykge1xuICAgICAgZG9jdW1lbnQucGFnZXMuZm9yRWFjaCgocGFnZTogYW55KSA9PiB7XG4gICAgICAgIGlmIChwYWdlLmZvcm1GaWVsZHMpIHtcbiAgICAgICAgICBwYWdlLmZvcm1GaWVsZHMuZm9yRWFjaCgoZmllbGQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgaWYgKGZpZWxkLmZpZWxkVmFsdWU/LmNvbmZpZGVuY2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICB0b3RhbENvbmZpZGVuY2UgKz0gZmllbGQuZmllbGRWYWx1ZS5jb25maWRlbmNlO1xuICAgICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gY291bnQgPiAwID8gdG90YWxDb25maWRlbmNlIC8gY291bnQgOiAwO1xuICB9XG59XG5cbi8vIENvbmZpZ3VyYXRpb24gaGVscGVyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRG9jdW1lbnRBSUNvbmZpZygpOiBEb2N1bWVudEFJQ29uZmlnIHtcbiAgY29uc3QgY29uZmlnID0ge1xuICAgIHByb2plY3RJZDogcHJvY2Vzcy5lbnYuR09PR0xFX0NMT1VEX1BST0pFQ1RfSUQgfHwgJycsXG4gICAgbG9jYXRpb246IHByb2Nlc3MuZW52LkdPT0dMRV9DTE9VRF9MT0NBVElPTiB8fCAndXMnLFxuICAgIHcyUHJvY2Vzc29ySWQ6IHByb2Nlc3MuZW52LkdPT0dMRV9DTE9VRF9XMl9QUk9DRVNTT1JfSUQgfHwgJycsXG4gICAgZm9ybTEwOTlQcm9jZXNzb3JJZDogcHJvY2Vzcy5lbnYuR09PR0xFX0NMT1VEXzEwOTlfUFJPQ0VTU09SX0lEIHx8ICcnXG4gIH07XG5cbiAgaWYgKCFjb25maWcucHJvamVjdElkIHx8ICFjb25maWcudzJQcm9jZXNzb3JJZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCBHb29nbGUgQ2xvdWQgY29uZmlndXJhdGlvbi4gUGxlYXNlIHNldCBHT09HTEVfQ0xPVURfUFJPSkVDVF9JRCwgR09PR0xFX0NMT1VEX1cyX1BST0NFU1NPUl9JRCBlbnZpcm9ubWVudCB2YXJpYWJsZXMuJyk7XG4gIH1cblxuICByZXR1cm4gY29uZmlnO1xufVxuIl0sIm5hbWVzIjpbIkRvY3VtZW50UHJvY2Vzc29yU2VydmljZUNsaWVudCIsInJlYWRGaWxlIiwiRG9jdW1lbnRBSVNlcnZpY2UiLCJjb25zdHJ1Y3RvciIsImNvbmZpZyIsImNsaWVudCIsImxvY2F0aW9uIiwiYXBpRW5kcG9pbnQiLCJwcm9jZXNzRG9jdW1lbnQiLCJmaWxlUGF0aCIsImRvY3VtZW50VHlwZSIsInByb2Nlc3Nvck5hbWUiLCJnZXRQcm9jZXNzb3JOYW1lIiwiaW1hZ2VGaWxlIiwiZW5jb2RlZEltYWdlIiwiQnVmZmVyIiwiZnJvbSIsInRvU3RyaW5nIiwicmVxdWVzdCIsIm5hbWUiLCJyYXdEb2N1bWVudCIsImNvbnRlbnQiLCJtaW1lVHlwZSIsImdldE1pbWVUeXBlIiwicmVzdWx0IiwiZG9jdW1lbnQiLCJFcnJvciIsInRyYW5zZm9ybVRvVGF4RGF0YSIsImVycm9yIiwiY29uc29sZSIsInByb2plY3RJZCIsIncyUHJvY2Vzc29ySWQiLCJmb3JtMTA5OVByb2Nlc3NvcklkIiwiZXh0ZW5zaW9uIiwidG9Mb3dlckNhc2UiLCJzcGxpdCIsInBvcCIsImZ1bGxUZXh0IiwidGV4dCIsImV4dHJhY3RlZERhdGEiLCJhdmVyYWdlQ29uZmlkZW5jZSIsImV4dHJhY3RXMkRhdGEiLCJleHRyYWN0MTA5OUludERhdGEiLCJleHRyYWN0MTA5OURpdkRhdGEiLCJleHRyYWN0MTA5OU1pc2NEYXRhIiwiZXh0cmFjdDEwOTlOZWNEYXRhIiwiZXh0cmFjdEdlbmVyaWNUYXhEYXRhIiwiY2FsY3VsYXRlQXZlcmFnZUNvbmZpZGVuY2UiLCJvY3JUZXh0IiwiY29uZmlkZW5jZSIsIncyRGF0YSIsImVtcGxveWVyTmFtZSIsImVtcGxveWVyRUlOIiwiZW1wbG95ZXJBZGRyZXNzIiwiZW1wbG95ZWVOYW1lIiwiZW1wbG95ZWVTU04iLCJlbXBsb3llZUFkZHJlc3MiLCJ3YWdlcyIsImZlZGVyYWxUYXhXaXRoaGVsZCIsInNvY2lhbFNlY3VyaXR5V2FnZXMiLCJzb2NpYWxTZWN1cml0eVRheFdpdGhoZWxkIiwibWVkaWNhcmVXYWdlcyIsIm1lZGljYXJlVGF4V2l0aGhlbGQiLCJzb2NpYWxTZWN1cml0eVRpcHMiLCJhbGxvY2F0ZWRUaXBzIiwic3RhdGVXYWdlcyIsInN0YXRlVGF4V2l0aGhlbGQiLCJsb2NhbFdhZ2VzIiwibG9jYWxUYXhXaXRoaGVsZCIsImVudGl0aWVzIiwiZm9yRWFjaCIsImVudGl0eSIsInZhbHVlIiwiZ2V0VGV4dCIsInRleHRBbmNob3IiLCJ0eXBlIiwicGFnZXMiLCJmb3JtRmllbGRzIiwiZmllbGQiLCJmaWVsZE5hbWUiLCJmaWVsZFZhbHVlIiwiaW5jbHVkZXMiLCJkYXRhMTA5OUludCIsInBheWVyTmFtZSIsInBheWVyVElOIiwicGF5ZXJBZGRyZXNzIiwicmVjaXBpZW50TmFtZSIsInJlY2lwaWVudFRJTiIsInJlY2lwaWVudEFkZHJlc3MiLCJpbnRlcmVzdEluY29tZSIsImVhcmx5V2l0aGRyYXdhbFBlbmFsdHkiLCJpbnRlcmVzdE9uVVNhdmluZ3NCb25kcyIsImludmVzdG1lbnRFeHBlbnNlcyIsImZvcmVpZ25UYXhQYWlkIiwiZm9yZWlnbkNvdW50cnkiLCJ0YXhFeGVtcHRJbnRlcmVzdCIsInByaXZhdGVBY3Rpdml0eUJvbmRJbnRlcmVzdCIsIm1hcmtldERpc2NvdW50IiwiYm9uZFByZW1pdW0iLCJib25kUHJlbWl1bU9uVGF4RXhlbXB0Qm9uZCIsInN0YXRlQ29kZSIsInN0YXRlSWROdW1iZXIiLCJleHRyYWN0R2VuZXJpY0Zvcm1GaWVsZHMiLCJkYXRhMTA5OURpdiIsIm9yZGluYXJ5RGl2aWRlbmRzIiwicXVhbGlmaWVkRGl2aWRlbmRzIiwidG90YWxDYXBpdGFsR2FpbiIsInVucmVjYXB0dXJlZDEyNTBHYWluIiwic2VjdGlvbjEyMDJHYWluIiwiY29sbGVjdGlibGVzR2FpbiIsIm5vbmRpdmlkZW5kRGlzdHJpYnV0aW9ucyIsInNlY3Rpb24xOTlBRGl2aWRlbmRzIiwiY2FzaExpcXVpZGF0aW9uIiwibm9uY2FzaExpcXVpZGF0aW9uIiwiZGF0YTEwOTlNaXNjIiwicmVudHMiLCJyb3lhbHRpZXMiLCJvdGhlckluY29tZSIsImZpc2hpbmdCb2F0UHJvY2VlZHMiLCJtZWRpY2FsSGVhbHRoUGF5bWVudHMiLCJub25lbXBsb3llZUNvbXBlbnNhdGlvbiIsInN1YnN0aXR1dGVQYXltZW50cyIsImNyb3BJbnN1cmFuY2VQcm9jZWVkcyIsImdyb3NzUHJvY2VlZHMiLCJzZWN0aW9uNDA5QURlZmVycmFscyIsInNlY3Rpb240MDlBSW5jb21lIiwiZXhjZXNzR29sZGVuUGFyYWNodXRlIiwibm9ucXVhbGlmaWVkRGVmZXJyZWRDb21wZW5zYXRpb24iLCJkYXRhMTA5OU5lYyIsImdlbmVyaWNEYXRhIiwiaW5jb21lQW1vdW50IiwidGF4V2l0aGhlbGQiLCJyZWxldmFudEJveGVzIiwiZGF0YU9iamVjdCIsIm5vcm1hbGl6ZWRGaWVsZE5hbWUiLCJyZXBsYWNlIiwia2V5IiwiT2JqZWN0IiwiZW50cmllcyIsIm5vcm1hbGl6ZWRLZXkiLCJ0ZXh0U2VnbWVudHMiLCJsZW5ndGgiLCJzZWdtZW50Iiwic3RhcnRJbmRleCIsImVuZEluZGV4Iiwic3Vic3RyaW5nIiwidHJpbSIsInRvdGFsQ29uZmlkZW5jZSIsImNvdW50IiwidW5kZWZpbmVkIiwicGFnZSIsImNyZWF0ZURvY3VtZW50QUlDb25maWciLCJwcm9jZXNzIiwiZW52IiwiR09PR0xFX0NMT1VEX1BST0pFQ1RfSUQiLCJHT09HTEVfQ0xPVURfTE9DQVRJT04iLCJHT09HTEVfQ0xPVURfVzJfUFJPQ0VTU09SX0lEIiwiR09PR0xFX0NMT1VEXzEwOTlfUFJPQ0VTU09SX0lEIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/document-ai-service.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/jose","vendor-chunks/next-auth","vendor-chunks/openid-client","vendor-chunks/oauth","vendor-chunks/@babel","vendor-chunks/preact","vendor-chunks/yallist","vendor-chunks/preact-render-to-string","vendor-chunks/lru-cache","vendor-chunks/@panva","vendor-chunks/oidc-token-hash","vendor-chunks/@grpc","vendor-chunks/google-gax","vendor-chunks/protobufjs","vendor-chunks/google-auth-library","vendor-chunks/@google-cloud","vendor-chunks/readable-stream","vendor-chunks/proto3-json-serializer","vendor-chunks/@protobufjs","vendor-chunks/gaxios","vendor-chunks/jws","vendor-chunks/json-bigint","vendor-chunks/google-logging-utils","vendor-chunks/gcp-metadata","vendor-chunks/inherits","vendor-chunks/ecdsa-sig-formatter","vendor-chunks/long","vendor-chunks/gtoken","vendor-chunks/wrappy","vendor-chunks/util-deprecate","vendor-chunks/string_decoder","vendor-chunks/stream-shift","vendor-chunks/safe-buffer","vendor-chunks/retry-request","vendor-chunks/once","vendor-chunks/object-hash","vendor-chunks/lodash.camelcase","vendor-chunks/jwa","vendor-chunks/extend","vendor-chunks/event-target-shim","vendor-chunks/end-of-stream","vendor-chunks/duplexify","vendor-chunks/buffer-equal-constant-time","vendor-chunks/bignumber.js","vendor-chunks/base64-js","vendor-chunks/abort-controller","vendor-chunks/@js-sdsl"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdocuments%2F%5Bid%5D%2Fprocess%2Froute&page=%2Fapi%2Fdocuments%2F%5Bid%5D%2Fprocess%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdocuments%2F%5Bid%5D%2Fprocess%2Froute.ts&appDir=C%3A%5Ckiran%5Ctaxgrok%5Ctax_filing_app%5Capp%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Ckiran%5Ctaxgrok%5Ctax_filing_app%5Capp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();