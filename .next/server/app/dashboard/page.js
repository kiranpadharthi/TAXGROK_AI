(()=>{var e={};e.id=702,e.ids=[702],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},86624:e=>{"use strict";e.exports=require("querystring")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},37278:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>o,pages:()=>x,routeModule:()=>h,tree:()=>d}),a(55901),a(77564),a(35866);var t=a(23191),r=a(88716),l=a(37922),i=a.n(l),n=a(95231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);a.d(s,c);let d=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,55901)),"C:\\kiran\\taxgrok\\tax_filing_app\\app\\app\\dashboard\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,77564)),"C:\\kiran\\taxgrok\\tax_filing_app\\app\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],x=["C:\\kiran\\taxgrok\\tax_filing_app\\app\\app\\dashboard\\page.tsx"],o="/dashboard/page",m={require:a,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},66575:(e,s,a)=>{Promise.resolve().then(a.bind(a,32046))},32046:(e,s,a)=>{"use strict";a.d(s,{DashboardClient:()=>_});var t=a(10326),r=a(17577),l=a(35047),i=a(90772),n=a(33071),c=a(567),d=a(60064),x=a(36283),o=a(79635),m=a(62881);let h=(0,m.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),u=(0,m.Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var p=a(71821),j=a(30361),g=a(63685);let N=(0,m.Z)("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);var y=a(83855),f=a(48998),v=a(77109),b=a(43273),w=a(79210),S=a(41105),C=a(41291);let Z=(0,m.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var k=a(12714),D=a(98091);function O({taxReturnId:e,onDocumentProcessed:s}){let[a,l]=(0,r.useState)([]),[d,o]=(0,r.useState)(!0),[m,h]=(0,r.useState)(null),u=async()=>{try{let s=await fetch(`/api/tax-returns/${e}/documents`);if(s.ok){let e=await s.json();l(e)}}catch(e){console.error("Error fetching documents:",e)}finally{o(!1)}},p=async e=>{try{(await fetch(`/api/documents/${e}`,{method:"DELETE"})).ok&&(l(a.filter(s=>s.id!==e)),m?.id===e&&h(null))}catch(e){console.error("Error deleting document:",e)}},g=async e=>{try{(await fetch(`/api/documents/${e}/process`,{method:"POST"})).ok&&u()}catch(e){console.error("Error reprocessing document:",e)}},y=e=>{switch(e){case"COMPLETED":return(0,t.jsxs)(c.C,{variant:"default",className:"bg-green-100 text-green-800",children:[t.jsx(j.Z,{className:"h-3 w-3 mr-1"}),"Completed"]});case"PROCESSING":return(0,t.jsxs)(c.C,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:[t.jsx(f.Z,{className:"h-3 w-3 mr-1"}),"Processing"]});case"FAILED":return(0,t.jsxs)(c.C,{variant:"destructive",children:[t.jsx(C.Z,{className:"h-3 w-3 mr-1"}),"Failed"]});case"PENDING":return(0,t.jsxs)(c.C,{variant:"outline",children:[t.jsx(f.Z,{className:"h-3 w-3 mr-1"}),"Pending"]});default:return t.jsx(c.C,{variant:"secondary",children:e})}},v=e=>({W2:"W-2 Form",FORM_1099_INT:"1099-INT Form",FORM_1099_DIV:"1099-DIV Form",FORM_1099_MISC:"1099-MISC Form",FORM_1099_NEC:"1099-NEC Form",FORM_1099_R:"1099-R Form",FORM_1099_G:"1099-G Form",OTHER_TAX_DOCUMENT:"Other Tax Document"})[e]||e,S=e=>{if(0===e)return"0 Bytes";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["Bytes","KB","MB","GB"][s]};return d?t.jsx(n.Zb,{children:t.jsx(n.aY,{className:"py-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-center",children:[t.jsx(Z,{className:"h-6 w-6 animate-spin"}),t.jsx("span",{className:"ml-2",children:"Loading documents..."})]})})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(n.Zb,{children:[(0,t.jsxs)(n.Ol,{children:[(0,t.jsxs)(n.ll,{className:"flex items-center space-x-2",children:[t.jsx(N,{className:"h-5 w-5"}),t.jsx("span",{children:"Document Management"})]}),t.jsx(n.SZ,{children:"View and manage all uploaded tax documents and their processing status"})]}),t.jsx(n.aY,{children:0===a.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[t.jsx(x.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No documents uploaded yet"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Upload your tax documents to get started"})]}):t.jsx("div",{className:"space-y-4",children:a.map(e=>t.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-colors ${m?.id===e.id?"border-primary bg-primary/5":"border-gray-200 hover:border-gray-300"}`,onClick:()=>h(e),children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx(x.Z,{className:"h-5 w-5 text-gray-500"}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium",children:e.fileName}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[t.jsx(c.C,{variant:"outline",className:"text-xs",children:v(e.documentType)}),y(e.processingStatus),e.isVerified&&(0,t.jsxs)(c.C,{variant:"default",className:"bg-green-100 text-green-800 text-xs",children:[t.jsx(j.Z,{className:"h-3 w-3 mr-1"}),"Verified"]})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-sm text-gray-500",children:S(e.fileSize)}),(0,t.jsxs)("div",{className:"flex space-x-1",children:[t.jsx(i.z,{variant:"ghost",size:"sm",onClick:s=>{s.stopPropagation(),h(e)},children:t.jsx(k.Z,{className:"h-4 w-4"})}),"FAILED"===e.processingStatus&&t.jsx(i.z,{variant:"ghost",size:"sm",onClick:s=>{s.stopPropagation(),g(e.id)},children:t.jsx(Z,{className:"h-4 w-4"})}),t.jsx(i.z,{variant:"ghost",size:"sm",onClick:s=>{s.stopPropagation(),p(e.id)},children:t.jsx(D.Z,{className:"h-4 w-4 text-red-500"})})]})]})]})},e.id))})})]}),m&&(0,t.jsxs)(n.Zb,{children:[(0,t.jsxs)(n.Ol,{children:[(0,t.jsxs)(n.ll,{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(x.Z,{className:"h-5 w-5"}),t.jsx("span",{children:m.fileName})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[y(m.processingStatus),t.jsx(c.C,{variant:"outline",children:v(m.documentType)})]})]}),t.jsx(n.SZ,{children:"Document details and extracted information"})]}),t.jsx(n.aY,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium text-gray-700",children:"File Type"}),t.jsx("p",{className:"text-gray-600",children:m.fileType})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium text-gray-700",children:"File Size"}),t.jsx("p",{className:"text-gray-600",children:S(m.fileSize)})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium text-gray-700",children:"Uploaded"}),t.jsx("p",{className:"text-gray-600",children:new Date(m.createdAt).toLocaleDateString()})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium text-gray-700",children:"Last Updated"}),t.jsx("p",{className:"text-gray-600",children:new Date(m.updatedAt).toLocaleDateString()})]})]}),"COMPLETED"===m.processingStatus&&m.extractedData&&(0,t.jsxs)(w.mQ,{defaultValue:"extracted",className:"w-full",children:[(0,t.jsxs)(w.dr,{className:"grid w-full grid-cols-2",children:[t.jsx(w.SP,{value:"extracted",children:"Extracted Data"}),t.jsx(w.SP,{value:"ocr",children:"OCR Text"})]}),t.jsx(w.nU,{value:"extracted",className:"mt-4",children:t.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:t.jsx("pre",{className:"whitespace-pre-wrap text-sm",children:JSON.stringify(m.extractedData,null,2)})})}),t.jsx(w.nU,{value:"ocr",className:"mt-4",children:t.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:t.jsx("p",{className:"text-sm font-mono whitespace-pre-wrap",children:m.ocrText||"No OCR text available"})})})]}),"FAILED"===m.processingStatus&&(0,t.jsxs)(b.bZ,{variant:"destructive",children:[t.jsx(C.Z,{className:"h-4 w-4"}),t.jsx(b.X,{children:"Document processing failed. You can try reprocessing it or upload a different version."})]}),"PROCESSING"===m.processingStatus&&(0,t.jsxs)(b.bZ,{children:[t.jsx(f.Z,{className:"h-4 w-4"}),t.jsx(b.X,{children:"Document is currently being processed. This may take a few moments."})]})]})})]})]})}var P=a(18019);function R({taxReturnId:e,onDocumentProcessed:s}){let[a,l]=(0,r.useState)("upload");return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(b.bZ,{className:"border-blue-200 bg-blue-50",children:[t.jsx(P.Z,{className:"h-4 w-4 text-blue-600"}),t.jsx(b.X,{className:"text-blue-800",children:"Upload your tax documents (W-2, 1099 forms, etc.) for automatic data extraction and processing. This will save time when you're ready to file your tax return."})]}),(0,t.jsxs)(w.mQ,{value:a,onValueChange:l,className:"w-full",children:[(0,t.jsxs)(w.dr,{className:"grid w-full grid-cols-2",children:[(0,t.jsxs)(w.SP,{value:"upload",className:"flex items-center space-x-2",children:[t.jsx(g.Z,{className:"h-4 w-4"}),t.jsx("span",{children:"Upload Documents"})]}),(0,t.jsxs)(w.SP,{value:"manage",className:"flex items-center space-x-2",children:[t.jsx(N,{className:"h-4 w-4"}),t.jsx("span",{children:"Manage Documents"})]})]}),(0,t.jsxs)(w.nU,{value:"upload",className:"space-y-6",children:[(0,t.jsxs)(n.Zb,{children:[(0,t.jsxs)(n.Ol,{children:[(0,t.jsxs)(n.ll,{className:"flex items-center space-x-2",children:[t.jsx(g.Z,{className:"h-5 w-5 text-blue-500"}),t.jsx("span",{children:"Document Upload"})]}),t.jsx(n.SZ,{children:"Upload your tax documents for automatic processing and data extraction"})]}),t.jsx(n.aY,{children:t.jsx(S.p,{taxReturnId:e,onDocumentProcessed:s||(()=>{})})})]}),(0,t.jsxs)(n.Zb,{children:[(0,t.jsxs)(n.Ol,{children:[t.jsx(n.ll,{children:"Supported Document Types"}),t.jsx(n.SZ,{children:"We support the following tax document types for automatic processing"})]}),t.jsx(n.aY,{children:t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[{type:"W-2",description:"Wage and Tax Statement"},{type:"1099-INT",description:"Interest Income"},{type:"1099-DIV",description:"Dividend Income"},{type:"1099-MISC",description:"Miscellaneous Income"},{type:"1099-NEC",description:"Nonemployee Compensation"},{type:"1099-R",description:"Retirement Distributions"}].map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-lg",children:[t.jsx(x.Z,{className:"h-4 w-4 text-gray-500"}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium text-sm",children:e.type}),t.jsx("p",{className:"text-xs text-gray-600",children:e.description})]})]},e.type))})})]})]}),t.jsx(w.nU,{value:"manage",className:"space-y-6",children:t.jsx(O,{taxReturnId:e,onDocumentProcessed:s||(()=>{})})})]})]})}function _({user:e}){let s=(0,l.useRouter)(),[a,m]=(0,r.useState)(!1),[b,w]=(0,r.useState)([]),[S,C]=(0,r.useState)(!1),[Z,k]=(0,r.useState)(!1),D=async()=>{k(!0);try{let s=e.taxReturns.find(e=>2024===e.taxYear);if(s){let e=await fetch(`/api/tax-returns/${s.id}/documents`);if(e.ok){let s=await e.json();w(s)}}}catch(e){console.error("Error fetching documents:",e)}finally{k(!1)}},O=async()=>{m(!0);try{let e=await fetch("/api/tax-returns",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({taxYear:2024,filingStatus:"SINGLE"})});if(e.ok){let a=await e.json();s.push(`/tax-filing/${a.id}`)}}catch(e){console.error("Error creating tax return:",e)}finally{m(!1)}},P=e.taxReturns.find(e=>2024===e.taxYear),_=P?P.currentStep/7*100:0;return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("header",{className:"bg-white shadow-sm border-b",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(x.Z,{className:"h-8 w-8 text-primary"}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"TaxGrok.AI"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(o.Z,{className:"h-4 w-4 text-gray-500"}),t.jsx("span",{className:"text-sm text-gray-700",children:e.name||e.email})]}),t.jsx(i.z,{variant:"ghost",size:"sm",onClick:()=>{(0,v.signOut)({callbackUrl:"/"})},children:t.jsx(h,{className:"h-4 w-4"})})]})]})})}),(0,t.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Welcome back, ",e.name?.split(" ")[0]||"there","!"]}),t.jsx("p",{className:"text-gray-600",children:"Manage your tax returns and track your filing progress"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,t.jsxs)(n.Zb,{children:[(0,t.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(n.ll,{className:"text-sm font-medium",children:"Tax Year 2024"}),t.jsx(u,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(n.aY,{children:[t.jsx("div",{className:"text-2xl font-bold",children:P?P.isCompleted?"Completed":"In Progress":"Not Started"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Filing deadline: April 15, 2025"})]})]}),(0,t.jsxs)(n.Zb,{children:[(0,t.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(n.ll,{className:"text-sm font-medium",children:"Refund/Owed"}),t.jsx(p.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(n.aY,{children:[t.jsx("div",{className:"text-2xl font-bold",children:P?Number(P.refundAmount)>0?`$${Number(P.refundAmount).toLocaleString()}`:Number(P.amountOwed)>0?`-$${Number(P.amountOwed).toLocaleString()}`:"$0":"--"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:P&&Number(P.refundAmount)>0?"Expected refund":"Amount owed"})]})]}),(0,t.jsxs)(n.Zb,{children:[(0,t.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(n.ll,{className:"text-sm font-medium",children:"Progress"}),t.jsx(j.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(n.aY,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold",children:[Math.round(_),"%"]}),t.jsx(d.E,{value:_,className:"mt-2"})]})]})]}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Tax Documents"}),(0,t.jsxs)(i.z,{onClick:()=>C(!S),variant:"outline",size:"sm",children:[t.jsx(g.Z,{className:"h-4 w-4 mr-2"}),"Upload Documents"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(n.Zb,{className:"border-2 border-dashed border-gray-200 hover:border-blue-300 transition-colors",children:[(0,t.jsxs)(n.Ol,{children:[(0,t.jsxs)(n.ll,{className:"flex items-center space-x-2",children:[t.jsx(g.Z,{className:"h-5 w-5 text-blue-500"}),t.jsx("span",{children:"Upload Tax Documents"})]}),t.jsx(n.SZ,{children:"Upload W-2s, 1099s, and other tax documents for automatic data extraction"})]}),t.jsx(n.aY,{children:(0,t.jsxs)("div",{className:"text-center py-4",children:[t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Drag and drop your tax documents here or click to upload"}),(0,t.jsxs)(i.z,{onClick:()=>C(!S),className:"w-full",children:[t.jsx(g.Z,{className:"h-4 w-4 mr-2"}),S?"Hide Upload":"Start Upload"]})]})})]}),(0,t.jsxs)(n.Zb,{children:[(0,t.jsxs)(n.Ol,{children:[(0,t.jsxs)(n.ll,{className:"flex items-center space-x-2",children:[t.jsx(N,{className:"h-5 w-5 text-green-500"}),t.jsx("span",{children:"Document Summary"})]}),t.jsx(n.SZ,{children:"Overview of your uploaded tax documents"})]}),t.jsx(n.aY,{children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Total Documents"}),t.jsx(c.C,{variant:"secondary",children:b.length})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Processed"}),t.jsx(c.C,{variant:"default",className:"bg-green-100 text-green-800",children:b.filter(e=>"COMPLETED"===e.processingStatus).length})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Processing"}),t.jsx(c.C,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:b.filter(e=>"PROCESSING"===e.processingStatus).length})]}),b.length>0&&(0,t.jsxs)(i.z,{variant:"outline",size:"sm",className:"w-full mt-3",onClick:()=>C(!0),children:[t.jsx(N,{className:"h-4 w-4 mr-2"}),"View All Documents"]})]})})]})]}),S&&(0,t.jsxs)(n.Zb,{className:"mt-6",children:[(0,t.jsxs)(n.Ol,{children:[t.jsx(n.ll,{children:"Document Upload & Management"}),t.jsx(n.SZ,{children:"Upload and manage your tax documents with automatic data extraction"})]}),t.jsx(n.aY,{children:P?t.jsx(R,{taxReturnId:P.id,onDocumentProcessed:()=>{D()}}):(0,t.jsxs)("div",{className:"text-center py-8",children:[t.jsx(x.Z,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"To upload documents, you need to start a tax return first."}),(0,t.jsxs)(i.z,{onClick:O,disabled:a,children:[t.jsx(y.Z,{className:"mr-2 h-4 w-4"}),a?"Creating...":"Start Tax Return"]})]})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Current Tax Return"}),P?(0,t.jsxs)(n.Zb,{children:[(0,t.jsxs)(n.Ol,{children:[(0,t.jsxs)(n.ll,{className:"flex items-center justify-between",children:[t.jsx("span",{children:"2024 Tax Return"}),t.jsx(c.C,{variant:P.isCompleted?"default":"secondary",children:P.isCompleted?"Completed":"In Progress"})]}),(0,t.jsxs)(n.SZ,{children:["Last updated: ",new Date(P.updatedAt).toLocaleDateString()]})]}),t.jsx(n.aY,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[(0,t.jsxs)("span",{children:["Step ",P.currentStep," of 7"]}),(0,t.jsxs)("span",{children:[Math.round(_),"%"]})]}),t.jsx(d.E,{value:_})]}),t.jsx("div",{className:"pt-4",children:t.jsx(i.z,{onClick:()=>s.push(`/tax-filing/${P.id}`),className:"w-full",children:P.isCompleted?"Review Return":"Continue Filing"})})]})})]}):(0,t.jsxs)(n.Zb,{children:[(0,t.jsxs)(n.Ol,{children:[t.jsx(n.ll,{children:"Start Your 2024 Tax Return"}),t.jsx(n.SZ,{children:"Get started with a simple step-by-step process"})]}),t.jsx(n.aY,{children:(0,t.jsxs)("div",{className:"text-center py-8",children:[t.jsx(x.Z,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Ready to file your 2024 tax return? We'll guide you through each step."}),(0,t.jsxs)(i.z,{onClick:O,disabled:a,size:"lg",children:[t.jsx(y.Z,{className:"mr-2 h-4 w-4"}),a?"Creating...":"Start New Return"]})]})})]})]}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Recent Tax Returns"}),t.jsx("div",{className:"space-y-4",children:e.taxReturns.length>0?e.taxReturns.map(e=>(0,t.jsxs)(n.Zb,{children:[(0,t.jsxs)(n.Ol,{children:[(0,t.jsxs)(n.ll,{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{children:[e.taxYear," Tax Return"]}),t.jsx("div",{className:"flex items-center space-x-2",children:e.isFiled?(0,t.jsxs)(c.C,{variant:"default",children:[t.jsx(j.Z,{className:"w-3 h-3 mr-1"}),"Filed"]}):e.isCompleted?(0,t.jsxs)(c.C,{variant:"secondary",children:[t.jsx(f.Z,{className:"w-3 h-3 mr-1"}),"Ready to File"]}):(0,t.jsxs)(c.C,{variant:"outline",children:[t.jsx(f.Z,{className:"w-3 h-3 mr-1"}),"In Progress"]})})]}),(0,t.jsxs)(n.SZ,{children:["Filing Status: ",e.filingStatus.replace(/_/g," ")]})]}),t.jsx(n.aY,{children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[t.jsx("div",{children:(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Created: ",new Date(e.createdAt).toLocaleDateString()]})}),t.jsx(i.z,{variant:"outline",size:"sm",onClick:()=>s.push(`/tax-filing/${e.id}`),children:"View"})]})})]},e.id)):t.jsx(n.Zb,{children:(0,t.jsxs)(n.aY,{className:"text-center py-8",children:[t.jsx(x.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"No tax returns yet"})]})})})]})]})]})]})}},55901:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>c});var t=a(19510),r=a(75571),l=a(58585),i=a(9487);let n=(0,a(68570).createProxy)(String.raw`C:\kiran\taxgrok\tax_filing_app\app\components\dashboard-client.tsx#DashboardClient`);async function c(){let e=await (0,r.getServerSession)();e?.user?.email||(0,l.redirect)("/auth/login");let s=await i._.user.findUnique({where:{email:e.user.email},include:{taxReturns:{orderBy:{createdAt:"desc"},take:5}}});return s||(0,l.redirect)("/auth/login"),t.jsx(n,{user:s})}}};var s=require("../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[276,115,571,554,484,283],()=>a(37278));module.exports=t})();