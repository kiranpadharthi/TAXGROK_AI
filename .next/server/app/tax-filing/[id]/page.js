(()=>{var e={};e.id=184,e.ids=[184],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},86624:e=>{"use strict";e.exports=require("querystring")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},25866:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c}),n(30630),n(77564),n(35866);var a=n(23191),s=n(88716),r=n(37922),i=n.n(r),l=n(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);n.d(t,o);let c=["",{children:["tax-filing",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(n.bind(n,30630)),"C:\\kiran\\taxgrok\\tax_filing_app\\app\\app\\tax-filing\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(n.bind(n,77564)),"C:\\kiran\\taxgrok\\tax_filing_app\\app\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,35866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\kiran\\taxgrok\\tax_filing_app\\app\\app\\tax-filing\\[id]\\page.tsx"],u="/tax-filing/[id]/page",m={require:n,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/tax-filing/[id]/page",pathname:"/tax-filing/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},54065:(e,t,n)=>{Promise.resolve().then(n.bind(n,97141))},97141:(e,t,n)=>{"use strict";n.d(t,{TaxFilingInterface:()=>rx});var a,s,r,i=n(10326),l=n(17577),o=n(35047),c=n(90772),d=n(33071),u=n(60064),m=n(567),p=n(79635),x=n(71821),h=n(62881);let f=(0,h.Z)("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]),y=(0,h.Z)("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);var g=n(12714);let v=(0,h.Z)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),j=(0,h.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var b=n(36283);let N=(0,h.Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),w=(0,h.Z)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);var S=n(54432),C=n(45842),E=n(60962);function T(e,[t,n]){return Math.min(n,Math.max(t,e))}var I=n(82561),k=n(70545),R=n(48051),A=n(93095),D=n(17124),L=n(45226),M=n(55049),O="dismissableLayer.update",P=l.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),F=l.forwardRef((e,t)=>{let{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:r,onFocusOutside:o,onInteractOutside:c,onDismiss:d,...u}=e,m=l.useContext(P),[p,x]=l.useState(null),h=p?.ownerDocument??globalThis?.document,[,f]=l.useState({}),y=(0,R.e)(t,e=>x(e)),g=Array.from(m.layers),[v]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),j=g.indexOf(v),b=p?g.indexOf(p):-1,N=m.layersWithOutsidePointerEventsDisabled.size>0,w=b>=j,S=function(e,t=globalThis?.document){let n=(0,M.W)(e),a=l.useRef(!1),s=l.useRef(()=>{});return l.useEffect(()=>{let e=e=>{if(e.target&&!a.current){let a=function(){_("dismissableLayer.pointerDownOutside",n,r,{discrete:!0})},r={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",s.current),s.current=a,t.addEventListener("click",s.current,{once:!0})):a()}else t.removeEventListener("click",s.current);a.current=!1},r=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(r),t.removeEventListener("pointerdown",e),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>a.current=!0}}(e=>{let t=e.target,n=[...m.branches].some(e=>e.contains(t));!w||n||(r?.(e),c?.(e),e.defaultPrevented||d?.())},h),C=function(e,t=globalThis?.document){let n=(0,M.W)(e),a=l.useRef(!1);return l.useEffect(()=>{let e=e=>{e.target&&!a.current&&_("dismissableLayer.focusOutside",n,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}(e=>{let t=e.target;[...m.branches].some(e=>e.contains(t))||(o?.(e),c?.(e),e.defaultPrevented||d?.())},h);return function(e,t=globalThis?.document){let n=(0,M.W)(e);l.useEffect(()=>{let e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[n,t])}(e=>{b!==m.layers.size-1||(a?.(e),!e.defaultPrevented&&d&&(e.preventDefault(),d()))},h),l.useEffect(()=>{if(p)return n&&(0===m.layersWithOutsidePointerEventsDisabled.size&&(s=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(p)),m.layers.add(p),z(),()=>{n&&1===m.layersWithOutsidePointerEventsDisabled.size&&(h.body.style.pointerEvents=s)}},[p,h,n,m]),l.useEffect(()=>()=>{p&&(m.layers.delete(p),m.layersWithOutsidePointerEventsDisabled.delete(p),z())},[p,m]),l.useEffect(()=>{let e=()=>f({});return document.addEventListener(O,e),()=>document.removeEventListener(O,e)},[]),(0,i.jsx)(L.WV.div,{...u,ref:y,style:{pointerEvents:N?w?"auto":"none":void 0,...e.style},onFocusCapture:(0,I.M)(e.onFocusCapture,C.onFocusCapture),onBlurCapture:(0,I.M)(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:(0,I.M)(e.onPointerDownCapture,S.onPointerDownCapture)})});function z(){let e=new CustomEvent(O);document.dispatchEvent(e)}function _(e,t,n,{discrete:a}){let s=n.originalEvent.target,r=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),a?(0,L.jH)(s,r):s.dispatchEvent(r)}F.displayName="DismissableLayer",l.forwardRef((e,t)=>{let n=l.useContext(P),a=l.useRef(null),s=(0,R.e)(t,a);return l.useEffect(()=>{let e=a.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),(0,i.jsx)(L.WV.div,{...e,ref:s})}).displayName="DismissableLayerBranch";var Z=0;function W(){l.useEffect(()=>{let e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??$()),document.body.insertAdjacentElement("beforeend",e[1]??$()),Z++,()=>{1===Z&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Z--}},[])}function $(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var Y="focusScope.autoFocusOnMount",V="focusScope.autoFocusOnUnmount",H={bubbles:!1,cancelable:!0},B=l.forwardRef((e,t)=>{let{loop:n=!1,trapped:a=!1,onMountAutoFocus:s,onUnmountAutoFocus:r,...o}=e,[c,d]=l.useState(null),u=(0,M.W)(s),m=(0,M.W)(r),p=l.useRef(null),x=(0,R.e)(t,e=>d(e)),h=l.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;l.useEffect(()=>{if(a){let e=function(e){if(h.paused||!c)return;let t=e.target;c.contains(t)?p.current=t:G(p.current,{select:!0})},t=function(e){if(h.paused||!c)return;let t=e.relatedTarget;null===t||c.contains(t)||G(p.current,{select:!0})};document.addEventListener("focusin",e),document.addEventListener("focusout",t);let n=new MutationObserver(function(e){if(document.activeElement===document.body)for(let t of e)t.removedNodes.length>0&&G(c)});return c&&n.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),n.disconnect()}}},[a,c,h.paused]),l.useEffect(()=>{if(c){X.add(h);let e=document.activeElement;if(!c.contains(e)){let t=new CustomEvent(Y,H);c.addEventListener(Y,u),c.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){let n=document.activeElement;for(let a of e)if(G(a,{select:t}),document.activeElement!==n)return}(q(c).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&G(c))}return()=>{c.removeEventListener(Y,u),setTimeout(()=>{let t=new CustomEvent(V,H);c.addEventListener(V,m),c.dispatchEvent(t),t.defaultPrevented||G(e??document.body,{select:!0}),c.removeEventListener(V,m),X.remove(h)},0)}}},[c,u,m,h]);let f=l.useCallback(e=>{if(!n&&!a||h.paused)return;let t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,s=document.activeElement;if(t&&s){let t=e.currentTarget,[a,r]=function(e){let t=q(e);return[U(t,e),U(t.reverse(),e)]}(t);a&&r?e.shiftKey||s!==r?e.shiftKey&&s===a&&(e.preventDefault(),n&&G(r,{select:!0})):(e.preventDefault(),n&&G(a,{select:!0})):s===t&&e.preventDefault()}},[n,a,h.paused]);return(0,i.jsx)(L.WV.div,{tabIndex:-1,...o,ref:x,onKeyDown:f})});function q(e){let t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function U(e,t){for(let n of e)if(!function(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e&&(void 0===t||e!==t);){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(n,{upTo:t}))return n}function G(e,{select:t=!1}={}){if(e&&e.focus){var n;let a=document.activeElement;e.focus({preventScroll:!0}),e!==a&&(n=e)instanceof HTMLInputElement&&"select"in n&&t&&e.select()}}B.displayName="FocusScope";var X=function(){let e=[];return{add(t){let n=e[0];t!==n&&n?.pause(),(e=K(e,t)).unshift(t)},remove(t){e=K(e,t),e[0]?.resume()}}}();function K(e,t){let n=[...e],a=n.indexOf(t);return -1!==a&&n.splice(a,1),n}var J=n(88957);let Q=["top","right","bottom","left"],ee=Math.min,et=Math.max,en={left:"right",right:"left",bottom:"top",top:"bottom"},ea={start:"end",end:"start"};function es(e,t){return"function"==typeof e?e(t):e}function er(e){return e.split("-")[0]}function ei(e){return e.split("-")[1]}function el(e){return"x"===e?"y":"x"}function eo(e){return"y"===e?"height":"width"}let ec=new Set(["top","bottom"]);function ed(e){return ec.has(er(e))?"y":"x"}function eu(e){return e.replace(/start|end/g,e=>ea[e])}let em=["left","right"],ep=["right","left"],ex=["top","bottom"],eh=["bottom","top"];function ef(e){return e.replace(/left|right|bottom|top/g,e=>en[e])}function ey(e){return"number"!=typeof e?{top:0,right:0,bottom:0,left:0,...e}:{top:e,right:e,bottom:e,left:e}}function eg(e){let{x:t,y:n,width:a,height:s}=e;return{width:a,height:s,top:n,left:t,right:t+a,bottom:n+s,x:t,y:n}}function ev(e,t,n){let a,{reference:s,floating:r}=e,i=ed(t),l=el(ed(t)),o=eo(l),c=er(t),d="y"===i,u=s.x+s.width/2-r.width/2,m=s.y+s.height/2-r.height/2,p=s[o]/2-r[o]/2;switch(c){case"top":a={x:u,y:s.y-r.height};break;case"bottom":a={x:u,y:s.y+s.height};break;case"right":a={x:s.x+s.width,y:m};break;case"left":a={x:s.x-r.width,y:m};break;default:a={x:s.x,y:s.y}}switch(ei(t)){case"start":a[l]-=p*(n&&d?-1:1);break;case"end":a[l]+=p*(n&&d?-1:1)}return a}let ej=async(e,t,n)=>{let{placement:a="bottom",strategy:s="absolute",middleware:r=[],platform:i}=n,l=r.filter(Boolean),o=await (null==i.isRTL?void 0:i.isRTL(t)),c=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:u}=ev(c,a,o),m=a,p={},x=0;for(let n=0;n<l.length;n++){let{name:r,fn:h}=l[n],{x:f,y:y,data:g,reset:v}=await h({x:d,y:u,initialPlacement:a,placement:m,strategy:s,middlewareData:p,rects:c,platform:i,elements:{reference:e,floating:t}});d=null!=f?f:d,u=null!=y?y:u,p={...p,[r]:{...p[r],...g}},v&&x<=50&&(x++,"object"==typeof v&&(v.placement&&(m=v.placement),v.rects&&(c=!0===v.rects?await i.getElementRects({reference:e,floating:t,strategy:s}):v.rects),{x:d,y:u}=ev(c,m,o)),n=-1)}return{x:d,y:u,placement:m,strategy:s,middlewareData:p}};async function eb(e,t){var n;void 0===t&&(t={});let{x:a,y:s,platform:r,rects:i,elements:l,strategy:o}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:m=!1,padding:p=0}=es(t,e),x=ey(p),h=l[m?"floating"===u?"reference":"floating":u],f=eg(await r.getClippingRect({element:null==(n=await (null==r.isElement?void 0:r.isElement(h)))||n?h:h.contextElement||await (null==r.getDocumentElement?void 0:r.getDocumentElement(l.floating)),boundary:c,rootBoundary:d,strategy:o})),y="floating"===u?{x:a,y:s,width:i.floating.width,height:i.floating.height}:i.reference,g=await (null==r.getOffsetParent?void 0:r.getOffsetParent(l.floating)),v=await (null==r.isElement?void 0:r.isElement(g))&&await (null==r.getScale?void 0:r.getScale(g))||{x:1,y:1},j=eg(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:g,strategy:o}):y);return{top:(f.top-j.top+x.top)/v.y,bottom:(j.bottom-f.bottom+x.bottom)/v.y,left:(f.left-j.left+x.left)/v.x,right:(j.right-f.right+x.right)/v.x}}function eN(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ew(e){return Q.some(t=>e[t]>=0)}let eS=new Set(["left","top"]);async function eC(e,t){let{placement:n,platform:a,elements:s}=e,r=await (null==a.isRTL?void 0:a.isRTL(s.floating)),i=er(n),l=ei(n),o="y"===ed(n),c=eS.has(i)?-1:1,d=r&&o?-1:1,u=es(t,e),{mainAxis:m,crossAxis:p,alignmentAxis:x}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return l&&"number"==typeof x&&(p="end"===l?-1*x:x),o?{x:p*d,y:m*c}:{x:m*c,y:p*d}}let eE=Math.min,eT=Math.max,eI=Math.round,ek=Math.floor,eR=e=>({x:e,y:e});function eA(){return"undefined"!=typeof window}function eD(e){return eO(e)?(e.nodeName||"").toLowerCase():"#document"}function eL(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function eM(e){var t;return null==(t=(eO(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function eO(e){return!!eA()&&(e instanceof Node||e instanceof eL(e).Node)}function eP(e){return!!eA()&&(e instanceof Element||e instanceof eL(e).Element)}function eF(e){return!!eA()&&(e instanceof HTMLElement||e instanceof eL(e).HTMLElement)}function ez(e){return!!eA()&&"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof eL(e).ShadowRoot)}let e_=new Set(["inline","contents"]);function eZ(e){let{overflow:t,overflowX:n,overflowY:a,display:s}=eK(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+n)&&!e_.has(s)}let eW=new Set(["table","td","th"]),e$=[":popover-open",":modal"];function eY(e){return e$.some(t=>{try{return e.matches(t)}catch(e){return!1}})}let eV=["transform","translate","scale","rotate","perspective"],eH=["transform","translate","scale","rotate","perspective","filter"],eB=["paint","layout","strict","content"];function eq(e){let t=eU(),n=eP(e)?eK(e):e;return eV.some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||eH.some(e=>(n.willChange||"").includes(e))||eB.some(e=>(n.contain||"").includes(e))}function eU(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}let eG=new Set(["html","body","#document"]);function eX(e){return eG.has(eD(e))}function eK(e){return eL(e).getComputedStyle(e)}function eJ(e){return eP(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function eQ(e){if("html"===eD(e))return e;let t=e.assignedSlot||e.parentNode||ez(e)&&e.host||eM(e);return ez(t)?t.host:t}function e0(e,t,n){var a;void 0===t&&(t=[]),void 0===n&&(n=!0);let s=function e(t){let n=eQ(t);return eX(n)?t.ownerDocument?t.ownerDocument.body:t.body:eF(n)&&eZ(n)?n:e(n)}(e),r=s===(null==(a=e.ownerDocument)?void 0:a.body),i=eL(s);if(r){let e=e1(i);return t.concat(i,i.visualViewport||[],eZ(s)?s:[],e&&n?e0(e):[])}return t.concat(s,e0(s,[],n))}function e1(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function e2(e){let t=eK(e),n=parseFloat(t.width)||0,a=parseFloat(t.height)||0,s=eF(e),r=s?e.offsetWidth:n,i=s?e.offsetHeight:a,l=eI(n)!==r||eI(a)!==i;return l&&(n=r,a=i),{width:n,height:a,$:l}}function e4(e){return eP(e)?e:e.contextElement}function e5(e){let t=e4(e);if(!eF(t))return eR(1);let n=t.getBoundingClientRect(),{width:a,height:s,$:r}=e2(t),i=(r?eI(n.width):n.width)/a,l=(r?eI(n.height):n.height)/s;return i&&Number.isFinite(i)||(i=1),l&&Number.isFinite(l)||(l=1),{x:i,y:l}}let e6=eR(0);function e3(e){let t=eL(e);return eU()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:e6}function e8(e,t,n,a){var s;void 0===t&&(t=!1),void 0===n&&(n=!1);let r=e.getBoundingClientRect(),i=e4(e),l=eR(1);t&&(a?eP(a)&&(l=e5(a)):l=e5(e));let o=(void 0===(s=n)&&(s=!1),a&&(!s||a===eL(i))&&s)?e3(i):eR(0),c=(r.left+o.x)/l.x,d=(r.top+o.y)/l.y,u=r.width/l.x,m=r.height/l.y;if(i){let e=eL(i),t=a&&eP(a)?eL(a):a,n=e,s=e1(n);for(;s&&a&&t!==n;){let e=e5(s),t=s.getBoundingClientRect(),a=eK(s),r=t.left+(s.clientLeft+parseFloat(a.paddingLeft))*e.x,i=t.top+(s.clientTop+parseFloat(a.paddingTop))*e.y;c*=e.x,d*=e.y,u*=e.x,m*=e.y,c+=r,d+=i,s=e1(n=eL(s))}}return eg({width:u,height:m,x:c,y:d})}function e7(e,t){let n=eJ(e).scrollLeft;return t?t.left+n:e8(eM(e)).left+n}function e9(e,t,n){void 0===n&&(n=!1);let a=e.getBoundingClientRect();return{x:a.left+t.scrollLeft-(n?0:e7(e,a)),y:a.top+t.scrollTop}}let te=new Set(["absolute","fixed"]);function tt(e,t,n){let a;if("viewport"===t)a=function(e,t){let n=eL(e),a=eM(e),s=n.visualViewport,r=a.clientWidth,i=a.clientHeight,l=0,o=0;if(s){r=s.width,i=s.height;let e=eU();(!e||e&&"fixed"===t)&&(l=s.offsetLeft,o=s.offsetTop)}return{width:r,height:i,x:l,y:o}}(e,n);else if("document"===t)a=function(e){let t=eM(e),n=eJ(e),a=e.ownerDocument.body,s=eT(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),r=eT(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight),i=-n.scrollLeft+e7(e),l=-n.scrollTop;return"rtl"===eK(a).direction&&(i+=eT(t.clientWidth,a.clientWidth)-s),{width:s,height:r,x:i,y:l}}(eM(e));else if(eP(t))a=function(e,t){let n=e8(e,!0,"fixed"===t),a=n.top+e.clientTop,s=n.left+e.clientLeft,r=eF(e)?e5(e):eR(1),i=e.clientWidth*r.x;return{width:i,height:e.clientHeight*r.y,x:s*r.x,y:a*r.y}}(t,n);else{let n=e3(e);a={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return eg(a)}function tn(e){return"static"===eK(e).position}function ta(e,t){if(!eF(e)||"fixed"===eK(e).position)return null;if(t)return t(e);let n=e.offsetParent;return eM(e)===n&&(n=n.ownerDocument.body),n}function ts(e,t){var n;let a=eL(e);if(eY(e))return a;if(!eF(e)){let t=eQ(e);for(;t&&!eX(t);){if(eP(t)&&!tn(t))return t;t=eQ(t)}return a}let s=ta(e,t);for(;s&&(n=s,eW.has(eD(n)))&&tn(s);)s=ta(s,t);return s&&eX(s)&&tn(s)&&!eq(s)?a:s||function(e){let t=eQ(e);for(;eF(t)&&!eX(t);){if(eq(t))return t;if(eY(t))break;t=eQ(t)}return null}(e)||a}let tr=async function(e){let t=this.getOffsetParent||ts,n=this.getDimensions,a=await n(e.floating);return{reference:function(e,t,n){let a=eF(t),s=eM(t),r="fixed"===n,i=e8(e,!0,r,t),l={scrollLeft:0,scrollTop:0},o=eR(0);if(a||!a&&!r){if(("body"!==eD(t)||eZ(s))&&(l=eJ(t)),a){let e=e8(t,!0,r,t);o.x=e.x+t.clientLeft,o.y=e.y+t.clientTop}else s&&(o.x=e7(s))}r&&!a&&s&&(o.x=e7(s));let c=!s||a||r?eR(0):e9(s,l);return{x:i.left+l.scrollLeft-o.x-c.x,y:i.top+l.scrollTop-o.y-c.y,width:i.width,height:i.height}}(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}},ti={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:a,strategy:s}=e,r="fixed"===s,i=eM(a),l=!!t&&eY(t.floating);if(a===i||l&&r)return n;let o={scrollLeft:0,scrollTop:0},c=eR(1),d=eR(0),u=eF(a);if((u||!u&&!r)&&(("body"!==eD(a)||eZ(i))&&(o=eJ(a)),eF(a))){let e=e8(a);c=e5(a),d.x=e.x+a.clientLeft,d.y=e.y+a.clientTop}let m=!i||u||r?eR(0):e9(i,o,!0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-o.scrollLeft*c.x+d.x+m.x,y:n.y*c.y-o.scrollTop*c.y+d.y+m.y}},getDocumentElement:eM,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:a,strategy:s}=e,r=[..."clippingAncestors"===n?eY(t)?[]:function(e,t){let n=t.get(e);if(n)return n;let a=e0(e,[],!1).filter(e=>eP(e)&&"body"!==eD(e)),s=null,r="fixed"===eK(e).position,i=r?eQ(e):e;for(;eP(i)&&!eX(i);){let t=eK(i),n=eq(i);n||"fixed"!==t.position||(s=null),(r?!n&&!s:!n&&"static"===t.position&&!!s&&te.has(s.position)||eZ(i)&&!n&&function e(t,n){let a=eQ(t);return!(a===n||!eP(a)||eX(a))&&("fixed"===eK(a).position||e(a,n))}(e,i))?a=a.filter(e=>e!==i):s=t,i=eQ(i)}return t.set(e,a),a}(t,this._c):[].concat(n),a],i=r[0],l=r.reduce((e,n)=>{let a=tt(t,n,s);return e.top=eT(a.top,e.top),e.right=eE(a.right,e.right),e.bottom=eE(a.bottom,e.bottom),e.left=eT(a.left,e.left),e},tt(t,i,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:ts,getElementRects:tr,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){let{width:t,height:n}=e2(e);return{width:t,height:n}},getScale:e5,isElement:eP,isRTL:function(e){return"rtl"===eK(e).direction}};function tl(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}let to=e=>({name:"arrow",options:e,async fn(t){let{x:n,y:a,placement:s,rects:r,platform:i,elements:l,middlewareData:o}=t,{element:c,padding:d=0}=es(e,t)||{};if(null==c)return{};let u=ey(d),m={x:n,y:a},p=el(ed(s)),x=eo(p),h=await i.getDimensions(c),f="y"===p,y=f?"clientHeight":"clientWidth",g=r.reference[x]+r.reference[p]-m[p]-r.floating[x],v=m[p]-r.reference[p],j=await (null==i.getOffsetParent?void 0:i.getOffsetParent(c)),b=j?j[y]:0;b&&await (null==i.isElement?void 0:i.isElement(j))||(b=l.floating[y]||r.floating[x]);let N=b/2-h[x]/2-1,w=ee(u[f?"top":"left"],N),S=ee(u[f?"bottom":"right"],N),C=b-h[x]-S,E=b/2-h[x]/2+(g/2-v/2),T=et(w,ee(E,C)),I=!o.arrow&&null!=ei(s)&&E!==T&&r.reference[x]/2-(E<w?w:S)-h[x]/2<0,k=I?E<w?E-w:E-C:0;return{[p]:m[p]+k,data:{[p]:T,centerOffset:E-T-k,...I&&{alignmentOffset:k}},reset:I}}}),tc=(e,t,n)=>{let a=new Map,s={platform:ti,...n},r={...s.platform,_c:a};return ej(e,t,{...s,platform:r})};var td="undefined"!=typeof document?l.useLayoutEffect:function(){};function tu(e,t){let n,a,s;if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((n=e.length)!==t.length)return!1;for(a=n;0!=a--;)if(!tu(e[a],t[a]))return!1;return!0}if((n=(s=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(a=n;0!=a--;)if(!({}).hasOwnProperty.call(t,s[a]))return!1;for(a=n;0!=a--;){let n=s[a];if(("_owner"!==n||!e.$$typeof)&&!tu(e[n],t[n]))return!1}return!0}return e!=e&&t!=t}function tm(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function tp(e,t){let n=tm(e);return Math.round(t*n)/n}function tx(e){let t=l.useRef(e);return td(()=>{t.current=e}),t}let th=e=>({name:"arrow",options:e,fn(t){let{element:n,padding:a}="function"==typeof e?e(t):e;return n&&({}).hasOwnProperty.call(n,"current")?null!=n.current?to({element:n.current,padding:a}).fn(t):{}:n?to({element:n,padding:a}).fn(t):{}}}),tf=(e,t)=>({...function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,a;let{x:s,y:r,placement:i,middlewareData:l}=t,o=await eC(t,e);return i===(null==(n=l.offset)?void 0:n.placement)&&null!=(a=l.arrow)&&a.alignmentOffset?{}:{x:s+o.x,y:r+o.y,data:{...o,placement:i}}}}}(e),options:[e,t]}),ty=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){let{x:n,y:a,placement:s}=t,{mainAxis:r=!0,crossAxis:i=!1,limiter:l={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...o}=es(e,t),c={x:n,y:a},d=await eb(t,o),u=ed(er(s)),m=el(u),p=c[m],x=c[u];if(r){let e="y"===m?"top":"left",t="y"===m?"bottom":"right",n=p+d[e],a=p-d[t];p=et(n,ee(p,a))}if(i){let e="y"===u?"top":"left",t="y"===u?"bottom":"right",n=x+d[e],a=x-d[t];x=et(n,ee(x,a))}let h=l.fn({...t,[m]:p,[u]:x});return{...h,data:{x:h.x-n,y:h.y-a,enabled:{[m]:r,[u]:i}}}}}}(e),options:[e,t]}),tg=(e,t)=>({...function(e){return void 0===e&&(e={}),{options:e,fn(t){let{x:n,y:a,placement:s,rects:r,middlewareData:i}=t,{offset:l=0,mainAxis:o=!0,crossAxis:c=!0}=es(e,t),d={x:n,y:a},u=ed(s),m=el(u),p=d[m],x=d[u],h=es(l,t),f="number"==typeof h?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(o){let e="y"===m?"height":"width",t=r.reference[m]-r.floating[e]+f.mainAxis,n=r.reference[m]+r.reference[e]-f.mainAxis;p<t?p=t:p>n&&(p=n)}if(c){var y,g;let e="y"===m?"width":"height",t=eS.has(er(s)),n=r.reference[u]-r.floating[e]+(t&&(null==(y=i.offset)?void 0:y[u])||0)+(t?0:f.crossAxis),a=r.reference[u]+r.reference[e]+(t?0:(null==(g=i.offset)?void 0:g[u])||0)-(t?f.crossAxis:0);x<n?x=n:x>a&&(x=a)}return{[m]:p,[u]:x}}}}(e),options:[e,t]}),tv=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,a,s,r,i;let{placement:l,middlewareData:o,rects:c,initialPlacement:d,platform:u,elements:m}=t,{mainAxis:p=!0,crossAxis:x=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...v}=es(e,t);if(null!=(n=o.arrow)&&n.alignmentOffset)return{};let j=er(l),b=ed(d),N=er(d)===d,w=await (null==u.isRTL?void 0:u.isRTL(m.floating)),S=h||(N||!g?[ef(d)]:function(e){let t=ef(e);return[eu(e),t,eu(t)]}(d)),C="none"!==y;!h&&C&&S.push(...function(e,t,n,a){let s=ei(e),r=function(e,t,n){switch(e){case"top":case"bottom":if(n)return t?ep:em;return t?em:ep;case"left":case"right":return t?ex:eh;default:return[]}}(er(e),"start"===n,a);return s&&(r=r.map(e=>e+"-"+s),t&&(r=r.concat(r.map(eu)))),r}(d,g,y,w));let E=[d,...S],T=await eb(t,v),I=[],k=(null==(a=o.flip)?void 0:a.overflows)||[];if(p&&I.push(T[j]),x){let e=function(e,t,n){void 0===n&&(n=!1);let a=ei(e),s=el(ed(e)),r=eo(s),i="x"===s?a===(n?"end":"start")?"right":"left":"start"===a?"bottom":"top";return t.reference[r]>t.floating[r]&&(i=ef(i)),[i,ef(i)]}(l,c,w);I.push(T[e[0]],T[e[1]])}if(k=[...k,{placement:l,overflows:I}],!I.every(e=>e<=0)){let e=((null==(s=o.flip)?void 0:s.index)||0)+1,t=E[e];if(t&&(!("alignment"===x&&b!==ed(t))||k.every(e=>ed(e.placement)!==b||e.overflows[0]>0)))return{data:{index:e,overflows:k},reset:{placement:t}};let n=null==(r=k.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:r.placement;if(!n)switch(f){case"bestFit":{let e=null==(i=k.filter(e=>{if(C){let t=ed(e.placement);return t===b||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:i[0];e&&(n=e);break}case"initialPlacement":n=d}if(l!==n)return{reset:{placement:n}}}return{}}}}(e),options:[e,t]}),tj=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,a;let s,r;let{placement:i,rects:l,platform:o,elements:c}=t,{apply:d=()=>{},...u}=es(e,t),m=await eb(t,u),p=er(i),x=ei(i),h="y"===ed(i),{width:f,height:y}=l.floating;"top"===p||"bottom"===p?(s=p,r=x===(await (null==o.isRTL?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(r=p,s="end"===x?"top":"bottom");let g=y-m.top-m.bottom,v=f-m.left-m.right,j=ee(y-m[s],g),b=ee(f-m[r],v),N=!t.middlewareData.shift,w=j,S=b;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(S=v),null!=(a=t.middlewareData.shift)&&a.enabled.y&&(w=g),N&&!x){let e=et(m.left,0),t=et(m.right,0),n=et(m.top,0),a=et(m.bottom,0);h?S=f-2*(0!==e||0!==t?e+t:et(m.left,m.right)):w=y-2*(0!==n||0!==a?n+a:et(m.top,m.bottom))}await d({...t,availableWidth:S,availableHeight:w});let C=await o.getDimensions(c.floating);return f!==C.width||y!==C.height?{reset:{rects:!0}}:{}}}}(e),options:[e,t]}),tb=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){let{rects:n}=t,{strategy:a="referenceHidden",...s}=es(e,t);switch(a){case"referenceHidden":{let e=eN(await eb(t,{...s,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:ew(e)}}}case"escaped":{let e=eN(await eb(t,{...s,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:ew(e)}}}default:return{}}}}}(e),options:[e,t]}),tN=(e,t)=>({...th(e),options:[e,t]});var tw=l.forwardRef((e,t)=>{let{children:n,width:a=10,height:s=5,...r}=e;return(0,i.jsx)(L.WV.svg,{...r,ref:t,width:a,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:(0,i.jsx)("polygon",{points:"0,0 30,0 15,10"})})});tw.displayName="Arrow";var tS=n(65819);function tC(e){let[t,n]=l.useState(void 0);return(0,tS.b)(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let a,s;if(!Array.isArray(t)||!t.length)return;let r=t[0];if("borderBoxSize"in r){let e=r.borderBoxSize,t=Array.isArray(e)?e[0]:e;a=t.inlineSize,s=t.blockSize}else a=e.offsetWidth,s=e.offsetHeight;n({width:a,height:s})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),t}var tE="Popper",[tT,tI]=(0,A.b)(tE),[tk,tR]=tT(tE),tA=e=>{let{__scopePopper:t,children:n}=e,[a,s]=l.useState(null);return(0,i.jsx)(tk,{scope:t,anchor:a,onAnchorChange:s,children:n})};tA.displayName=tE;var tD="PopperAnchor",tL=l.forwardRef((e,t)=>{let{__scopePopper:n,virtualRef:a,...s}=e,r=tR(tD,n),o=l.useRef(null),c=(0,R.e)(t,o);return l.useEffect(()=>{r.onAnchorChange(a?.current||o.current)}),a?null:(0,i.jsx)(L.WV.div,{...s,ref:c})});tL.displayName=tD;var tM="PopperContent",[tO,tP]=tT(tM),tF=l.forwardRef((e,t)=>{let{__scopePopper:n,side:a="bottom",sideOffset:s=0,align:r="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:u=[],collisionPadding:m=0,sticky:p="partial",hideWhenDetached:x=!1,updatePositionStrategy:h="optimized",onPlaced:f,...y}=e,g=tR(tM,n),[v,j]=l.useState(null),b=(0,R.e)(t,e=>j(e)),[N,w]=l.useState(null),S=tC(N),C=S?.width??0,T=S?.height??0,I="number"==typeof m?m:{top:0,right:0,bottom:0,left:0,...m},k=Array.isArray(u)?u:[u],A=k.length>0,D={padding:I,boundary:k.filter(tW),altBoundary:A},{refs:O,floatingStyles:P,placement:F,isPositioned:z,middlewareData:_}=function(e){void 0===e&&(e={});let{placement:t="bottom",strategy:n="absolute",middleware:a=[],platform:s,elements:{reference:r,floating:i}={},transform:o=!0,whileElementsMounted:c,open:d}=e,[u,m]=l.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,x]=l.useState(a);tu(p,a)||x(a);let[h,f]=l.useState(null),[y,g]=l.useState(null),v=l.useCallback(e=>{e!==w.current&&(w.current=e,f(e))},[]),j=l.useCallback(e=>{e!==S.current&&(S.current=e,g(e))},[]),b=r||h,N=i||y,w=l.useRef(null),S=l.useRef(null),C=l.useRef(u),T=null!=c,I=tx(c),k=tx(s),R=tx(d),A=l.useCallback(()=>{if(!w.current||!S.current)return;let e={placement:t,strategy:n,middleware:p};k.current&&(e.platform=k.current),tc(w.current,S.current,e).then(e=>{let t={...e,isPositioned:!1!==R.current};D.current&&!tu(C.current,t)&&(C.current=t,E.flushSync(()=>{m(t)}))})},[p,t,n,k,R]);td(()=>{!1===d&&C.current.isPositioned&&(C.current.isPositioned=!1,m(e=>({...e,isPositioned:!1})))},[d]);let D=l.useRef(!1);td(()=>(D.current=!0,()=>{D.current=!1}),[]),td(()=>{if(b&&(w.current=b),N&&(S.current=N),b&&N){if(I.current)return I.current(b,N,A);A()}},[b,N,A,I,T]);let L=l.useMemo(()=>({reference:w,floating:S,setReference:v,setFloating:j}),[v,j]),M=l.useMemo(()=>({reference:b,floating:N}),[b,N]),O=l.useMemo(()=>{let e={position:n,left:0,top:0};if(!M.floating)return e;let t=tp(M.floating,u.x),a=tp(M.floating,u.y);return o?{...e,transform:"translate("+t+"px, "+a+"px)",...tm(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:a}},[n,o,M.floating,u.x,u.y]);return l.useMemo(()=>({...u,update:A,refs:L,elements:M,floatingStyles:O}),[u,A,L,M,O])}({strategy:"fixed",placement:a+("center"!==r?"-"+r:""),whileElementsMounted:(...e)=>(function(e,t,n,a){let s;void 0===a&&(a={});let{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:l="function"==typeof ResizeObserver,layoutShift:o="function"==typeof IntersectionObserver,animationFrame:c=!1}=a,d=e4(e),u=r||i?[...d?e0(d):[],...e0(t)]:[];u.forEach(e=>{r&&e.addEventListener("scroll",n,{passive:!0}),i&&e.addEventListener("resize",n)});let m=d&&o?function(e,t){let n,a=null,s=eM(e);function r(){var e;clearTimeout(n),null==(e=a)||e.disconnect(),a=null}return function i(l,o){void 0===l&&(l=!1),void 0===o&&(o=1),r();let c=e.getBoundingClientRect(),{left:d,top:u,width:m,height:p}=c;if(l||t(),!m||!p)return;let x=ek(u),h=ek(s.clientWidth-(d+m)),f={rootMargin:-x+"px "+-h+"px "+-ek(s.clientHeight-(u+p))+"px "+-ek(d)+"px",threshold:eT(0,eE(1,o))||1},y=!0;function g(t){let a=t[0].intersectionRatio;if(a!==o){if(!y)return i();a?i(!1,a):n=setTimeout(()=>{i(!1,1e-7)},1e3)}1!==a||tl(c,e.getBoundingClientRect())||i(),y=!1}try{a=new IntersectionObserver(g,{...f,root:s.ownerDocument})}catch(e){a=new IntersectionObserver(g,f)}a.observe(e)}(!0),r}(d,n):null,p=-1,x=null;l&&(x=new ResizeObserver(e=>{let[a]=e;a&&a.target===d&&x&&(x.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var e;null==(e=x)||e.observe(t)})),n()}),d&&!c&&x.observe(d),x.observe(t));let h=c?e8(e):null;return c&&function t(){let a=e8(e);h&&!tl(h,a)&&n(),h=a,s=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach(e=>{r&&e.removeEventListener("scroll",n),i&&e.removeEventListener("resize",n)}),null==m||m(),null==(e=x)||e.disconnect(),x=null,c&&cancelAnimationFrame(s)}})(...e,{animationFrame:"always"===h}),elements:{reference:g.anchor},middleware:[tf({mainAxis:s+T,alignmentAxis:o}),d&&ty({mainAxis:!0,crossAxis:!1,limiter:"partial"===p?tg():void 0,...D}),d&&tv({...D}),tj({...D,apply:({elements:e,rects:t,availableWidth:n,availableHeight:a})=>{let{width:s,height:r}=t.reference,i=e.floating.style;i.setProperty("--radix-popper-available-width",`${n}px`),i.setProperty("--radix-popper-available-height",`${a}px`),i.setProperty("--radix-popper-anchor-width",`${s}px`),i.setProperty("--radix-popper-anchor-height",`${r}px`)}}),N&&tN({element:N,padding:c}),t$({arrowWidth:C,arrowHeight:T}),x&&tb({strategy:"referenceHidden",...D})]}),[Z,W]=tY(F),$=(0,M.W)(f);(0,tS.b)(()=>{z&&$?.()},[z,$]);let Y=_.arrow?.x,V=_.arrow?.y,H=_.arrow?.centerOffset!==0,[B,q]=l.useState();return(0,tS.b)(()=>{v&&q(window.getComputedStyle(v).zIndex)},[v]),(0,i.jsx)("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...P,transform:z?P.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:B,"--radix-popper-transform-origin":[_.transformOrigin?.x,_.transformOrigin?.y].join(" "),..._.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,i.jsx)(tO,{scope:n,placedSide:Z,onArrowChange:w,arrowX:Y,arrowY:V,shouldHideArrow:H,children:(0,i.jsx)(L.WV.div,{"data-side":Z,"data-align":W,...y,ref:b,style:{...y.style,animation:z?void 0:"none"}})})})});tF.displayName=tM;var tz="PopperArrow",t_={top:"bottom",right:"left",bottom:"top",left:"right"},tZ=l.forwardRef(function(e,t){let{__scopePopper:n,...a}=e,s=tP(tz,n),r=t_[s.placedSide];return(0,i.jsx)("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[r]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:(0,i.jsx)(tw,{...a,ref:t,style:{...a.style,display:"block"}})})});function tW(e){return null!==e}tZ.displayName=tz;var t$=e=>({name:"transformOrigin",options:e,fn(t){let{placement:n,rects:a,middlewareData:s}=t,r=s.arrow?.centerOffset!==0,i=r?0:e.arrowWidth,l=r?0:e.arrowHeight,[o,c]=tY(n),d={start:"0%",center:"50%",end:"100%"}[c],u=(s.arrow?.x??0)+i/2,m=(s.arrow?.y??0)+l/2,p="",x="";return"bottom"===o?(p=r?d:`${u}px`,x=`${-l}px`):"top"===o?(p=r?d:`${u}px`,x=`${a.floating.height+l}px`):"right"===o?(p=`${-l}px`,x=r?d:`${m}px`):"left"===o&&(p=`${a.floating.width+l}px`,x=r?d:`${m}px`),{data:{x:p,y:x}}}});function tY(e){let[t,n="center"]=e.split("-");return[t,n]}var tV=l.forwardRef((e,t)=>{let{container:n,...a}=e,[s,r]=l.useState(!1);(0,tS.b)(()=>r(!0),[]);let o=n||s&&globalThis?.document?.body;return o?E.createPortal((0,i.jsx)(L.WV.div,{...a,ref:t}),o):null});tV.displayName="Portal";var tH=n(34214),tB=n(52067);function tq(e){let t=l.useRef({value:e,previous:e});return l.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var tU=l.forwardRef((e,t)=>(0,i.jsx)(L.WV.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));tU.displayName="VisuallyHidden";var tG=new WeakMap,tX=new WeakMap,tK={},tJ=0,tQ=function(e){return e&&(e.host||tQ(e.parentNode))},t0=function(e,t,n,a){var s=(Array.isArray(e)?e:[e]).map(function(e){if(t.contains(e))return e;var n=tQ(e);return n&&t.contains(n)?n:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)}).filter(function(e){return!!e});tK[n]||(tK[n]=new WeakMap);var r=tK[n],i=[],l=new Set,o=new Set(s),c=function(e){!e||l.has(e)||(l.add(e),c(e.parentNode))};s.forEach(c);var d=function(e){!e||o.has(e)||Array.prototype.forEach.call(e.children,function(e){if(l.has(e))d(e);else try{var t=e.getAttribute(a),s=null!==t&&"false"!==t,o=(tG.get(e)||0)+1,c=(r.get(e)||0)+1;tG.set(e,o),r.set(e,c),i.push(e),1===o&&s&&tX.set(e,!0),1===c&&e.setAttribute(n,"true"),s||e.setAttribute(a,"true")}catch(t){console.error("aria-hidden: cannot operate on ",e,t)}})};return d(t),l.clear(),tJ++,function(){i.forEach(function(e){var t=tG.get(e)-1,s=r.get(e)-1;tG.set(e,t),r.set(e,s),t||(tX.has(e)||e.removeAttribute(a),tX.delete(e)),s||e.removeAttribute(n)}),--tJ||(tG=new WeakMap,tG=new WeakMap,tX=new WeakMap,tK={})}},t1=function(e,t,n){void 0===n&&(n="data-aria-hidden");var a,s=Array.from(Array.isArray(e)?e:[e]),r=t||(a=e,"undefined"==typeof document?null:(Array.isArray(a)?a[0]:a).ownerDocument.body);return r?(s.push.apply(s,Array.from(r.querySelectorAll("[aria-live], script"))),t0(s,r,n,"aria-hidden")):function(){return null}},t2=function(){return(t2=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};function t4(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)0>t.indexOf(a[s])&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]]);return n}Object.create,Object.create;var t5=("function"==typeof SuppressedError&&SuppressedError,"right-scroll-bar-position"),t6="width-before-scroll-bar";function t3(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var t8="undefined"!=typeof window?l.useLayoutEffect:l.useEffect,t7=new WeakMap;function t9(e){return e}var ne=function(e){void 0===e&&(e={});var t,n,a,s=(void 0===t&&(t=t9),n=[],a=!1,{read:function(){if(a)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:null},useMedium:function(e){var s=t(e,a);return n.push(s),function(){n=n.filter(function(e){return e!==s})}},assignSyncMedium:function(e){for(a=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){a=!0;var t=[];if(n.length){var s=n;n=[],s.forEach(e),t=n}var r=function(){var n=t;t=[],n.forEach(e)},i=function(){return Promise.resolve().then(r)};i(),n={push:function(e){t.push(e),i()},filter:function(e){return t=t.filter(e),n}}}});return s.options=t2({async:!0,ssr:!1},e),s}(),nt=function(){},nn=l.forwardRef(function(e,t){var n,a,s,r,i=l.useRef(null),o=l.useState({onScrollCapture:nt,onWheelCapture:nt,onTouchMoveCapture:nt}),c=o[0],d=o[1],u=e.forwardProps,m=e.children,p=e.className,x=e.removeScrollBar,h=e.enabled,f=e.shards,y=e.sideCar,g=e.noIsolation,v=e.inert,j=e.allowPinchZoom,b=e.as,N=e.gapMode,w=t4(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=(n=[i,t],a=function(e){return n.forEach(function(t){return t3(t,e)})},(s=(0,l.useState)(function(){return{value:null,callback:a,facade:{get current(){return s.value},set current(value){var e=s.value;e!==value&&(s.value=value,s.callback(value,e))}}}})[0]).callback=a,r=s.facade,t8(function(){var e=t7.get(r);if(e){var t=new Set(e),a=new Set(n),s=r.current;t.forEach(function(e){a.has(e)||t3(e,null)}),a.forEach(function(e){t.has(e)||t3(e,s)})}t7.set(r,n)},[n]),r),C=t2(t2({},w),c);return l.createElement(l.Fragment,null,h&&l.createElement(y,{sideCar:ne,removeScrollBar:x,shards:f,noIsolation:g,inert:v,setCallbacks:d,allowPinchZoom:!!j,lockRef:i,gapMode:N}),u?l.cloneElement(l.Children.only(m),t2(t2({},C),{ref:S})):l.createElement(void 0===b?"div":b,t2({},C,{className:p,ref:S}),m))});nn.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},nn.classNames={fullWidth:t6,zeroRight:t5};var na=function(e){var t=e.sideCar,n=t4(e,["sideCar"]);if(!t)throw Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw Error("Sidecar medium not found");return l.createElement(a,t2({},n))};na.isSideCarExport=!0;var ns=function(){var e=0,t=null;return{add:function(a){if(0==e&&(t=function(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=r||n.nc;return t&&e.setAttribute("nonce",t),e}())){var s,i;(s=t).styleSheet?s.styleSheet.cssText=a:s.appendChild(document.createTextNode(a)),i=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(i)}e++},remove:function(){--e||!t||(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},nr=function(){var e=ns();return function(t,n){l.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},ni=function(){var e=nr();return function(t){return e(t.styles,t.dynamic),null}},nl={left:0,top:0,right:0,gap:0},no=function(e){return parseInt(e||"",10)||0},nc=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],a=t["padding"===e?"paddingTop":"marginTop"],s=t["padding"===e?"paddingRight":"marginRight"];return[no(n),no(a),no(s)]},nd=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return nl;var t=nc(e),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-n+t[2]-t[0])}},nu=ni(),nm="data-scroll-locked",np=function(e,t,n,a){var s=e.left,r=e.top,i=e.right,l=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(a,";\n   padding-right: ").concat(l,"px ").concat(a,";\n  }\n  body[").concat(nm,"] {\n    overflow: hidden ").concat(a,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(a,";"),"margin"===n&&"\n    padding-left: ".concat(s,"px;\n    padding-top: ").concat(r,"px;\n    padding-right: ").concat(i,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(l,"px ").concat(a,";\n    "),"padding"===n&&"padding-right: ".concat(l,"px ").concat(a,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(t5," {\n    right: ").concat(l,"px ").concat(a,";\n  }\n  \n  .").concat(t6," {\n    margin-right: ").concat(l,"px ").concat(a,";\n  }\n  \n  .").concat(t5," .").concat(t5," {\n    right: 0 ").concat(a,";\n  }\n  \n  .").concat(t6," .").concat(t6," {\n    margin-right: 0 ").concat(a,";\n  }\n  \n  body[").concat(nm,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(l,"px;\n  }\n")},nx=function(){var e=parseInt(document.body.getAttribute(nm)||"0",10);return isFinite(e)?e:0},nh=function(){l.useEffect(function(){return document.body.setAttribute(nm,(nx()+1).toString()),function(){var e=nx()-1;e<=0?document.body.removeAttribute(nm):document.body.setAttribute(nm,e.toString())}},[])},nf=function(e){var t=e.noRelative,n=e.noImportant,a=e.gapMode,s=void 0===a?"margin":a;nh();var r=l.useMemo(function(){return nd(s)},[s]);return l.createElement(nu,{styles:np(r,!t,s,n?"":"!important")})},ny=!1;if("undefined"!=typeof window)try{var ng=Object.defineProperty({},"passive",{get:function(){return ny=!0,!0}});window.addEventListener("test",ng,ng),window.removeEventListener("test",ng,ng)}catch(e){ny=!1}var nv=!!ny&&{passive:!1},nj=function(e,t){var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&"TEXTAREA"!==e.tagName&&"visible"===n[t])},nb=function(e,t){var n=t.ownerDocument,a=t;do{if("undefined"!=typeof ShadowRoot&&a instanceof ShadowRoot&&(a=a.host),nN(e,a)){var s=nw(e,a);if(s[1]>s[2])return!0}a=a.parentNode}while(a&&a!==n.body);return!1},nN=function(e,t){return"v"===e?nj(t,"overflowY"):nj(t,"overflowX")},nw=function(e,t){return"v"===e?[t.scrollTop,t.scrollHeight,t.clientHeight]:[t.scrollLeft,t.scrollWidth,t.clientWidth]},nS=function(e,t,n,a,s){var r,i=(r=window.getComputedStyle(t).direction,"h"===e&&"rtl"===r?-1:1),l=i*a,o=n.target,c=t.contains(o),d=!1,u=l>0,m=0,p=0;do{var x=nw(e,o),h=x[0],f=x[1]-x[2]-i*h;(h||f)&&nN(e,o)&&(m+=f,p+=h),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!c&&o!==document.body||c&&(t.contains(o)||t===o));return u&&(s&&1>Math.abs(m)||!s&&l>m)?d=!0:!u&&(s&&1>Math.abs(p)||!s&&-l>p)&&(d=!0),d},nC=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},nE=function(e){return[e.deltaX,e.deltaY]},nT=function(e){return e&&"current"in e?e.current:e},nI=0,nk=[];let nR=(a=function(e){var t=l.useRef([]),n=l.useRef([0,0]),a=l.useRef(),s=l.useState(nI++)[0],r=l.useState(ni)[0],i=l.useRef(e);l.useEffect(function(){i.current=e},[e]),l.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var t=(function(e,t,n){if(n||2==arguments.length)for(var a,s=0,r=t.length;s<r;s++)!a&&s in t||(a||(a=Array.prototype.slice.call(t,0,s)),a[s]=t[s]);return e.concat(a||Array.prototype.slice.call(t))})([e.lockRef.current],(e.shards||[]).map(nT),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var o=l.useCallback(function(e,t){if("touches"in e&&2===e.touches.length)return!i.current.allowPinchZoom;var s,r=nC(e),l=n.current,o="deltaX"in e?e.deltaX:l[0]-r[0],c="deltaY"in e?e.deltaY:l[1]-r[1],d=e.target,u=Math.abs(o)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===u&&"range"===d.type)return!1;var m=nb(u,d);if(!m)return!0;if(m?s=u:(s="v"===u?"h":"v",m=nb(u,d)),!m)return!1;if(!a.current&&"changedTouches"in e&&(o||c)&&(a.current=s),!s)return!0;var p=a.current||s;return nS(p,t,e,"h"===p?o:c,!0)},[]),c=l.useCallback(function(e){if(nk.length&&nk[nk.length-1]===r){var n="deltaY"in e?nE(e):nC(e),a=t.current.filter(function(t){var a;return t.name===e.type&&(t.target===e.target||e.target===t.shadowParent)&&(a=t.delta)[0]===n[0]&&a[1]===n[1]})[0];if(a&&a.should){e.cancelable&&e.preventDefault();return}if(!a){var s=(i.current.shards||[]).map(nT).filter(Boolean).filter(function(t){return t.contains(e.target)});(s.length>0?o(e,s[0]):!i.current.noIsolation)&&e.cancelable&&e.preventDefault()}}},[]),d=l.useCallback(function(e,n,a,s){var r={name:e,delta:n,target:a,should:s,shadowParent:function(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}(a)};t.current.push(r),setTimeout(function(){t.current=t.current.filter(function(e){return e!==r})},1)},[]),u=l.useCallback(function(e){n.current=nC(e),a.current=void 0},[]),m=l.useCallback(function(t){d(t.type,nE(t),t.target,o(t,e.lockRef.current))},[]),p=l.useCallback(function(t){d(t.type,nC(t),t.target,o(t,e.lockRef.current))},[]);l.useEffect(function(){return nk.push(r),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:p}),document.addEventListener("wheel",c,nv),document.addEventListener("touchmove",c,nv),document.addEventListener("touchstart",u,nv),function(){nk=nk.filter(function(e){return e!==r}),document.removeEventListener("wheel",c,nv),document.removeEventListener("touchmove",c,nv),document.removeEventListener("touchstart",u,nv)}},[]);var x=e.removeScrollBar,h=e.inert;return l.createElement(l.Fragment,null,h?l.createElement(r,{styles:"\n  .block-interactivity-".concat(s," {pointer-events: none;}\n  .allow-interactivity-").concat(s," {pointer-events: all;}\n")}):null,x?l.createElement(nf,{gapMode:e.gapMode}):null)},ne.useMedium(a),na);var nA=l.forwardRef(function(e,t){return l.createElement(nn,t2({},e,{ref:t,sideCar:nR}))});nA.classNames=nn.classNames;var nD=[" ","Enter","ArrowUp","ArrowDown"],nL=[" ","Enter"],nM="Select",[nO,nP,nF]=(0,k.B)(nM),[nz,n_]=(0,A.b)(nM,[nF,tI]),nZ=tI(),[nW,n$]=nz(nM),[nY,nV]=nz(nM),nH=e=>{let{__scopeSelect:t,children:n,open:a,defaultOpen:s,onOpenChange:r,value:o,defaultValue:c,onValueChange:d,dir:u,name:m,autoComplete:p,disabled:x,required:h}=e,f=nZ(t),[y,g]=l.useState(null),[v,j]=l.useState(null),[b,N]=l.useState(!1),w=(0,D.gm)(u),[S=!1,C]=(0,tB.T)({prop:a,defaultProp:s,onChange:r}),[E,T]=(0,tB.T)({prop:o,defaultProp:c,onChange:d}),I=l.useRef(null),k=!y||!!y.closest("form"),[R,A]=l.useState(new Set),L=Array.from(R).map(e=>e.props.value).join(";");return(0,i.jsx)(tA,{...f,children:(0,i.jsxs)(nW,{required:h,scope:t,trigger:y,onTriggerChange:g,valueNode:v,onValueNodeChange:j,valueNodeHasChildren:b,onValueNodeHasChildrenChange:N,contentId:(0,J.M)(),value:E,onValueChange:T,open:S,onOpenChange:C,dir:w,triggerPointerDownPosRef:I,disabled:x,children:[(0,i.jsx)(nO.Provider,{scope:t,children:(0,i.jsx)(nY,{scope:e.__scopeSelect,onNativeOptionAdd:l.useCallback(e=>{A(t=>new Set(t).add(e))},[]),onNativeOptionRemove:l.useCallback(e=>{A(t=>{let n=new Set(t);return n.delete(e),n})},[]),children:n})}),k?(0,i.jsxs)(aj,{"aria-hidden":!0,required:h,tabIndex:-1,name:m,autoComplete:p,value:E,onChange:e=>T(e.target.value),disabled:x,children:[void 0===E?(0,i.jsx)("option",{value:""}):null,Array.from(R)]},L):null]})})};nH.displayName=nM;var nB="SelectTrigger",nq=l.forwardRef((e,t)=>{let{__scopeSelect:n,disabled:a=!1,...s}=e,r=nZ(n),l=n$(nB,n),o=l.disabled||a,c=(0,R.e)(t,l.onTriggerChange),d=nP(n),[u,m,p]=ab(e=>{let t=d().filter(e=>!e.disabled),n=t.find(e=>e.value===l.value),a=aN(t,e,n);void 0!==a&&l.onValueChange(a.value)}),x=()=>{o||(l.onOpenChange(!0),p())};return(0,i.jsx)(tL,{asChild:!0,...r,children:(0,i.jsx)(L.WV.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":av(l.value)?"":void 0,...s,ref:c,onClick:(0,I.M)(s.onClick,e=>{e.currentTarget.focus()}),onPointerDown:(0,I.M)(s.onPointerDown,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&(x(),l.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)},e.preventDefault())}),onKeyDown:(0,I.M)(s.onKeyDown,e=>{let t=""!==u.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||m(e.key),(!t||" "!==e.key)&&nD.includes(e.key)&&(x(),e.preventDefault())})})})});nq.displayName=nB;var nU="SelectValue",nG=l.forwardRef((e,t)=>{let{__scopeSelect:n,className:a,style:s,children:r,placeholder:l="",...o}=e,c=n$(nU,n),{onValueNodeHasChildrenChange:d}=c,u=void 0!==r,m=(0,R.e)(t,c.onValueNodeChange);return(0,tS.b)(()=>{d(u)},[d,u]),(0,i.jsx)(L.WV.span,{...o,ref:m,style:{pointerEvents:"none"},children:av(c.value)?(0,i.jsx)(i.Fragment,{children:l}):r})});nG.displayName=nU;var nX=l.forwardRef((e,t)=>{let{__scopeSelect:n,children:a,...s}=e;return(0,i.jsx)(L.WV.span,{"aria-hidden":!0,...s,ref:t,children:a||"▼"})});nX.displayName="SelectIcon";var nK=e=>(0,i.jsx)(tV,{asChild:!0,...e});nK.displayName="SelectPortal";var nJ="SelectContent",nQ=l.forwardRef((e,t)=>{let n=n$(nJ,e.__scopeSelect),[a,s]=l.useState();return((0,tS.b)(()=>{s(new DocumentFragment)},[]),n.open)?(0,i.jsx)(n2,{...e,ref:t}):a?E.createPortal((0,i.jsx)(n0,{scope:e.__scopeSelect,children:(0,i.jsx)(nO.Slot,{scope:e.__scopeSelect,children:(0,i.jsx)("div",{children:e.children})})}),a):null});nQ.displayName=nJ;var[n0,n1]=nz(nJ),n2=l.forwardRef((e,t)=>{let{__scopeSelect:n,position:a="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:r,onPointerDownOutside:o,side:c,sideOffset:d,align:u,alignOffset:m,arrowPadding:p,collisionBoundary:x,collisionPadding:h,sticky:f,hideWhenDetached:y,avoidCollisions:g,...v}=e,j=n$(nJ,n),[b,N]=l.useState(null),[w,S]=l.useState(null),C=(0,R.e)(t,e=>N(e)),[E,T]=l.useState(null),[k,A]=l.useState(null),D=nP(n),[L,M]=l.useState(!1),O=l.useRef(!1);l.useEffect(()=>{if(b)return t1(b)},[b]),W();let P=l.useCallback(e=>{let[t,...n]=D().map(e=>e.ref.current),[a]=n.slice(-1),s=document.activeElement;for(let n of e)if(n===s||(n?.scrollIntoView({block:"nearest"}),n===t&&w&&(w.scrollTop=0),n===a&&w&&(w.scrollTop=w.scrollHeight),n?.focus(),document.activeElement!==s))return},[D,w]),z=l.useCallback(()=>P([E,b]),[P,E,b]);l.useEffect(()=>{L&&z()},[L,z]);let{onOpenChange:_,triggerPointerDownPosRef:Z}=j;l.useEffect(()=>{if(b){let e={x:0,y:0},t=t=>{e={x:Math.abs(Math.round(t.pageX)-(Z.current?.x??0)),y:Math.abs(Math.round(t.pageY)-(Z.current?.y??0))}},n=n=>{e.x<=10&&e.y<=10?n.preventDefault():b.contains(n.target)||_(!1),document.removeEventListener("pointermove",t),Z.current=null};return null!==Z.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",n,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",n,{capture:!0})}}},[b,_,Z]),l.useEffect(()=>{let e=()=>_(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[_]);let[$,Y]=ab(e=>{let t=D().filter(e=>!e.disabled),n=t.find(e=>e.ref.current===document.activeElement),a=aN(t,e,n);a&&setTimeout(()=>a.ref.current.focus())}),V=l.useCallback((e,t,n)=>{let a=!O.current&&!n;(void 0!==j.value&&j.value===t||a)&&(T(e),a&&(O.current=!0))},[j.value]),H=l.useCallback(()=>b?.focus(),[b]),q=l.useCallback((e,t,n)=>{let a=!O.current&&!n;(void 0!==j.value&&j.value===t||a)&&A(e)},[j.value]),U="popper"===a?n5:n4,G=U===n5?{side:c,sideOffset:d,align:u,alignOffset:m,arrowPadding:p,collisionBoundary:x,collisionPadding:h,sticky:f,hideWhenDetached:y,avoidCollisions:g}:{};return(0,i.jsx)(n0,{scope:n,content:b,viewport:w,onViewportChange:S,itemRefCallback:V,selectedItem:E,onItemLeave:H,itemTextRefCallback:q,focusSelectedItem:z,selectedItemText:k,position:a,isPositioned:L,searchRef:$,children:(0,i.jsx)(nA,{as:tH.g7,allowPinchZoom:!0,children:(0,i.jsx)(B,{asChild:!0,trapped:j.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:(0,I.M)(s,e=>{j.trigger?.focus({preventScroll:!0}),e.preventDefault()}),children:(0,i.jsx)(F,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:(0,i.jsx)(U,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:e=>e.preventDefault(),...v,...G,onPlaced:()=>M(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:(0,I.M)(v.onKeyDown,e=>{let t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||Y(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=D().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){let n=e.target,a=t.indexOf(n);t=t.slice(a+1)}setTimeout(()=>P(t)),e.preventDefault()}})})})})})})});n2.displayName="SelectContentImpl";var n4=l.forwardRef((e,t)=>{let{__scopeSelect:n,onPlaced:a,...s}=e,r=n$(nJ,n),o=n1(nJ,n),[c,d]=l.useState(null),[u,m]=l.useState(null),p=(0,R.e)(t,e=>m(e)),x=nP(n),h=l.useRef(!1),f=l.useRef(!0),{viewport:y,selectedItem:g,selectedItemText:v,focusSelectedItem:j}=o,b=l.useCallback(()=>{if(r.trigger&&r.valueNode&&c&&u&&y&&g&&v){let e=r.trigger.getBoundingClientRect(),t=u.getBoundingClientRect(),n=r.valueNode.getBoundingClientRect(),s=v.getBoundingClientRect();if("rtl"!==r.dir){let a=s.left-t.left,r=n.left-a,i=e.left-r,l=e.width+i,o=Math.max(l,t.width),d=T(r,[10,window.innerWidth-10-o]);c.style.minWidth=l+"px",c.style.left=d+"px"}else{let a=t.right-s.right,r=window.innerWidth-n.right-a,i=window.innerWidth-e.right-r,l=e.width+i,o=Math.max(l,t.width),d=T(r,[10,window.innerWidth-10-o]);c.style.minWidth=l+"px",c.style.right=d+"px"}let i=x(),l=window.innerHeight-20,o=y.scrollHeight,d=window.getComputedStyle(u),m=parseInt(d.borderTopWidth,10),p=parseInt(d.paddingTop,10),f=parseInt(d.borderBottomWidth,10),j=m+p+o+parseInt(d.paddingBottom,10)+f,b=Math.min(5*g.offsetHeight,j),N=window.getComputedStyle(y),w=parseInt(N.paddingTop,10),S=parseInt(N.paddingBottom,10),C=e.top+e.height/2-10,E=g.offsetHeight/2,I=m+p+(g.offsetTop+E);if(I<=C){let e=g===i[i.length-1].ref.current;c.style.bottom="0px";let t=u.clientHeight-y.offsetTop-y.offsetHeight;c.style.height=I+Math.max(l-C,E+(e?S:0)+t+f)+"px"}else{let e=g===i[0].ref.current;c.style.top="0px";let t=Math.max(C,m+y.offsetTop+(e?w:0)+E);c.style.height=t+(j-I)+"px",y.scrollTop=I-C+y.offsetTop}c.style.margin="10px 0",c.style.minHeight=b+"px",c.style.maxHeight=l+"px",a?.(),requestAnimationFrame(()=>h.current=!0)}},[x,r.trigger,r.valueNode,c,u,y,g,v,r.dir,a]);(0,tS.b)(()=>b(),[b]);let[N,w]=l.useState();(0,tS.b)(()=>{u&&w(window.getComputedStyle(u).zIndex)},[u]);let S=l.useCallback(e=>{e&&!0===f.current&&(b(),j?.(),f.current=!1)},[b,j]);return(0,i.jsx)(n6,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:h,onScrollButtonChange:S,children:(0,i.jsx)("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:(0,i.jsx)(L.WV.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});n4.displayName="SelectItemAlignedPosition";var n5=l.forwardRef((e,t)=>{let{__scopeSelect:n,align:a="start",collisionPadding:s=10,...r}=e,l=nZ(n);return(0,i.jsx)(tF,{...l,...r,ref:t,align:a,collisionPadding:s,style:{boxSizing:"border-box",...r.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});n5.displayName="SelectPopperPosition";var[n6,n3]=nz(nJ,{}),n8="SelectViewport",n7=l.forwardRef((e,t)=>{let{__scopeSelect:n,nonce:a,...s}=e,r=n1(n8,n),o=n3(n8,n),c=(0,R.e)(t,r.onViewportChange),d=l.useRef(0);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),(0,i.jsx)(nO.Slot,{scope:n,children:(0,i.jsx)(L.WV.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"auto",...s.style},onScroll:(0,I.M)(s.onScroll,e=>{let t=e.currentTarget,{contentWrapper:n,shouldExpandOnScrollRef:a}=o;if(a?.current&&n){let e=Math.abs(d.current-t.scrollTop);if(e>0){let a=window.innerHeight-20,s=Math.max(parseFloat(n.style.minHeight),parseFloat(n.style.height));if(s<a){let r=s+e,i=Math.min(a,r),l=r-i;n.style.height=i+"px","0px"===n.style.bottom&&(t.scrollTop=l>0?l:0,n.style.justifyContent="flex-end")}}}d.current=t.scrollTop})})})]})});n7.displayName=n8;var n9="SelectGroup",[ae,at]=nz(n9);l.forwardRef((e,t)=>{let{__scopeSelect:n,...a}=e,s=(0,J.M)();return(0,i.jsx)(ae,{scope:n,id:s,children:(0,i.jsx)(L.WV.div,{role:"group","aria-labelledby":s,...a,ref:t})})}).displayName=n9;var an="SelectLabel",aa=l.forwardRef((e,t)=>{let{__scopeSelect:n,...a}=e,s=at(an,n);return(0,i.jsx)(L.WV.div,{id:s.id,...a,ref:t})});aa.displayName=an;var as="SelectItem",[ar,ai]=nz(as),al=l.forwardRef((e,t)=>{let{__scopeSelect:n,value:a,disabled:s=!1,textValue:r,...o}=e,c=n$(as,n),d=n1(as,n),u=c.value===a,[m,p]=l.useState(r??""),[x,h]=l.useState(!1),f=(0,R.e)(t,e=>d.itemRefCallback?.(e,a,s)),y=(0,J.M)(),g=()=>{s||(c.onValueChange(a),c.onOpenChange(!1))};if(""===a)throw Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,i.jsx)(ar,{scope:n,value:a,disabled:s,textId:y,isSelected:u,onItemTextChange:l.useCallback(e=>{p(t=>t||(e?.textContent??"").trim())},[]),children:(0,i.jsx)(nO.ItemSlot,{scope:n,value:a,disabled:s,textValue:m,children:(0,i.jsx)(L.WV.div,{role:"option","aria-labelledby":y,"data-highlighted":x?"":void 0,"aria-selected":u&&x,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:f,onFocus:(0,I.M)(o.onFocus,()=>h(!0)),onBlur:(0,I.M)(o.onBlur,()=>h(!1)),onPointerUp:(0,I.M)(o.onPointerUp,g),onPointerMove:(0,I.M)(o.onPointerMove,e=>{s?d.onItemLeave?.():e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:(0,I.M)(o.onPointerLeave,e=>{e.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:(0,I.M)(o.onKeyDown,e=>{d.searchRef?.current!==""&&" "===e.key||(nL.includes(e.key)&&g()," "===e.key&&e.preventDefault())})})})})});al.displayName=as;var ao="SelectItemText",ac=l.forwardRef((e,t)=>{let{__scopeSelect:n,className:a,style:s,...r}=e,o=n$(ao,n),c=n1(ao,n),d=ai(ao,n),u=nV(ao,n),[m,p]=l.useState(null),x=(0,R.e)(t,e=>p(e),d.onItemTextChange,e=>c.itemTextRefCallback?.(e,d.value,d.disabled)),h=m?.textContent,f=l.useMemo(()=>(0,i.jsx)("option",{value:d.value,disabled:d.disabled,children:h},d.value),[d.disabled,d.value,h]),{onNativeOptionAdd:y,onNativeOptionRemove:g}=u;return(0,tS.b)(()=>(y(f),()=>g(f)),[y,g,f]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(L.WV.span,{id:d.textId,...r,ref:x}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?E.createPortal(r.children,o.valueNode):null]})});ac.displayName=ao;var ad="SelectItemIndicator",au=l.forwardRef((e,t)=>{let{__scopeSelect:n,...a}=e;return ai(ad,n).isSelected?(0,i.jsx)(L.WV.span,{"aria-hidden":!0,...a,ref:t}):null});au.displayName=ad;var am="SelectScrollUpButton",ap=l.forwardRef((e,t)=>{let n=n1(am,e.__scopeSelect),a=n3(am,e.__scopeSelect),[s,r]=l.useState(!1),o=(0,R.e)(t,a.onScrollButtonChange);return(0,tS.b)(()=>{if(n.viewport&&n.isPositioned){let e=function(){r(t.scrollTop>0)},t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),s?(0,i.jsx)(af,{...e,ref:o,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null});ap.displayName=am;var ax="SelectScrollDownButton",ah=l.forwardRef((e,t)=>{let n=n1(ax,e.__scopeSelect),a=n3(ax,e.__scopeSelect),[s,r]=l.useState(!1),o=(0,R.e)(t,a.onScrollButtonChange);return(0,tS.b)(()=>{if(n.viewport&&n.isPositioned){let e=function(){let e=t.scrollHeight-t.clientHeight;r(Math.ceil(t.scrollTop)<e)},t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),s?(0,i.jsx)(af,{...e,ref:o,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null});ah.displayName=ax;var af=l.forwardRef((e,t)=>{let{__scopeSelect:n,onAutoScroll:a,...s}=e,r=n1("SelectScrollButton",n),o=l.useRef(null),c=nP(n),d=l.useCallback(()=>{null!==o.current&&(window.clearInterval(o.current),o.current=null)},[]);return l.useEffect(()=>()=>d(),[d]),(0,tS.b)(()=>{let e=c().find(e=>e.ref.current===document.activeElement);e?.ref.current?.scrollIntoView({block:"nearest"})},[c]),(0,i.jsx)(L.WV.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:(0,I.M)(s.onPointerDown,()=>{null===o.current&&(o.current=window.setInterval(a,50))}),onPointerMove:(0,I.M)(s.onPointerMove,()=>{r.onItemLeave?.(),null===o.current&&(o.current=window.setInterval(a,50))}),onPointerLeave:(0,I.M)(s.onPointerLeave,()=>{d()})})}),ay=l.forwardRef((e,t)=>{let{__scopeSelect:n,...a}=e;return(0,i.jsx)(L.WV.div,{"aria-hidden":!0,...a,ref:t})});ay.displayName="SelectSeparator";var ag="SelectArrow";function av(e){return""===e||void 0===e}l.forwardRef((e,t)=>{let{__scopeSelect:n,...a}=e,s=nZ(n),r=n$(ag,n),l=n1(ag,n);return r.open&&"popper"===l.position?(0,i.jsx)(tZ,{...s,...a,ref:t}):null}).displayName=ag;var aj=l.forwardRef((e,t)=>{let{value:n,...a}=e,s=l.useRef(null),r=(0,R.e)(t,s),o=tq(n);return l.useEffect(()=>{let e=s.current,t=Object.getOwnPropertyDescriptor(window.HTMLSelectElement.prototype,"value").set;if(o!==n&&t){let a=new Event("change",{bubbles:!0});t.call(e,n),e.dispatchEvent(a)}},[o,n]),(0,i.jsx)(tU,{asChild:!0,children:(0,i.jsx)("select",{...a,ref:r,defaultValue:n})})});function ab(e){let t=(0,M.W)(e),n=l.useRef(""),a=l.useRef(0),s=l.useCallback(e=>{let s=n.current+e;t(s),function e(t){n.current=t,window.clearTimeout(a.current),""!==t&&(a.current=window.setTimeout(()=>e(""),1e3))}(s)},[t]),r=l.useCallback(()=>{n.current="",window.clearTimeout(a.current)},[]);return l.useEffect(()=>()=>window.clearTimeout(a.current),[]),[n,s,r]}function aN(e,t,n){var a;let s=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,r=(a=Math.max(n?e.indexOf(n):-1,0),e.map((t,n)=>e[(a+n)%e.length]));1===s.length&&(r=r.filter(e=>e!==n));let i=r.find(e=>e.textValue.toLowerCase().startsWith(s.toLowerCase()));return i!==n?i:void 0}aj.displayName="BubbleSelect";let aw=(0,h.Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),aS=(0,h.Z)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var aC=n(77863);let aE=l.forwardRef(({className:e,children:t,...n},a)=>(0,i.jsxs)(nq,{ref:a,className:(0,aC.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,i.jsx(nX,{asChild:!0,children:i.jsx(aw,{className:"h-4 w-4 opacity-50"})})]}));aE.displayName=nq.displayName;let aT=l.forwardRef(({className:e,...t},n)=>i.jsx(ap,{ref:n,className:(0,aC.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(aS,{className:"h-4 w-4"})}));aT.displayName=ap.displayName;let aI=l.forwardRef(({className:e,...t},n)=>i.jsx(ah,{ref:n,className:(0,aC.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(aw,{className:"h-4 w-4"})}));aI.displayName=ah.displayName;let ak=l.forwardRef(({className:e,children:t,position:n="popper",...a},s)=>i.jsx(nK,{children:(0,i.jsxs)(nQ,{ref:s,className:(0,aC.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...a,children:[i.jsx(aT,{}),i.jsx(n7,{className:(0,aC.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(aI,{})]})}));ak.displayName=nQ.displayName,l.forwardRef(({className:e,...t},n)=>i.jsx(aa,{ref:n,className:(0,aC.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=aa.displayName;let aR=l.forwardRef(({className:e,children:t,...n},a)=>(0,i.jsxs)(al,{ref:a,className:(0,aC.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(au,{children:i.jsx(N,{className:"h-4 w-4"})})}),i.jsx(ac,{children:t})]}));aR.displayName=al.displayName,l.forwardRef(({className:e,...t},n)=>i.jsx(ay,{ref:n,className:(0,aC.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=ay.displayName;let aA=(0,h.Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),aD=(0,h.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),aL=[{value:"SINGLE",label:"Single"},{value:"MARRIED_FILING_JOINTLY",label:"Married Filing Jointly"},{value:"MARRIED_FILING_SEPARATELY",label:"Married Filing Separately"},{value:"HEAD_OF_HOUSEHOLD",label:"Head of Household"},{value:"QUALIFYING_SURVIVING_SPOUSE",label:"Qualifying Surviving Spouse"}];function aM({taxReturn:e,onUpdate:t,onAutoSave:n,onCompleteStep:a,onNext:s,onPrev:r,onMarkUnsaved:o,loading:u,saving:m,autoSaving:x,hasUnsavedChanges:h,lastSaved:f}){let[y,g]=(0,l.useState)({filingStatus:e.filingStatus||"SINGLE",firstName:e.firstName||"",lastName:e.lastName||"",ssn:e.ssn||"",spouseFirstName:e.spouseFirstName||"",spouseLastName:e.spouseLastName||"",spouseSsn:e.spouseSsn||"",address:e.address||"",city:e.city||"",state:e.state||"",zipCode:e.zipCode||""}),v=async e=>{e.preventDefault(),await t(y),s()},j=async e=>{e.preventDefault(),await a(y),s()},b=(e,t)=>{g(n=>({...n,[e]:t})),o()},N=async()=>{await n(y)},w="MARRIED_FILING_JOINTLY"===y.filingStatus||"MARRIED_FILING_SEPARATELY"===y.filingStatus,E=y.firstName&&y.lastName&&y.filingStatus;return 1===e.currentStep?(0,i.jsxs)("form",{onSubmit:v,className:"space-y-6",children:[(0,i.jsxs)("div",{className:"text-center mb-8",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Let's get started!"}),i.jsx("p",{className:"text-gray-600",children:"We'll guide you through your tax return step by step."})]}),(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)(d.Zb,{children:[i.jsx(d.Ol,{children:(0,i.jsxs)(d.ll,{className:"flex items-center space-x-2",children:[i.jsx(p.Z,{className:"h-5 w-5"}),i.jsx("span",{children:"Basic Information"})]})}),(0,i.jsxs)(d.aY,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[i.jsx(C._,{htmlFor:"firstName",children:"First Name *"}),i.jsx(S.I,{id:"firstName",value:y.firstName,onChange:e=>b("firstName",e.target.value),required:!0})]}),(0,i.jsxs)("div",{children:[i.jsx(C._,{htmlFor:"lastName",children:"Last Name *"}),i.jsx(S.I,{id:"lastName",value:y.lastName,onChange:e=>b("lastName",e.target.value),required:!0})]})]}),(0,i.jsxs)("div",{children:[i.jsx(C._,{htmlFor:"filingStatus",children:"Filing Status *"}),(0,i.jsxs)(nH,{value:y.filingStatus,onValueChange:e=>b("filingStatus",e),children:[i.jsx(aE,{children:i.jsx(nG,{placeholder:"Select filing status"})}),i.jsx(ak,{children:aL.map(e=>i.jsx(aR,{value:e.value,children:e.label},e.value))})]})]})]})]}),(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[h&&!x&&i.jsx(c.z,{type:"button",variant:"outline",onClick:N,disabled:x,size:"sm",children:x?"Saving...":"Save"}),x&&(0,i.jsxs)("div",{className:"flex items-center space-x-1 text-blue-600 text-sm",children:[i.jsx("div",{className:"animate-spin h-3 w-3 border border-blue-600 border-t-transparent rounded-full"}),i.jsx("span",{children:"Auto-saving..."})]})]}),(0,i.jsxs)("div",{className:"flex space-x-2",children:[(0,i.jsxs)(c.z,{type:"button",variant:"outline",onClick:j,disabled:!E||m,children:[m?"Saving...":"Save & Continue",i.jsx(aA,{className:"ml-2 h-4 w-4"})]}),(0,i.jsxs)(c.z,{type:"submit",disabled:!E||m,children:[m?"Saving...":"Continue",i.jsx(aA,{className:"ml-2 h-4 w-4"})]})]})]})]})]}):i.jsx("form",{onSubmit:v,className:"space-y-6",children:(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{children:[(0,i.jsxs)(d.ll,{className:"flex items-center space-x-2",children:[i.jsx(p.Z,{className:"h-5 w-5"}),i.jsx("span",{children:"Personal Information"})]}),i.jsx(d.SZ,{children:"Enter your personal details as they appear on your tax documents"})]}),(0,i.jsxs)(d.aY,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[i.jsx(C._,{htmlFor:"firstName",children:"First Name *"}),i.jsx(S.I,{id:"firstName",value:y.firstName,onChange:e=>b("firstName",e.target.value),required:!0})]}),(0,i.jsxs)("div",{children:[i.jsx(C._,{htmlFor:"lastName",children:"Last Name *"}),i.jsx(S.I,{id:"lastName",value:y.lastName,onChange:e=>b("lastName",e.target.value),required:!0})]})]}),(0,i.jsxs)("div",{children:[i.jsx(C._,{htmlFor:"ssn",children:"Social Security Number *"}),i.jsx(S.I,{id:"ssn",value:y.ssn,onChange:e=>b("ssn",e.target.value),placeholder:"000-00-0000",maxLength:11,required:!0})]}),(0,i.jsxs)("div",{children:[i.jsx(C._,{htmlFor:"filingStatus",children:"Filing Status *"}),(0,i.jsxs)(nH,{value:y.filingStatus,onValueChange:e=>b("filingStatus",e),children:[i.jsx(aE,{children:i.jsx(nG,{placeholder:"Select filing status"})}),i.jsx(ak,{children:aL.map(e=>i.jsx(aR,{value:e.value,children:e.label},e.value))})]})]})]})]}),w&&(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{children:[(0,i.jsxs)(d.ll,{className:"flex items-center space-x-2",children:[i.jsx(aD,{className:"h-5 w-5"}),i.jsx("span",{children:"Spouse Information"})]}),i.jsx(d.SZ,{children:"Enter your spouse's information"})]}),(0,i.jsxs)(d.aY,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[i.jsx(C._,{htmlFor:"spouseFirstName",children:"Spouse First Name *"}),i.jsx(S.I,{id:"spouseFirstName",value:y.spouseFirstName,onChange:e=>b("spouseFirstName",e.target.value),required:!0})]}),(0,i.jsxs)("div",{children:[i.jsx(C._,{htmlFor:"spouseLastName",children:"Spouse Last Name *"}),i.jsx(S.I,{id:"spouseLastName",value:y.spouseLastName,onChange:e=>b("spouseLastName",e.target.value),required:!0})]})]}),(0,i.jsxs)("div",{children:[i.jsx(C._,{htmlFor:"spouseSsn",children:"Spouse Social Security Number *"}),i.jsx(S.I,{id:"spouseSsn",value:y.spouseSsn,onChange:e=>b("spouseSsn",e.target.value),placeholder:"000-00-0000",maxLength:11,required:!0})]})]})]}),(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{children:[i.jsx(d.ll,{children:"Address Information"}),i.jsx(d.SZ,{children:"Enter your current address"})]}),(0,i.jsxs)(d.aY,{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[i.jsx(C._,{htmlFor:"address",children:"Street Address *"}),i.jsx(S.I,{id:"address",value:y.address,onChange:e=>b("address",e.target.value),required:!0})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[i.jsx(C._,{htmlFor:"city",children:"City *"}),i.jsx(S.I,{id:"city",value:y.city,onChange:e=>b("city",e.target.value),required:!0})]}),(0,i.jsxs)("div",{children:[i.jsx(C._,{htmlFor:"state",children:"State *"}),i.jsx(S.I,{id:"state",value:y.state,onChange:e=>b("state",e.target.value),maxLength:2,placeholder:"CA",required:!0})]})]}),(0,i.jsxs)("div",{className:"w-1/2",children:[i.jsx(C._,{htmlFor:"zipCode",children:"ZIP Code *"}),i.jsx(S.I,{id:"zipCode",value:y.zipCode,onChange:e=>b("zipCode",e.target.value),maxLength:10,placeholder:"12345",required:!0})]})]})]}),(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(c.z,{type:"button",variant:"outline",onClick:r,disabled:1===e.currentStep,children:"Back"}),h&&!x&&i.jsx(c.z,{type:"button",variant:"outline",onClick:N,disabled:x,size:"sm",children:x?"Saving...":"Save"}),x&&(0,i.jsxs)("div",{className:"flex items-center space-x-1 text-blue-600 text-sm",children:[i.jsx("div",{className:"animate-spin h-3 w-3 border border-blue-600 border-t-transparent rounded-full"}),i.jsx("span",{children:"Auto-saving..."})]})]}),(0,i.jsxs)("div",{className:"flex space-x-2",children:[(0,i.jsxs)(c.z,{type:"button",variant:"outline",onClick:j,disabled:m,children:[m?"Saving...":"Save & Continue",i.jsx(aA,{className:"ml-2 h-4 w-4"})]}),(0,i.jsxs)(c.z,{type:"submit",disabled:m,children:[m?"Saving...":"Continue",i.jsx(aA,{className:"ml-2 h-4 w-4"})]})]})]})]})})}var aO=n(43273),aP=n(41105),aF=n(9815),az="Dialog",[a_,aZ]=(0,A.b)(az),[aW,a$]=a_(az),aY=e=>{let{__scopeDialog:t,children:n,open:a,defaultOpen:s,onOpenChange:r,modal:o=!0}=e,c=l.useRef(null),d=l.useRef(null),[u=!1,m]=(0,tB.T)({prop:a,defaultProp:s,onChange:r});return(0,i.jsx)(aW,{scope:t,triggerRef:c,contentRef:d,contentId:(0,J.M)(),titleId:(0,J.M)(),descriptionId:(0,J.M)(),open:u,onOpenChange:m,onOpenToggle:l.useCallback(()=>m(e=>!e),[m]),modal:o,children:n})};aY.displayName=az;var aV="DialogTrigger";l.forwardRef((e,t)=>{let{__scopeDialog:n,...a}=e,s=a$(aV,n),r=(0,R.e)(t,s.triggerRef);return(0,i.jsx)(L.WV.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":a9(s.open),...a,ref:r,onClick:(0,I.M)(e.onClick,s.onOpenToggle)})}).displayName=aV;var aH="DialogPortal",[aB,aq]=a_(aH,{forceMount:void 0}),aU=e=>{let{__scopeDialog:t,forceMount:n,children:a,container:s}=e,r=a$(aH,t);return(0,i.jsx)(aB,{scope:t,forceMount:n,children:l.Children.map(a,e=>(0,i.jsx)(aF.z,{present:n||r.open,children:(0,i.jsx)(tV,{asChild:!0,container:s,children:e})}))})};aU.displayName=aH;var aG="DialogOverlay",aX=l.forwardRef((e,t)=>{let n=aq(aG,e.__scopeDialog),{forceMount:a=n.forceMount,...s}=e,r=a$(aG,e.__scopeDialog);return r.modal?(0,i.jsx)(aF.z,{present:a||r.open,children:(0,i.jsx)(aK,{...s,ref:t})}):null});aX.displayName=aG;var aK=l.forwardRef((e,t)=>{let{__scopeDialog:n,...a}=e,s=a$(aG,n);return(0,i.jsx)(nA,{as:tH.g7,allowPinchZoom:!0,shards:[s.contentRef],children:(0,i.jsx)(L.WV.div,{"data-state":a9(s.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),aJ="DialogContent",aQ=l.forwardRef((e,t)=>{let n=aq(aJ,e.__scopeDialog),{forceMount:a=n.forceMount,...s}=e,r=a$(aJ,e.__scopeDialog);return(0,i.jsx)(aF.z,{present:a||r.open,children:r.modal?(0,i.jsx)(a0,{...s,ref:t}):(0,i.jsx)(a1,{...s,ref:t})})});aQ.displayName=aJ;var a0=l.forwardRef((e,t)=>{let n=a$(aJ,e.__scopeDialog),a=l.useRef(null),s=(0,R.e)(t,n.contentRef,a);return l.useEffect(()=>{let e=a.current;if(e)return t1(e)},[]),(0,i.jsx)(a2,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,I.M)(e.onCloseAutoFocus,e=>{e.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:(0,I.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()}),onFocusOutside:(0,I.M)(e.onFocusOutside,e=>e.preventDefault())})}),a1=l.forwardRef((e,t)=>{let n=a$(aJ,e.__scopeDialog),a=l.useRef(!1),s=l.useRef(!1);return(0,i.jsx)(a2,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(a.current||n.triggerRef.current?.focus(),t.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(a.current=!0,"pointerdown"!==t.detail.originalEvent.type||(s.current=!0));let r=t.target;n.triggerRef.current?.contains(r)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&s.current&&t.preventDefault()}})}),a2=l.forwardRef((e,t)=>{let{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:r,...o}=e,c=a$(aJ,n),d=l.useRef(null),u=(0,R.e)(t,d);return W(),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(B,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:r,children:(0,i.jsx)(F,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":a9(c.open),...o,ref:u,onDismiss:()=>c.onOpenChange(!1)})}),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(sa,{titleId:c.titleId}),(0,i.jsx)(ss,{contentRef:d,descriptionId:c.descriptionId})]})]})}),a4="DialogTitle",a5=l.forwardRef((e,t)=>{let{__scopeDialog:n,...a}=e,s=a$(a4,n);return(0,i.jsx)(L.WV.h2,{id:s.titleId,...a,ref:t})});a5.displayName=a4;var a6="DialogDescription",a3=l.forwardRef((e,t)=>{let{__scopeDialog:n,...a}=e,s=a$(a6,n);return(0,i.jsx)(L.WV.p,{id:s.descriptionId,...a,ref:t})});a3.displayName=a6;var a8="DialogClose",a7=l.forwardRef((e,t)=>{let{__scopeDialog:n,...a}=e,s=a$(a8,n);return(0,i.jsx)(L.WV.button,{type:"button",...a,ref:t,onClick:(0,I.M)(e.onClick,()=>s.onOpenChange(!1))})});function a9(e){return e?"open":"closed"}a7.displayName=a8;var se="DialogTitleWarning",[st,sn]=(0,A.k)(se,{contentName:aJ,titleName:a4,docsSlug:"dialog"}),sa=({titleId:e})=>{let t=sn(se),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return l.useEffect(()=>{e&&!document.getElementById(e)&&console.error(n)},[n,e]),null},ss=({contentRef:e,descriptionId:t})=>{let n=sn("DialogDescriptionWarning"),a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${n.contentName}}.`;return l.useEffect(()=>{let n=e.current?.getAttribute("aria-describedby");t&&n&&!document.getElementById(t)&&console.warn(a)},[a,e,t]),null},sr=n(94019);let si=l.forwardRef(({className:e,...t},n)=>i.jsx(aX,{ref:n,className:(0,aC.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));si.displayName=aX.displayName;let sl=l.forwardRef(({className:e,children:t,...n},a)=>(0,i.jsxs)(aU,{children:[i.jsx(si,{}),(0,i.jsxs)(aQ,{ref:a,className:(0,aC.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,(0,i.jsxs)(a7,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(sr.Z,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));sl.displayName=aQ.displayName;let so=({className:e,...t})=>i.jsx("div",{className:(0,aC.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});so.displayName="DialogHeader";let sc=({className:e,...t})=>i.jsx("div",{className:(0,aC.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});sc.displayName="DialogFooter";let sd=l.forwardRef(({className:e,...t},n)=>i.jsx(a5,{ref:n,className:(0,aC.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));sd.displayName=a5.displayName;let su=l.forwardRef(({className:e,...t},n)=>i.jsx(a3,{ref:n,className:(0,aC.cn)("text-sm text-muted-foreground",e),...t}));su.displayName=a3.displayName;let sm=(0,h.Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var sp=n(18019),sx=n(30361);function sh({isOpen:e,onClose:t,onConfirm:n,validationResult:a,documentType:s}){let[r,o]=(0,l.useState)(!1),u=async e=>{o(!0);try{await n(e)}finally{o(!1)}};if(!a)return null;let x=e=>{switch(e){case"high":return"destructive";case"medium":return"default";default:return"secondary"}},h=e=>{switch(e){case"high":return i.jsx(sm,{className:"h-4 w-4"});case"medium":default:return i.jsx(sp.Z,{className:"h-4 w-4"});case"low":return i.jsx(sx.Z,{className:"h-4 w-4"})}},f=e=>({firstName:"First Name",lastName:"Last Name",spouseFirstName:"Spouse First Name",spouseLastName:"Spouse Last Name"})[e]||e;return a.isValid?i.jsx(aY,{open:e,onOpenChange:t,children:(0,i.jsxs)(sl,{className:"sm:max-w-md",children:[(0,i.jsxs)(so,{children:[(0,i.jsxs)(sd,{className:"flex items-center space-x-2",children:[i.jsx(sx.Z,{className:"h-5 w-5 text-green-600"}),i.jsx("span",{children:"Name Validation Successful"})]}),(0,i.jsxs)(su,{children:["The names in your ",s," document match your profile information."]})]}),(0,i.jsxs)(aO.bZ,{children:[i.jsx(sx.Z,{className:"h-4 w-4"}),i.jsx(aO.X,{children:"Document processing will continue automatically. The extracted data will be added to your tax return."})]}),i.jsx(sc,{children:i.jsx(c.z,{onClick:()=>u(!1),disabled:r,className:"w-full",children:r?"Processing...":"Continue"})})]})}):i.jsx(aY,{open:e,onOpenChange:t,children:(0,i.jsxs)(sl,{className:"sm:max-w-2xl",children:[(0,i.jsxs)(so,{children:[(0,i.jsxs)(sd,{className:"flex items-center space-x-2",children:[i.jsx(sm,{className:"h-5 w-5 text-orange-600"}),i.jsx("span",{children:"Name Validation Required"})]}),(0,i.jsxs)(su,{children:["We found some differences between the names in your ",s," document and your profile information. Please review and decide how to proceed."]})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)(d.Zb,{children:[i.jsx(d.Ol,{className:"pb-3",children:i.jsx(d.ll,{className:"text-base",children:"Validation Confidence"})}),i.jsx(d.aY,{children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Match Confidence"}),(0,i.jsxs)(m.C,{variant:a.confidence>.7?"default":"destructive",children:[Math.round(100*a.confidence),"%"]})]})})]}),(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{className:"pb-3",children:[(0,i.jsxs)(d.ll,{className:"text-base flex items-center space-x-2",children:[i.jsx(p.Z,{className:"h-4 w-4"}),i.jsx("span",{children:"Name Differences Found"})]}),i.jsx(d.SZ,{children:"Review the differences between your profile and document names"})]}),i.jsx(d.aY,{className:"space-y-3",children:a.mismatches.map((e,t)=>(0,i.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(m.C,{variant:x(e.severity),children:h(e.severity)})}),(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium text-sm",children:f(e.field)}),(0,i.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,i.jsxs)("p",{children:["Profile: ",i.jsx("span",{className:"font-mono",children:e.profileName||"Not set"})]}),(0,i.jsxs)("p",{children:["Document: ",i.jsx("span",{className:"font-mono",children:e.documentName||"Not found"})]})]})]})]},t))})]}),a.suggestions.length>0&&(0,i.jsxs)(d.Zb,{children:[i.jsx(d.Ol,{className:"pb-3",children:(0,i.jsxs)(d.ll,{className:"text-base flex items-center space-x-2",children:[i.jsx(sp.Z,{className:"h-4 w-4"}),i.jsx("span",{children:"Suggestions"})]})}),i.jsx(d.aY,{children:i.jsx("ul",{className:"space-y-2",children:a.suggestions.map((e,t)=>(0,i.jsxs)("li",{className:"text-sm text-gray-600 flex items-start space-x-2",children:[i.jsx("span",{className:"text-blue-500 mt-1",children:"•"}),i.jsx("span",{children:e})]},t))})})]}),a.mismatches.some(e=>"high"===e.severity)&&(0,i.jsxs)(aO.bZ,{variant:"destructive",children:[i.jsx(sm,{className:"h-4 w-4"}),(0,i.jsxs)(aO.X,{children:[i.jsx("strong",{children:"Important:"})," We found significant name differences. Please ensure the document belongs to you or update your profile information before continuing."]})]})]}),(0,i.jsxs)(sc,{className:"flex-col sm:flex-row gap-2",children:[i.jsx(c.z,{variant:"outline",onClick:t,disabled:r,className:"w-full sm:w-auto",children:"Cancel"}),i.jsx(c.z,{variant:"outline",onClick:()=>u(!1),disabled:r,className:"w-full sm:w-auto",children:"Update Profile First"}),i.jsx(c.z,{onClick:()=>u(!0),disabled:r,className:"w-full sm:w-auto",children:r?"Processing...":"Continue Anyway"})]})]})})}var sf=n(63685);let sy=(0,h.Z)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);var sg=n(98091),sv=n(83855);let sj=[{value:"W2_WAGES",label:"W-2 Wages"},{value:"INTEREST",label:"Interest Income"},{value:"DIVIDENDS",label:"Dividends"},{value:"UNEMPLOYMENT",label:"Unemployment Compensation"},{value:"RETIREMENT_DISTRIBUTIONS",label:"Retirement Distributions"},{value:"SOCIAL_SECURITY",label:"Social Security Benefits"},{value:"OTHER_INCOME",label:"Other Income"}];var sb=n(15594),sN="Radio",[sw,sS]=(0,A.b)(sN),[sC,sE]=sw(sN),sT=l.forwardRef((e,t)=>{let{__scopeRadio:n,name:a,checked:s=!1,required:r,disabled:o,value:c="on",onCheck:d,...u}=e,[m,p]=l.useState(null),x=(0,R.e)(t,e=>p(e)),h=l.useRef(!1),f=!m||!!m.closest("form");return(0,i.jsxs)(sC,{scope:n,checked:s,disabled:o,children:[(0,i.jsx)(L.WV.button,{type:"button",role:"radio","aria-checked":s,"data-state":sA(s),"data-disabled":o?"":void 0,disabled:o,value:c,...u,ref:x,onClick:(0,I.M)(e.onClick,e=>{s||d?.(),f&&(h.current=e.isPropagationStopped(),h.current||e.stopPropagation())})}),f&&(0,i.jsx)(sR,{control:m,bubbles:!h.current,name:a,value:c,checked:s,required:r,disabled:o,style:{transform:"translateX(-100%)"}})]})});sT.displayName=sN;var sI="RadioIndicator",sk=l.forwardRef((e,t)=>{let{__scopeRadio:n,forceMount:a,...s}=e,r=sE(sI,n);return(0,i.jsx)(aF.z,{present:a||r.checked,children:(0,i.jsx)(L.WV.span,{"data-state":sA(r.checked),"data-disabled":r.disabled?"":void 0,...s,ref:t})})});sk.displayName=sI;var sR=e=>{let{control:t,checked:n,bubbles:a=!0,...s}=e,r=l.useRef(null),o=tq(n),c=tC(t);return l.useEffect(()=>{let e=r.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==n&&t){let s=new Event("click",{bubbles:a});t.call(e,n),e.dispatchEvent(s)}},[o,n,a]),(0,i.jsx)("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:r,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function sA(e){return e?"checked":"unchecked"}var sD=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],sL="RadioGroup",[sM,sO]=(0,A.b)(sL,[sb.Pc,sS]),sP=(0,sb.Pc)(),sF=sS(),[sz,s_]=sM(sL),sZ=l.forwardRef((e,t)=>{let{__scopeRadioGroup:n,name:a,defaultValue:s,value:r,required:l=!1,disabled:o=!1,orientation:c,dir:d,loop:u=!0,onValueChange:m,...p}=e,x=sP(n),h=(0,D.gm)(d),[f,y]=(0,tB.T)({prop:r,defaultProp:s,onChange:m});return(0,i.jsx)(sz,{scope:n,name:a,required:l,disabled:o,value:f,onValueChange:y,children:(0,i.jsx)(sb.fC,{asChild:!0,...x,orientation:c,dir:h,loop:u,children:(0,i.jsx)(L.WV.div,{role:"radiogroup","aria-required":l,"aria-orientation":c,"data-disabled":o?"":void 0,dir:h,...p,ref:t})})})});sZ.displayName=sL;var sW="RadioGroupItem",s$=l.forwardRef((e,t)=>{let{__scopeRadioGroup:n,disabled:a,...s}=e,r=s_(sW,n),o=r.disabled||a,c=sP(n),d=sF(n),u=l.useRef(null),m=(0,R.e)(t,u),p=r.value===s.value,x=l.useRef(!1);return l.useEffect(()=>{let e=e=>{sD.includes(e.key)&&(x.current=!0)},t=()=>x.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),(0,i.jsx)(sb.ck,{asChild:!0,...c,focusable:!o,active:p,children:(0,i.jsx)(sT,{disabled:o,required:r.required,checked:p,...d,...s,name:r.name,ref:m,onCheck:()=>r.onValueChange(s.value),onKeyDown:(0,I.M)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,I.M)(s.onFocus,()=>{x.current&&u.current?.click()})})})});s$.displayName=sW;var sY=l.forwardRef((e,t)=>{let{__scopeRadioGroup:n,...a}=e,s=sF(n);return(0,i.jsx)(sk,{...s,...a,ref:t})});sY.displayName="RadioGroupIndicator";let sV=(0,h.Z)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),sH=l.forwardRef(({className:e,...t},n)=>i.jsx(sZ,{className:(0,aC.cn)("grid gap-2",e),...t,ref:n}));sH.displayName=sZ.displayName;let sB=l.forwardRef(({className:e,...t},n)=>i.jsx(s$,{ref:n,className:(0,aC.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:i.jsx(sY,{className:"flex items-center justify-center",children:i.jsx(sV,{className:"h-2.5 w-2.5 fill-current text-current"})})}));sB.displayName=s$.displayName;let sq=(0,h.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),sU={single:14600,marriedFilingJointly:29200,marriedFilingSeparately:14600,headOfHousehold:21900,qualifyingSurvivingSpouse:29200};var sG=n(79210);let sX=(0,h.Z)("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),sK=(0,h.Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),sJ=(0,h.Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),sQ=(0,h.Z)("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]),s0=(0,h.Z)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),s1=(0,h.Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);function s2({taxReturn:e,adjustedGrossIncome:t,currentItemizedDeductions:n,filingStatus:a,dependents:s}){let[r,o]=(0,l.useState)([]),[u,p]=(0,l.useState)({name:"",additionalAmount:"",deductionType:"CHARITABLE_CONTRIBUTIONS"}),[x,h]=(0,l.useState)([]),[f,g]=(0,l.useState)([]),[v,j]=(0,l.useState)(!1),[b,N]=(0,l.useState)(""),[w,E]=(0,l.useState)("scenarios"),[T,I]=(0,l.useState)(null),k=Math.max(0,parseFloat(String(t||0))),R=Math.max(0,parseFloat(String(n||0))),A=a||"SINGLE",D=Array.isArray(s)?s:[],L=[{value:"CHARITABLE_CONTRIBUTIONS",label:"Charitable Donations"},{value:"MORTGAGE_INTEREST",label:"Mortgage Interest"},{value:"STATE_LOCAL_TAXES",label:"State & Local Taxes"},{value:"MEDICAL_EXPENSES",label:"Medical Expenses"},{value:"BUSINESS_EXPENSES",label:"Business Expenses"},{value:"STUDENT_LOAN_INTEREST",label:"Student Loan Interest"},{value:"IRA_CONTRIBUTIONS",label:"Retirement Contributions"},{value:"OTHER_DEDUCTIONS",label:"Other Deductions"}],M=e=>{o(r.filter(t=>t.id!==e))},O=async()=>{j(!0);try{let t=Math.max(k,5e4);console.log("\uD83E\uDD16 Getting AI recommendations with:",{income:t,itemizedDeductions:R,filingStatus:A});let n=await fetch("/api/ai/tax-strategies",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({adjustedGrossIncome:t,filingStatus:A,currentItemizedDeductions:R,dependents:D,taxReturn:{totalIncome:e?.totalIncome||t,deductionEntries:e?.deductionEntries||[]}})});if(n.ok){let e=await n.json();console.log("\uD83C\uDFAF Received AI recommendations:",e),g(e)}else console.error("AI API response not ok:",n.status,n.statusText)}catch(e){console.error("Error getting AI recommendations:",e)}finally{j(!1)}},P=x[0]?.taxLiability||0;return(0,i.jsxs)(d.Zb,{className:"border-2 border-blue-200 bg-blue-50/50",children:[(0,i.jsxs)(d.Ol,{children:[(0,i.jsxs)(d.ll,{className:"flex items-center space-x-2",children:[i.jsx(y,{className:"h-5 w-5 text-blue-600"}),i.jsx("span",{children:"Interactive What-If Scenarios"}),i.jsx(sy,{className:"h-4 w-4 text-yellow-500"})]}),i.jsx(d.SZ,{children:"Explore how different deduction strategies could impact your taxes with AI-powered recommendations"}),T&&(0,i.jsxs)(aO.bZ,{className:"mt-2 bg-yellow-50 border-yellow-200",children:[i.jsx(sp.Z,{className:"h-4 w-4"}),i.jsx(aO.X,{children:(0,i.jsxs)("details",{className:"text-xs",children:[i.jsx("summary",{className:"cursor-pointer font-medium",children:"\uD83D\uDD0D Debug Info (Click to expand)"}),(0,i.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,i.jsxs)("div",{children:[i.jsx("strong",{children:"Income:"})," $",T.safeAGI?.toLocaleString()," (original: $",T.originalAGI||"N/A",")"]}),(0,i.jsxs)("div",{children:[i.jsx("strong",{children:"Itemized Deductions:"})," $",T.safeItemized?.toLocaleString()]}),(0,i.jsxs)("div",{children:[i.jsx("strong",{children:"Filing Status:"})," ",T.filingStatus]}),(0,i.jsxs)("div",{children:[i.jsx("strong",{children:"Dependents:"})," ",T.dependentsCount]}),(0,i.jsxs)("div",{children:[i.jsx("strong",{children:"Tax Return ID:"})," ",T.taxReturn?.id||"N/A"]}),(0,i.jsxs)("div",{children:[i.jsx("strong",{children:"Calculations Count:"})," ",x.length]})]})]})})]})]}),i.jsx(d.aY,{children:(0,i.jsxs)(sG.mQ,{value:w,onValueChange:E,className:"w-full",children:[(0,i.jsxs)(sG.dr,{className:"grid w-full grid-cols-3",children:[i.jsx(sG.SP,{value:"scenarios",children:"Scenarios"}),i.jsx(sG.SP,{value:"calculator",children:"Calculator"}),i.jsx(sG.SP,{value:"ai-insights",children:"AI Insights"})]}),(0,i.jsxs)(sG.nU,{value:"scenarios",className:"space-y-4",children:[(0,i.jsxs)(d.Zb,{children:[i.jsx(d.Ol,{className:"pb-3",children:(0,i.jsxs)(d.ll,{className:"text-lg flex items-center space-x-2",children:[i.jsx(sX,{className:"h-4 w-4"}),i.jsx("span",{children:"Quick Impact Test"})]})}),i.jsx(d.aY,{children:(0,i.jsxs)("div",{className:"flex space-x-2",children:[i.jsx(S.I,{type:"number",placeholder:"Amount ($)",value:b,onChange:e=>N(e.target.value),className:"flex-1"}),(0,i.jsxs)(c.z,{onClick:()=>{if(!b)return;let e=parseFloat(b);o([...r,{id:`quick-${Date.now()}`,name:`Quick Test: $${e.toLocaleString()}`,additionalAmount:e,deductionType:"OTHER_DEDUCTIONS"}]),N("")},disabled:!b,children:[i.jsx(sv.Z,{className:"h-4 w-4 mr-1"}),"Test Impact"]})]})})]}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"font-medium",children:"Tax Impact Scenarios"}),(0,i.jsxs)(m.C,{variant:"outline",className:"bg-white",children:["Base Tax: $",P.toLocaleString()]})]}),x.map((e,t)=>(0,i.jsxs)("div",{className:`flex items-center justify-between p-4 rounded-lg border ${0===t?"bg-gray-100 border-gray-300":"bg-white border-gray-200"}`,children:[(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx("p",{className:"font-medium",children:e.scenario}),e.custom&&i.jsx(c.z,{variant:"ghost",size:"sm",onClick:()=>M(e.id),children:i.jsx(sK,{className:"h-3 w-3"})})]}),i.jsx("p",{className:"text-sm text-gray-600",children:e.description})]}),(0,i.jsxs)("div",{className:"text-right",children:[(0,i.jsxs)("p",{className:"font-medium",children:["Tax: $",e.taxLiability.toLocaleString()]}),e.savings>0?(0,i.jsxs)("div",{className:"flex items-center text-green-600",children:[i.jsx(sJ,{className:"h-3 w-3 mr-1"}),(0,i.jsxs)("span",{className:"text-sm font-medium",children:["Saves: $",e.savings.toLocaleString()]})]}):e.savings<0?(0,i.jsxs)("div",{className:"flex items-center text-red-600",children:[i.jsx(sq,{className:"h-3 w-3 mr-1"}),(0,i.jsxs)("span",{className:"text-sm font-medium",children:["Costs: $",Math.abs(e.savings).toLocaleString()]})]}):i.jsx("span",{className:"text-sm text-gray-500",children:"No change"})]})]},e.custom?e.id:t))]})]}),(0,i.jsxs)(sG.nU,{value:"calculator",className:"space-y-4",children:[(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{children:[i.jsx(d.ll,{className:"text-lg",children:"Create Custom Scenario"}),i.jsx(d.SZ,{children:"Build your own what-if scenario with specific deduction types and amounts"})]}),(0,i.jsxs)(d.aY,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[i.jsx(C._,{htmlFor:"scenarioName",children:"Scenario Name"}),i.jsx(S.I,{id:"scenarioName",placeholder:"e.g., Increase charitable giving",value:u.name,onChange:e=>p({...u,name:e.target.value})})]}),(0,i.jsxs)("div",{children:[i.jsx(C._,{htmlFor:"scenarioAmount",children:"Additional Amount"}),i.jsx(S.I,{id:"scenarioAmount",type:"number",placeholder:"0.00",value:u.additionalAmount,onChange:e=>p({...u,additionalAmount:e.target.value})})]})]}),(0,i.jsxs)("div",{children:[i.jsx(C._,{htmlFor:"deductionType",children:"Deduction Type"}),(0,i.jsxs)(nH,{value:u.deductionType,onValueChange:e=>p({...u,deductionType:e}),children:[i.jsx(aE,{children:i.jsx(nG,{})}),i.jsx(ak,{children:L.map(e=>i.jsx(aR,{value:e.value,children:e.label},e.value))})]})]}),(0,i.jsxs)(c.z,{onClick:()=>{u.name&&u.additionalAmount&&(o([...r,{id:Date.now().toString(),name:u.name,additionalAmount:parseFloat(u.additionalAmount),deductionType:u.deductionType}]),p({name:"",additionalAmount:"",deductionType:"CHARITABLE_CONTRIBUTIONS"}))},disabled:!u.name||!u.additionalAmount,className:"w-full",children:[i.jsx(sv.Z,{className:"h-4 w-4 mr-2"}),"Add Scenario"]})]})]}),r.length>0&&(0,i.jsxs)(d.Zb,{children:[i.jsx(d.Ol,{children:i.jsx(d.ll,{className:"text-lg",children:"Your Custom Scenarios"})}),i.jsx(d.aY,{children:i.jsx("div",{className:"space-y-2",children:r.map(e=>(0,i.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,i.jsxs)("div",{children:[i.jsx("p",{className:"font-medium",children:e.name}),(0,i.jsxs)("p",{className:"text-sm text-gray-600",children:[L.find(t=>t.value===e.deductionType)?.label,": +$",e.additionalAmount.toLocaleString()]})]}),i.jsx(c.z,{variant:"outline",size:"sm",onClick:()=>M(e.id),children:i.jsx(sK,{className:"h-4 w-4"})})]},e.id))})})]})]}),(0,i.jsxs)(sG.nU,{value:"ai-insights",className:"space-y-4",children:[(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsxs)(c.z,{onClick:O,disabled:v,size:"lg",className:"mb-4",children:[i.jsx(sQ,{className:"h-4 w-4 mr-2"}),v?"Analyzing...":"Get AI Tax Strategies"]}),i.jsx("p",{className:"text-sm text-gray-600",children:"Get personalized tax optimization strategies based on your financial situation"})]}),f.length>0&&(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("h4",{className:"font-medium flex items-center space-x-2",children:[i.jsx(s0,{className:"h-4 w-4 text-yellow-500"}),i.jsx("span",{children:"AI-Powered Tax Strategies"})]}),f.map((e,t)=>i.jsx(d.Zb,{className:"border-l-4 border-l-blue-500",children:(0,i.jsxs)(d.aY,{className:"pt-4",children:[(0,i.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[i.jsx("h5",{className:"font-medium text-blue-900",children:e.strategy}),(0,i.jsxs)("div",{className:"flex space-x-2",children:[i.jsx(m.C,{variant:"outline",className:"Easy"===e.difficulty?"bg-green-100 text-green-800":"Medium"===e.difficulty?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",children:e.difficulty}),(0,i.jsxs)(m.C,{variant:"secondary",children:[i.jsx(s1,{className:"h-3 w-3 mr-1"}),"$",e.potentialSavings.toLocaleString()]})]})]}),i.jsx("p",{className:"text-gray-700 mb-2",children:e.description}),(0,i.jsxs)("p",{className:"text-sm text-gray-600",children:[i.jsx("strong",{children:"Timeline:"})," ",e.timeline]})]})},t))]}),!v&&0===f.length&&(0,i.jsxs)(aO.bZ,{children:[i.jsx(s0,{className:"h-4 w-4"}),i.jsx(aO.X,{children:'Click "Get AI Tax Strategies" to receive personalized recommendations based on your tax situation.'})]})]})]})})]})}let s4=[{value:"MORTGAGE_INTEREST",label:"Mortgage Interest"},{value:"STATE_LOCAL_TAXES",label:"State & Local Taxes"},{value:"CHARITABLE_CONTRIBUTIONS",label:"Charitable Contributions"},{value:"MEDICAL_EXPENSES",label:"Medical & Dental Expenses"},{value:"BUSINESS_EXPENSES",label:"Business Expenses"},{value:"STUDENT_LOAN_INTEREST",label:"Student Loan Interest"},{value:"IRA_CONTRIBUTIONS",label:"IRA Contributions"},{value:"OTHER_DEDUCTIONS",label:"Other Deductions"}];var s5="horizontal",s6=["horizontal","vertical"],s3=l.forwardRef((e,t)=>{let{decorative:n,orientation:a=s5,...s}=e,r=s6.includes(a)?a:s5;return(0,i.jsx)(L.WV.div,{"data-orientation":r,...n?{role:"none"}:{"aria-orientation":"vertical"===r?r:void 0,role:"separator"},...s,ref:t})});s3.displayName="Separator";let s8=l.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...a},s)=>i.jsx(s3,{ref:s,decorative:n,orientation:t,className:(0,aC.cn)("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",e),...a}));s8.displayName=s3.displayName;let s7=(0,h.Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var s9="Checkbox",[re,rt]=(0,A.b)(s9),[rn,ra]=re(s9),rs=l.forwardRef((e,t)=>{let{__scopeCheckbox:n,name:a,checked:s,defaultChecked:r,required:o,disabled:c,value:d="on",onCheckedChange:u,...m}=e,[p,x]=l.useState(null),h=(0,R.e)(t,e=>x(e)),f=l.useRef(!1),y=!p||!!p.closest("form"),[g=!1,v]=(0,tB.T)({prop:s,defaultProp:r,onChange:u}),j=l.useRef(g);return l.useEffect(()=>{let e=p?.form;if(e){let t=()=>v(j.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[p,v]),(0,i.jsxs)(rn,{scope:n,state:g,disabled:c,children:[(0,i.jsx)(L.WV.button,{type:"button",role:"checkbox","aria-checked":ro(g)?"mixed":g,"aria-required":o,"data-state":rc(g),"data-disabled":c?"":void 0,disabled:c,value:d,...m,ref:h,onKeyDown:(0,I.M)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,I.M)(e.onClick,e=>{v(e=>!!ro(e)||!e),y&&(f.current=e.isPropagationStopped(),f.current||e.stopPropagation())})}),y&&(0,i.jsx)(rl,{control:p,bubbles:!f.current,name:a,value:d,checked:g,required:o,disabled:c,style:{transform:"translateX(-100%)"}})]})});rs.displayName=s9;var rr="CheckboxIndicator",ri=l.forwardRef((e,t)=>{let{__scopeCheckbox:n,forceMount:a,...s}=e,r=ra(rr,n);return(0,i.jsx)(aF.z,{present:a||ro(r.state)||!0===r.state,children:(0,i.jsx)(L.WV.span,{"data-state":rc(r.state),"data-disabled":r.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});ri.displayName=rr;var rl=e=>{let{control:t,checked:n,bubbles:a=!0,...s}=e,r=l.useRef(null),o=tq(n),c=tC(t);return l.useEffect(()=>{let e=r.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==n&&t){let s=new Event("click",{bubbles:a});e.indeterminate=ro(n),t.call(e,!ro(n)&&n),e.dispatchEvent(s)}},[o,n,a]),(0,i.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:!ro(n)&&n,...s,tabIndex:-1,ref:r,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ro(e){return"indeterminate"===e}function rc(e){return ro(e)?"indeterminate":e?"checked":"unchecked"}let rd=l.forwardRef(({className:e,...t},n)=>i.jsx(rs,{ref:n,className:(0,aC.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:i.jsx(ri,{className:(0,aC.cn)("flex items-center justify-center text-current"),children:i.jsx(N,{className:"h-4 w-4"})})}));rd.displayName=rs.displayName;var ru=n(48998);let rm=(0,h.Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),rp=[{id:1,title:"Getting Started",description:"Basic information and filing status",icon:p.Z,component:aM},{id:2,title:"Personal Information",description:"Your details and contact information",icon:p.Z,component:aM},{id:3,title:"Income",description:"W-2s, 1099s, and other income sources",icon:x.Z,component:function({taxReturn:e,onUpdate:t,onAutoSave:n,onCompleteStep:a,onNext:s,onPrev:r,onMarkUnsaved:o,loading:u,saving:p,autoSaving:h,hasUnsavedChanges:f,lastSaved:y}){let[g,v]=(0,l.useState)(e.incomeEntries||[]),[b,N]=(0,l.useState)([]),[w,E]=(0,l.useState)({incomeType:"",amount:"",description:"",employerName:"",employerEIN:"",payerName:"",payerTIN:""}),[T,I]=(0,l.useState)({isOpen:!1,validationResult:null,documentType:"",extractedData:null}),k=g.reduce((e,t)=>e+parseFloat(t.amount||0),0),R=async t=>{console.log("Document processing completed:",t);let n=function(e){let t={};return e?.employeeName&&(t.employeeName=e.employeeName),e?.recipientName&&(t.recipientName=e.recipientName),e?.spouseName&&(t.spouseName=e.spouseName),t}(t?.extractedData||t);I({isOpen:!0,validationResult:function(e,t){let n=[],a=[],s=e=>e?.toLowerCase().replace(/[^a-z\s]/g,"").trim()||"",r=e=>{let t=e.trim().split(/\s+/);return 1===t.length?{first:t[0],last:""}:{first:t[0],last:t.slice(-1)[0]}},i=(e,t)=>{if(!e||!t)return 0;let n=s(e),a=s(t);if(n===a)return 1;for(let[e,t]of Object.entries({robert:["bob","rob","bobby"],william:["bill","will","billy"],richard:["rick","dick","rich"],michael:["mike","mick"],elizabeth:["liz","beth","betty"],katherine:["kate","kathy","katie"],jennifer:["jen","jenny"],christopher:["chris"],matthew:["matt"],benjamin:["ben"],joseph:["joe","joey"],daniel:["dan","danny"],anthony:["tony"],patricia:["pat","patty"],susan:["sue","susie"],margaret:["maggie","meg","peggy"]}))if(n===e&&t.includes(a)||a===e&&t.includes(n)||t.includes(n)&&t.includes(a))return .9;let r=[];for(let e=0;e<=a.length;e++)r[e]=[e];for(let e=0;e<=n.length;e++)r[0][e]=e;for(let e=1;e<=a.length;e++)for(let t=1;t<=n.length;t++)a.charAt(e-1)===n.charAt(t-1)?r[e][t]=r[e-1][t-1]:r[e][t]=Math.min(r[e-1][t-1]+1,r[e][t-1]+1,r[e-1][t]+1);let i=Math.max(n.length,a.length);return i>0?1-r[a.length][n.length]/i:0};if(t.employeeName||t.recipientName){let l=t.employeeName||t.recipientName||"",{first:o,last:c}=r(l),d=`${e.firstName} ${e.lastName}`.trim(),u=s(e.firstName),m=s(e.lastName),p=i(u,o),x=i(m,c);i(d,l),p<.8&&(n.push({field:"firstName",profileName:e.firstName,documentName:o,severity:p<.5?"high":p<.7?"medium":"low"}),p>.5&&a.push(`Did you mean "${o}" instead of "${e.firstName}"?`)),x<.8&&(n.push({field:"lastName",profileName:e.lastName,documentName:c,severity:x<.5?"high":x<.7?"medium":"low"}),x>.5&&a.push(`Did you mean "${c}" instead of "${e.lastName}"?`))}if((e.spouseFirstName||e.spouseLastName)&&t.spouseName){let{first:a,last:s}=r(t.spouseName),l=i(e.spouseFirstName||"",a),o=i(e.spouseLastName||"",s);l<.8&&n.push({field:"spouseFirstName",profileName:e.spouseFirstName||"",documentName:a,severity:l<.5?"high":l<.7?"medium":"low"}),o<.8&&n.push({field:"spouseLastName",profileName:e.spouseLastName||"",documentName:s,severity:o<.5?"high":o<.7?"medium":"low"})}let l=n.filter(e=>"high"===e.severity).length,o=n.filter(e=>"medium"===e.severity).length,c=1;return l>0?c=Math.max(.1,1-.4*l-.2*o):o>0?c=Math.max(.6,1-.2*o):n.length>0&&(c=Math.max(.8,1-.1*n.length)),{isValid:0===n.length||n.every(e=>"low"===e.severity),confidence:c,mismatches:n,suggestions:a}}({firstName:e.firstName||"",lastName:e.lastName||"",spouseFirstName:e.spouseFirstName,spouseLastName:e.spouseLastName},n),documentType:t?.documentType||"tax document",extractedData:t})},A=async e=>{let{extractedData:t}=T;if(!e&&!T.validationResult?.isValid){I(e=>({...e,isOpen:!1}));return}N(D(t)),I(e=>({...e,isOpen:!1}))},D=e=>{let t=[],n=e?.extractedData||e;if((e?.documentType==="W2"||n?.wages)&&t.push({incomeType:"W2_WAGES",amount:L(n.wages||"0"),description:`W-2 Wages from ${n.employerName||"Employer"}`,employerName:n.employerName||"",employerEIN:n.employerEIN||"",payerName:"",payerTIN:"",isAutoPopulated:!0,documentType:"W2",confidence:e?.confidence||.85}),(e?.documentType==="FORM_1099_INT"||n?.interestIncome)&&t.push({incomeType:"INTEREST",amount:L(n.interestIncome||"0"),description:`Interest Income from ${n.payerName||"Financial Institution"}`,employerName:"",employerEIN:"",payerName:n.payerName||"",payerTIN:n.payerTIN||"",isAutoPopulated:!0,documentType:"FORM_1099_INT",confidence:e?.confidence||.85}),(e?.documentType==="FORM_1099_DIV"||n?.ordinaryDividends)&&t.push({incomeType:"DIVIDENDS",amount:L(n.ordinaryDividends||"0"),description:`Dividend Income from ${n.payerName||"Investment Account"}`,employerName:"",employerEIN:"",payerName:n.payerName||"",payerTIN:n.payerTIN||"",isAutoPopulated:!0,documentType:"FORM_1099_DIV",confidence:e?.confidence||.85}),e?.documentType==="FORM_1099_MISC"){let a=n.nonemployeeCompensation||n.otherIncome||n.rents||"0";parseFloat(L(a))>0&&t.push({incomeType:"OTHER_INCOME",amount:L(a),description:`1099-MISC Income from ${n.payerName||"Payer"}`,employerName:"",employerEIN:"",payerName:n.payerName||"",payerTIN:n.payerTIN||"",isAutoPopulated:!0,documentType:"FORM_1099_MISC",confidence:e?.confidence||.85})}return(e?.documentType==="FORM_1099_NEC"||n?.nonemployeeCompensation)&&t.push({incomeType:"OTHER_INCOME",amount:L(n.nonemployeeCompensation||"0"),description:`1099-NEC Nonemployee Compensation from ${n.payerName||"Payer"}`,employerName:"",employerEIN:"",payerName:n.payerName||"",payerTIN:n.payerTIN||"",isAutoPopulated:!0,documentType:"FORM_1099_NEC",confidence:e?.confidence||.85}),t.filter(e=>parseFloat(e.amount)>0)},L=e=>e&&e.toString().replace(/[$,\s]/g,"").replace(/[^\d.-]/g,"")||"0",M=async(t,n)=>{try{let a={incomeType:t.incomeType,amount:parseFloat(t.amount),description:t.description,employerName:t.employerName,employerEIN:t.employerEIN,payerName:t.payerName,payerTIN:t.payerTIN},s=await fetch(`/api/tax-returns/${e.id}/income`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(s.ok){let e=await s.json();e.isAutoPopulated=!0,e.confidence=t.confidence,v(t=>[...t,e]),N(e=>e.filter((e,t)=>t!==n))}}catch(e){console.error("Error adding auto-populated income entry:",e)}},O=e=>{N(t=>t.filter((t,n)=>n!==e))},P=async()=>{for(let e=0;e<b.length;e++)await M(b[e],0)},F=async()=>{if(!w.incomeType||!w.amount)return;let t={incomeType:w.incomeType,amount:parseFloat(w.amount),description:w.description,employerName:w.employerName,employerEIN:w.employerEIN,payerName:w.payerName,payerTIN:w.payerTIN};try{let n=await fetch(`/api/tax-returns/${e.id}/income`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(n.ok){let e=await n.json();v([...g,e]),o(),E({incomeType:"",amount:"",description:"",employerName:"",employerEIN:"",payerName:"",payerTIN:""})}}catch(e){console.error("Error adding income entry:",e)}},z=async t=>{try{(await fetch(`/api/tax-returns/${e.id}/income/${t}`,{method:"DELETE"})).ok&&(v(g.filter(e=>e.id!==t)),o())}catch(e){console.error("Error deleting income entry:",e)}},_=async e=>{e.preventDefault(),await t({totalIncome:k,adjustedGrossIncome:k}),s()},Z=async e=>{e.preventDefault(),await a({totalIncome:k,adjustedGrossIncome:k}),s()},W=async()=>{await n({totalIncome:k,adjustedGrossIncome:k})};return(0,i.jsxs)("form",{onSubmit:_,className:"space-y-6",children:[(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)(aO.bZ,{children:[i.jsx(sp.Z,{className:"h-4 w-4"}),i.jsx(aO.X,{children:"Upload your tax documents to automatically extract income information, or add income sources manually. Documents are validated for accuracy and name matching."})]}),(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{children:[(0,i.jsxs)(d.ll,{className:"flex items-center space-x-2",children:[i.jsx(sf.Z,{className:"h-5 w-5"}),i.jsx("span",{children:"Upload Tax Documents"})]}),i.jsx(d.SZ,{children:"Upload W-2s, 1099s, and other tax documents to automatically populate your income information"})]}),i.jsx(d.aY,{children:i.jsx(aP.p,{taxReturnId:e.id,onDocumentProcessed:R})})]}),b.length>0&&(0,i.jsxs)(d.Zb,{className:"border-blue-200 bg-blue-50/50",children:[(0,i.jsxs)(d.Ol,{children:[(0,i.jsxs)(d.ll,{className:"flex items-center space-x-2",children:[i.jsx(sy,{className:"h-5 w-5 text-blue-600"}),i.jsx("span",{children:"Extracted Income Data"})]}),i.jsx(d.SZ,{children:"Review the income information extracted from your documents. Accept individual entries or all at once."})]}),(0,i.jsxs)(d.aY,{className:"space-y-4",children:[i.jsx("div",{className:"flex justify-end mb-4",children:(0,i.jsxs)(c.z,{type:"button",onClick:P,className:"bg-blue-600 hover:bg-blue-700",children:[i.jsx(sx.Z,{className:"mr-2 h-4 w-4"}),"Accept All (",b.length,")"]})}),b.map((e,t)=>i.jsx("div",{className:"bg-white p-4 rounded-lg border border-blue-200",children:(0,i.jsxs)("div",{className:"flex items-start justify-between",children:[(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx(m.C,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:sj.find(t=>t.value===e.incomeType)?.label}),(0,i.jsxs)(m.C,{variant:"outline",className:"text-xs",children:[i.jsx(sy,{className:"mr-1 h-3 w-3"}),"Auto-extracted"]}),e.confidence&&(0,i.jsxs)(m.C,{variant:"outline",className:"text-xs",children:[Math.round(100*e.confidence),"% confidence"]})]}),(0,i.jsxs)("div",{className:"font-medium text-lg mb-1",children:["$",parseFloat(e.amount).toLocaleString()]}),e.description&&i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),(0,i.jsxs)("div",{className:"text-xs text-gray-500 space-y-1",children:[e.employerName&&(0,i.jsxs)("p",{children:["Employer: ",e.employerName]}),e.employerEIN&&(0,i.jsxs)("p",{children:["Employer EIN: ",e.employerEIN]}),e.payerName&&(0,i.jsxs)("p",{children:["Payer: ",e.payerName]}),e.payerTIN&&(0,i.jsxs)("p",{children:["Payer TIN: ",e.payerTIN]})]})]}),(0,i.jsxs)("div",{className:"flex space-x-2 ml-4",children:[i.jsx(c.z,{type:"button",size:"sm",onClick:()=>M(e,t),className:"bg-green-600 hover:bg-green-700",children:i.jsx(sx.Z,{className:"h-4 w-4"})}),i.jsx(c.z,{type:"button",variant:"outline",size:"sm",onClick:()=>O(t),children:i.jsx(sg.Z,{className:"h-4 w-4"})})]})]})},t))]})]}),g.length>0&&(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{children:[i.jsx(d.ll,{children:"Your Income Sources"}),(0,i.jsxs)(d.SZ,{children:["Current total: $",k.toLocaleString()]})]}),i.jsx(d.aY,{className:"space-y-4",children:g.map(e=>(0,i.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(m.C,{variant:"secondary",children:sj.find(t=>t.value===e.incomeType)?.label}),e.isAutoPopulated&&(0,i.jsxs)(m.C,{variant:"outline",className:"text-xs text-blue-600",children:[i.jsx(sy,{className:"mr-1 h-3 w-3"}),"Auto-populated"]}),(0,i.jsxs)("span",{className:"font-medium",children:["$",parseFloat(e.amount).toLocaleString()]})]}),e.description&&i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.description}),e.employerName&&(0,i.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Employer: ",e.employerName]}),e.payerName&&(0,i.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Payer: ",e.payerName]})]}),i.jsx(c.z,{type:"button",variant:"ghost",size:"sm",onClick:()=>z(e.id),children:i.jsx(sg.Z,{className:"h-4 w-4"})})]},e.id))})]}),(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{children:[(0,i.jsxs)(d.ll,{className:"flex items-center space-x-2",children:[i.jsx(sv.Z,{className:"h-5 w-5"}),i.jsx("span",{children:"Add Income Source Manually"})]}),i.jsx(d.SZ,{children:"Manually add wages, interest, dividends, and other income"})]}),(0,i.jsxs)(d.aY,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[i.jsx(C._,{htmlFor:"incomeType",children:"Income Type *"}),(0,i.jsxs)(nH,{value:w.incomeType,onValueChange:e=>E({...w,incomeType:e}),children:[i.jsx(aE,{children:i.jsx(nG,{placeholder:"Select income type"})}),i.jsx(ak,{children:sj.map(e=>i.jsx(aR,{value:e.value,children:e.label},e.value))})]})]}),(0,i.jsxs)("div",{children:[i.jsx(C._,{htmlFor:"amount",children:"Amount *"}),(0,i.jsxs)("div",{className:"relative",children:[i.jsx(x.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),i.jsx(S.I,{id:"amount",type:"number",step:"0.01",value:w.amount,onChange:e=>E({...w,amount:e.target.value}),className:"pl-10",placeholder:"0.00"})]})]})]}),(0,i.jsxs)("div",{children:[i.jsx(C._,{htmlFor:"description",children:"Description (Optional)"}),i.jsx(S.I,{id:"description",value:w.description,onChange:e=>E({...w,description:e.target.value}),placeholder:"Additional details about this income"})]}),"W2_WAGES"===w.incomeType&&(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[i.jsx(C._,{htmlFor:"employerName",children:"Employer Name"}),i.jsx(S.I,{id:"employerName",value:w.employerName,onChange:e=>E({...w,employerName:e.target.value}),placeholder:"Your employer's name"})]}),(0,i.jsxs)("div",{children:[i.jsx(C._,{htmlFor:"employerEIN",children:"Employer EIN"}),i.jsx(S.I,{id:"employerEIN",value:w.employerEIN,onChange:e=>E({...w,employerEIN:e.target.value}),placeholder:"00-0000000"})]})]}),("INTEREST"===w.incomeType||"DIVIDENDS"===w.incomeType)&&(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[i.jsx(C._,{htmlFor:"payerName",children:"Payer Name"}),i.jsx(S.I,{id:"payerName",value:w.payerName,onChange:e=>E({...w,payerName:e.target.value}),placeholder:"Bank or institution name"})]}),(0,i.jsxs)("div",{children:[i.jsx(C._,{htmlFor:"payerTIN",children:"Payer TIN"}),i.jsx(S.I,{id:"payerTIN",value:w.payerTIN,onChange:e=>E({...w,payerTIN:e.target.value}),placeholder:"00-0000000"})]})]}),(0,i.jsxs)(c.z,{type:"button",onClick:F,disabled:!w.incomeType||!w.amount,className:"w-full",children:[i.jsx(sv.Z,{className:"mr-2 h-4 w-4"}),"Add Income Source"]})]})]}),(0,i.jsxs)(d.Zb,{children:[i.jsx(d.Ol,{children:i.jsx(d.ll,{children:"Income Summary"})}),i.jsx(d.aY,{children:(0,i.jsxs)("div",{className:"text-center py-6",children:[(0,i.jsxs)("div",{className:"text-3xl font-bold text-primary mb-2",children:["$",k.toLocaleString()]}),i.jsx("p",{className:"text-gray-600",children:"Total Income"})]})})]}),(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsxs)(c.z,{type:"button",variant:"outline",onClick:r,children:[i.jsx(j,{className:"mr-2 h-4 w-4"}),"Back"]}),f&&!h&&i.jsx(c.z,{type:"button",variant:"outline",onClick:W,disabled:h,size:"sm",children:h?"Saving...":"Save"}),h&&(0,i.jsxs)("div",{className:"flex items-center space-x-1 text-blue-600 text-sm",children:[i.jsx("div",{className:"animate-spin h-3 w-3 border border-blue-600 border-t-transparent rounded-full"}),i.jsx("span",{children:"Auto-saving..."})]})]}),(0,i.jsxs)("div",{className:"flex space-x-2",children:[(0,i.jsxs)(c.z,{type:"button",variant:"outline",onClick:Z,disabled:p,children:[p?"Saving...":"Save & Continue",i.jsx(aA,{className:"ml-2 h-4 w-4"})]}),(0,i.jsxs)(c.z,{type:"submit",disabled:p,children:[p?"Saving...":"Continue",i.jsx(aA,{className:"ml-2 h-4 w-4"})]})]})]})]}),i.jsx(sh,{isOpen:T.isOpen,onClose:()=>I(e=>({...e,isOpen:!1})),onConfirm:A,validationResult:T.validationResult,documentType:T.documentType})]})}},{id:4,title:"Deductions",description:"Standard or itemized deductions",icon:f,component:function({taxReturn:e,onUpdate:t,onAutoSave:n,onCompleteStep:a,onNext:s,onPrev:r,onMarkUnsaved:o,loading:u,saving:p,autoSaving:x,hasUnsavedChanges:h,lastSaved:f}){let[g,v]=(0,l.useState)(e.deductionEntries||[]),[b,N]=(0,l.useState)("standard"),[w,E]=(0,l.useState)(null),[T,I]=(0,l.useState)([]),[k,R]=(0,l.useState)({deductionType:"",amount:"",description:""}),A=function(e){switch(e.toLowerCase().replace(/_/g,"")){case"single":default:return sU.single;case"marriedfilingjointly":return sU.marriedFilingJointly;case"marriedfilingseparately":return sU.marriedFilingSeparately;case"headofhousehold":return sU.headOfHousehold;case"qualifyingsurvivingspouse":return sU.qualifyingSurvivingSpouse}}(e.filingStatus),D=g.reduce((e,t)=>e+parseFloat(t.amount||0),0),L=async()=>{if(!k.deductionType||!k.amount)return;let t={deductionType:k.deductionType,amount:parseFloat(k.amount),description:k.description};try{let n=await fetch(`/api/tax-returns/${e.id}/deductions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(n.ok){let e=await n.json();v([...g,e]),o(),R({deductionType:"",amount:"",description:""})}}catch(e){console.error("Error adding deduction entry:",e)}},M=async t=>{try{(await fetch(`/api/tax-returns/${e.id}/deductions/${t}`,{method:"DELETE"})).ok&&(v(g.filter(e=>e.id!==t)),o())}catch(e){console.error("Error deleting deduction entry:",e)}},O=async e=>{e.preventDefault(),await t({standardDeduction:"standard"===b?A:0,itemizedDeduction:"itemized"===b?D:0}),s()},P=async e=>{e.preventDefault(),await a({standardDeduction:"standard"===b?A:0,itemizedDeduction:"itemized"===b?D:0}),s()},F=async()=>{await n({standardDeduction:"standard"===b?A:0,itemizedDeduction:"itemized"===b?D:0})},z="standard"===b?A:D;return i.jsx("form",{onSubmit:O,className:"space-y-6",children:(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)(aO.bZ,{children:[i.jsx(sp.Z,{className:"h-4 w-4"}),i.jsx(aO.X,{children:"You can choose between the standard deduction (a fixed amount) or itemize your deductions (if they exceed the standard amount)."})]}),w&&(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{children:[(0,i.jsxs)(d.ll,{className:"flex items-center space-x-2",children:[i.jsx(y,{className:"h-5 w-5"}),i.jsx("span",{children:"Smart Deduction Analysis"})]}),i.jsx(d.SZ,{children:"Detailed comparison showing actual tax savings"})]}),(0,i.jsxs)(d.aY,{children:[(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,i.jsxs)("div",{className:`text-center p-4 rounded-lg border-2 ${"standard"===w.recommendedMethod?"bg-green-50 border-green-200":"bg-blue-50 border-blue-200"}`,children:[(0,i.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:["$",w.standardDeduction.toLocaleString()]}),i.jsx("p",{className:"text-sm text-blue-800",children:"Standard Deduction"}),(0,i.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:["Tax: $",w.standardTaxLiability.toLocaleString()]}),(0,i.jsxs)("p",{className:"text-xs text-gray-600",children:["Effective Rate: ",w.effectiveStandardRate.toFixed(2),"%"]}),"standard"===w.recommendedMethod&&i.jsx(m.C,{variant:"default",className:"mt-2 bg-green-100 text-green-800",children:"✓ Recommended"})]}),(0,i.jsxs)("div",{className:`text-center p-4 rounded-lg border-2 ${"itemized"===w.recommendedMethod?"bg-green-50 border-green-200":"bg-blue-50 border-blue-200"}`,children:[(0,i.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:["$",w.itemizedDeduction.toLocaleString()]}),i.jsx("p",{className:"text-sm text-green-800",children:"Itemized Deductions"}),(0,i.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:["Tax: $",w.itemizedTaxLiability.toLocaleString()]}),(0,i.jsxs)("p",{className:"text-xs text-gray-600",children:["Effective Rate: ",w.effectiveItemizedRate.toFixed(2),"%"]}),"itemized"===w.recommendedMethod&&i.jsx(m.C,{variant:"default",className:"mt-2 bg-green-100 text-green-800",children:"✓ Recommended"})]})]}),w.taxSavings>0&&(0,i.jsxs)("div",{className:"p-4 bg-green-100 rounded-lg",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(sq,{className:"h-5 w-5 text-green-600"}),(0,i.jsxs)("p",{className:"text-sm text-green-800 font-medium",children:["\uD83D\uDCB0 Tax Savings: $",w.taxSavings.toLocaleString()]})]}),i.jsx("p",{className:"text-xs text-green-700 mt-1",children:"itemized"===w.recommendedMethod?`Itemizing saves you $${w.taxSavings.toLocaleString()} compared to standard deduction`:`Standard deduction saves you $${w.taxSavings.toLocaleString()} compared to itemizing`})]})]})]}),T.length>0&&(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{children:[(0,i.jsxs)(d.ll,{className:"flex items-center space-x-2",children:[i.jsx(sq,{className:"h-5 w-5"}),i.jsx("span",{children:"Tax Optimization Tips"})]}),i.jsx(d.SZ,{children:"Personalized suggestions to maximize your tax savings"})]}),i.jsx(d.aY,{children:i.jsx("div",{className:"space-y-3",children:T.map((e,t)=>i.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:i.jsx("p",{className:"text-sm text-blue-800",children:e})},t))})})]}),i.jsx(s2,{taxReturn:e,adjustedGrossIncome:parseFloat(e.adjustedGrossIncome||e.totalIncome||0),currentItemizedDeductions:D,filingStatus:e.filingStatus,dependents:e.dependents||[]}),(0,i.jsxs)(d.Zb,{children:[i.jsx(d.Ol,{children:i.jsx(d.ll,{children:"Choose Your Deduction Method"})}),i.jsx(d.aY,{children:(0,i.jsxs)(sH,{value:b,onValueChange:e=>{N(e),o()},children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(sB,{value:"standard",id:"standard"}),(0,i.jsxs)(C._,{htmlFor:"standard",children:["Use Standard Deduction ($",A.toLocaleString(),")"]})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(sB,{value:"itemized",id:"itemized"}),(0,i.jsxs)(C._,{htmlFor:"itemized",children:["Itemize My Deductions ($",D.toLocaleString(),")"]})]})]})})]}),(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{children:[i.jsx(d.ll,{children:"Itemized Deductions"}),i.jsx(d.SZ,{children:"Add your deductible expenses to see if itemizing is beneficial"})]}),(0,i.jsxs)(d.aY,{className:"space-y-4",children:[g.length>0&&(0,i.jsxs)("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-medium",children:"Your Deductions"}),g.map(e=>(0,i.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(m.C,{variant:"secondary",children:s4.find(t=>t.value===e.deductionType)?.label}),(0,i.jsxs)("span",{className:"font-medium",children:["$",parseFloat(e.amount).toLocaleString()]})]}),e.description&&i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.description})]}),i.jsx(c.z,{type:"button",variant:"ghost",size:"sm",onClick:()=>M(e.id),children:i.jsx(sg.Z,{className:"h-4 w-4"})})]},e.id))]}),(0,i.jsxs)("div",{className:"border-t pt-4",children:[i.jsx("h4",{className:"font-medium mb-3",children:"Add Deduction"}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[i.jsx(C._,{htmlFor:"deductionType",children:"Deduction Type"}),(0,i.jsxs)(nH,{value:k.deductionType,onValueChange:e=>R({...k,deductionType:e}),children:[i.jsx(aE,{children:i.jsx(nG,{placeholder:"Select deduction type"})}),i.jsx(ak,{children:s4.map(e=>i.jsx(aR,{value:e.value,children:e.label},e.value))})]})]}),(0,i.jsxs)("div",{children:[i.jsx(C._,{htmlFor:"deductionAmount",children:"Amount"}),i.jsx(S.I,{id:"deductionAmount",type:"number",step:"0.01",value:k.amount,onChange:e=>R({...k,amount:e.target.value}),placeholder:"0.00"})]})]}),(0,i.jsxs)("div",{className:"mt-3",children:[i.jsx(C._,{htmlFor:"deductionDescription",children:"Description (Optional)"}),i.jsx(S.I,{id:"deductionDescription",value:k.description,onChange:e=>R({...k,description:e.target.value}),placeholder:"Additional details"})]}),(0,i.jsxs)(c.z,{type:"button",onClick:L,disabled:!k.deductionType||!k.amount,className:"w-full mt-3",children:[i.jsx(sv.Z,{className:"mr-2 h-4 w-4"}),"Add Deduction"]})]})]})]}),(0,i.jsxs)(d.Zb,{children:[i.jsx(d.Ol,{children:i.jsx(d.ll,{children:"Deduction Summary"})}),i.jsx(d.aY,{children:(0,i.jsxs)("div",{className:"text-center py-6",children:[(0,i.jsxs)("div",{className:"text-3xl font-bold text-primary mb-2",children:["$",z.toLocaleString()]}),(0,i.jsxs)("p",{className:"text-gray-600",children:["Your ","standard"===b?"Standard":"Itemized"," Deduction"]}),i.jsx(m.C,{variant:"outline",className:"mt-2",children:"standard"===b?"Standard Deduction":"Itemized Deductions"})]})})]}),(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsxs)(c.z,{type:"button",variant:"outline",onClick:r,children:[i.jsx(j,{className:"mr-2 h-4 w-4"}),"Back"]}),h&&!x&&i.jsx(c.z,{type:"button",variant:"outline",onClick:F,disabled:x,size:"sm",children:x?"Saving...":"Save"}),x&&(0,i.jsxs)("div",{className:"flex items-center space-x-1 text-blue-600 text-sm",children:[i.jsx("div",{className:"animate-spin h-3 w-3 border border-blue-600 border-t-transparent rounded-full"}),i.jsx("span",{children:"Auto-saving..."})]})]}),(0,i.jsxs)("div",{className:"flex space-x-2",children:[(0,i.jsxs)(c.z,{type:"button",variant:"outline",onClick:P,disabled:p,children:[p?"Saving...":"Save & Continue",i.jsx(aA,{className:"ml-2 h-4 w-4"})]}),(0,i.jsxs)(c.z,{type:"submit",disabled:p,children:[p?"Saving...":"Continue",i.jsx(aA,{className:"ml-2 h-4 w-4"})]})]})]})]})})}},{id:5,title:"Tax Calculation",description:"Calculate your tax liability and credits",icon:y,component:function({taxReturn:e,onUpdate:t,onNext:n,onPrev:a,loading:s,saving:r}){let[o,u]=(0,l.useState)(null),p=async e=>{if(e.preventDefault(),!o)return;let a=o.finalTax<0?Math.abs(o.finalTax):0,s=o.finalTax>0?o.finalTax:0;await t({totalIncome:o.grossIncome,adjustedGrossIncome:o.adjustedGrossIncome,standardDeduction:o.standardDeduction,itemizedDeduction:o.itemizedDeduction,taxableIncome:o.taxableIncome,taxLiability:o.taxLiability,totalCredits:o.totalCredits,refundAmount:a,amountOwed:s}),n()};if(!o)return i.jsx("div",{className:"flex items-center justify-center py-8",children:(0,i.jsxs)("div",{className:"text-center",children:[i.jsx(y,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Calculating your taxes..."})]})});let x=o.finalTax<=0,h=Math.abs(o.finalTax);return i.jsx("form",{onSubmit:p,className:"space-y-6",children:(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)(aO.bZ,{children:[i.jsx(y,{className:"h-4 w-4"}),i.jsx(aO.X,{children:"Based on your income, deductions, and credits, here's your calculated tax liability."})]}),(0,i.jsxs)(d.Zb,{children:[i.jsx(d.Ol,{children:i.jsx(d.ll,{className:"text-center",children:"Your Tax Calculation"})}),i.jsx(d.aY,{children:(0,i.jsxs)("div",{className:"text-center py-8",children:[i.jsx("div",{className:`text-4xl font-bold mb-4 ${x?"text-green-600":"text-red-600"}`,children:x?(0,i.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[i.jsx(sq,{className:"h-8 w-8"}),(0,i.jsxs)("span",{children:["$",h.toLocaleString()]})]}):h>0?(0,i.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[i.jsx(sJ,{className:"h-8 w-8"}),(0,i.jsxs)("span",{children:["$",h.toLocaleString()]})]}):(0,i.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[i.jsx(sK,{className:"h-8 w-8"}),i.jsx("span",{children:"$0"})]})}),i.jsx(m.C,{variant:x?"default":"destructive",className:"text-lg px-4 py-2",children:x?"Expected Refund":h>0?"Amount Owed":"No Tax Due"}),i.jsx("p",{className:"text-gray-600 mt-4",children:x?"You've overpaid your taxes and should receive a refund":h>0?"You owe additional taxes":"Your tax liability is exactly covered by withholdings"})]})})]}),(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{children:[i.jsx(d.ll,{children:"Tax Calculation Breakdown"}),i.jsx(d.SZ,{children:"Here's how we calculated your tax liability"})]}),i.jsx(d.aY,{children:(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center py-2 border-b",children:[i.jsx("span",{className:"text-gray-600",children:"Gross Income"}),(0,i.jsxs)("span",{className:"font-medium",children:["$",o.grossIncome.toLocaleString()]})]}),(0,i.jsxs)("div",{className:"flex justify-between items-center py-2 border-b",children:[i.jsx("span",{className:"text-gray-600",children:"Adjusted Gross Income"}),(0,i.jsxs)("span",{className:"font-medium",children:["$",o.adjustedGrossIncome.toLocaleString()]})]}),(0,i.jsxs)("div",{className:"flex justify-between items-center py-2 border-b",children:[(0,i.jsxs)("span",{className:"text-gray-600",children:[o.itemizedDeduction>0?"Itemized":"Standard"," Deduction"]}),(0,i.jsxs)("span",{className:"font-medium",children:["-$",Math.max(o.standardDeduction,o.itemizedDeduction).toLocaleString()]})]}),(0,i.jsxs)("div",{className:"flex justify-between items-center py-2 border-b font-medium",children:[i.jsx("span",{children:"Taxable Income"}),(0,i.jsxs)("span",{children:["$",o.taxableIncome.toLocaleString()]})]}),(0,i.jsxs)("div",{className:"flex justify-between items-center py-2 border-b",children:[i.jsx("span",{className:"text-gray-600",children:"Tax Liability"}),(0,i.jsxs)("span",{className:"font-medium",children:["$",o.taxLiability.toLocaleString()]})]}),o.childTaxCredit>0&&(0,i.jsxs)("div",{className:"flex justify-between items-center py-2 border-b",children:[i.jsx("span",{className:"text-gray-600",children:"Child Tax Credit"}),(0,i.jsxs)("span",{className:"font-medium text-green-600",children:["-$",o.childTaxCredit.toLocaleString()]})]}),o.earnedIncomeCredit>0&&(0,i.jsxs)("div",{className:"flex justify-between items-center py-2 border-b",children:[i.jsx("span",{className:"text-gray-600",children:"Earned Income Credit"}),(0,i.jsxs)("span",{className:"font-medium text-green-600",children:["-$",o.earnedIncomeCredit.toLocaleString()]})]}),(0,i.jsxs)("div",{className:"flex justify-between items-center py-2 border-b font-medium",children:[i.jsx("span",{children:"Total Credits"}),(0,i.jsxs)("span",{className:"text-green-600",children:["-$",o.totalCredits.toLocaleString()]})]}),(0,i.jsxs)("div",{className:"flex justify-between items-center py-3 bg-gray-50 rounded-lg px-4 font-bold text-lg",children:[i.jsx("span",{children:"Final Tax"}),(0,i.jsxs)("span",{className:x?"text-green-600":"text-red-600",children:[x?"-":"","$",h.toLocaleString()]})]})]})})]}),(0,i.jsxs)(d.Zb,{children:[i.jsx(d.Ol,{children:i.jsx(d.ll,{children:"Tax Rate Information"})}),i.jsx(d.aY,{children:(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,i.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:[o.effectiveRate.toFixed(2),"%"]}),i.jsx("p",{className:"text-sm text-blue-800",children:"Effective Tax Rate"}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Actual percentage of income paid in taxes"})]}),(0,i.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[(0,i.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[o.marginalRate.toFixed(0),"%"]}),i.jsx("p",{className:"text-sm text-purple-800",children:"Marginal Tax Rate"}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Tax rate on your last dollar of income"})]})]})})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsxs)(c.z,{type:"button",variant:"outline",onClick:a,children:[i.jsx(j,{className:"mr-2 h-4 w-4"}),"Back"]}),(0,i.jsxs)(c.z,{type:"submit",disabled:r,children:[r?"Saving...":"Continue",i.jsx(aA,{className:"ml-2 h-4 w-4"})]})]})]})})}},{id:6,title:"Review",description:"Review your complete tax return",icon:g.Z,component:function({taxReturn:e,onUpdate:t,onNext:n,onPrev:a,loading:s,saving:r}){let[o,u]=(0,l.useState)(!1),h=async e=>{e.preventDefault(),u(!0),await t({isCompleted:!0,currentStep:7}),u(!1),n()},v=Number(e.refundAmount)>0,N=v?Number(e.refundAmount):Number(e.amountOwed);return i.jsx("form",{onSubmit:h,className:"space-y-6",children:(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)(aO.bZ,{children:[i.jsx(g.Z,{className:"h-4 w-4"}),i.jsx(aO.X,{children:"Please review your tax return carefully before proceeding to filing. You can go back to make changes if needed."})]}),(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{children:[(0,i.jsxs)(d.ll,{className:"flex items-center space-x-2",children:[i.jsx(b.Z,{className:"h-5 w-5"}),i.jsx("span",{children:"Tax Return Summary"})]}),(0,i.jsxs)(d.SZ,{children:[e.taxYear," Tax Return - ",e.filingStatus.replace(/_/g," ")]})]}),i.jsx(d.aY,{children:(0,i.jsxs)("div",{className:"text-center py-6 bg-gray-50 rounded-lg",children:[(0,i.jsxs)("div",{className:`text-4xl font-bold mb-4 ${v?"text-green-600":"text-red-600"}`,children:["$",N.toLocaleString()]}),i.jsx(m.C,{variant:v?"default":"destructive",className:"text-lg px-4 py-2",children:v?"Expected Refund":"Amount Owed"})]})})]}),(0,i.jsxs)(d.Zb,{children:[i.jsx(d.Ol,{children:(0,i.jsxs)(d.ll,{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(p.Z,{className:"h-5 w-5"}),i.jsx("span",{children:"Personal Information"})]}),i.jsx(c.z,{variant:"ghost",size:"sm",onClick:()=>window.history.back(),children:i.jsx(s7,{className:"h-4 w-4"})})]})}),i.jsx(d.aY,{children:(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Name:"}),(0,i.jsxs)("span",{className:"font-medium",children:[e.firstName," ",e.lastName]})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Filing Status:"}),i.jsx("span",{className:"font-medium",children:e.filingStatus.replace(/_/g," ")})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Address:"}),(0,i.jsxs)("span",{className:"font-medium",children:[e.address,", ",e.city,", ",e.state," ",e.zipCode]})]}),e.spouseFirstName&&(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Spouse:"}),(0,i.jsxs)("span",{className:"font-medium",children:[e.spouseFirstName," ",e.spouseLastName]})]})]})})]}),(0,i.jsxs)(d.Zb,{children:[i.jsx(d.Ol,{children:(0,i.jsxs)(d.ll,{className:"flex items-center space-x-2",children:[i.jsx(x.Z,{className:"h-5 w-5"}),i.jsx("span",{children:"Income Summary"})]})}),i.jsx(d.aY,{children:(0,i.jsxs)("div",{className:"space-y-3",children:[e.incomeEntries?.map(e=>i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:e.incomeType.replace(/_/g," ")}),e.employerName&&i.jsxs("span",{className:"text-gray-600 ml-2",children:["(",e.employerName,")"]})]}),i.jsxs("span",{className:"font-medium",children:["$",Number(e.amount).toLocaleString()]})]},e.id)),i.jsx(s8,{}),(0,i.jsxs)("div",{className:"flex justify-between font-bold",children:[i.jsx("span",{children:"Total Income:"}),(0,i.jsxs)("span",{children:["$",Number(e.totalIncome).toLocaleString()]})]})]})})]}),(0,i.jsxs)(d.Zb,{children:[i.jsx(d.Ol,{children:(0,i.jsxs)(d.ll,{className:"flex items-center space-x-2",children:[i.jsx(f,{className:"h-5 w-5"}),i.jsx("span",{children:"Deductions Summary"})]})}),i.jsx(d.aY,{children:i.jsx("div",{className:"space-y-3",children:Number(e.itemizedDeduction)>0?(0,i.jsxs)(i.Fragment,{children:[i.jsx("div",{className:"space-y-2",children:e.deductionEntries?.map(e=>i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"font-medium",children:e.deductionType.replace(/_/g," ")}),i.jsxs("span",{className:"font-medium",children:["$",Number(e.amount).toLocaleString()]})]},e.id))}),i.jsx(s8,{}),(0,i.jsxs)("div",{className:"flex justify-between font-bold",children:[i.jsx("span",{children:"Itemized Deductions:"}),(0,i.jsxs)("span",{children:["$",Number(e.itemizedDeduction).toLocaleString()]})]})]}):(0,i.jsxs)("div",{className:"flex justify-between font-bold",children:[i.jsx("span",{children:"Standard Deduction:"}),(0,i.jsxs)("span",{children:["$",Number(e.standardDeduction).toLocaleString()]})]})})})]}),(0,i.jsxs)(d.Zb,{children:[i.jsx(d.Ol,{children:(0,i.jsxs)(d.ll,{className:"flex items-center space-x-2",children:[i.jsx(y,{className:"h-5 w-5"}),i.jsx("span",{children:"Tax Calculation"})]})}),i.jsx(d.aY,{children:(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Adjusted Gross Income:"}),(0,i.jsxs)("span",{className:"font-medium",children:["$",Number(e.adjustedGrossIncome).toLocaleString()]})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Deductions:"}),(0,i.jsxs)("span",{className:"font-medium",children:["-$",Math.max(Number(e.standardDeduction),Number(e.itemizedDeduction)).toLocaleString()]})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Taxable Income:"}),(0,i.jsxs)("span",{className:"font-medium",children:["$",Number(e.taxableIncome).toLocaleString()]})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Tax Liability:"}),(0,i.jsxs)("span",{className:"font-medium",children:["$",Number(e.taxLiability).toLocaleString()]})]}),Number(e.totalCredits)>0&&(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Tax Credits:"}),(0,i.jsxs)("span",{className:"font-medium text-green-600",children:["-$",Number(e.totalCredits).toLocaleString()]})]}),i.jsx(s8,{}),(0,i.jsxs)("div",{className:"flex justify-between font-bold text-lg",children:[i.jsx("span",{children:v?"Refund Amount:":"Amount Owed:"}),(0,i.jsxs)("span",{className:v?"text-green-600":"text-red-600",children:["$",N.toLocaleString()]})]})]})})]}),e.dependents&&e.dependents.length>0&&(0,i.jsxs)(d.Zb,{children:[i.jsx(d.Ol,{children:i.jsx(d.ll,{children:"Dependents"})}),i.jsx(d.aY,{children:i.jsx("div",{className:"space-y-3",children:e.dependents.map(e=>(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("span",{className:"font-medium",children:[e.firstName," ",e.lastName]}),(0,i.jsxs)("span",{className:"text-gray-600 ml-2",children:["(",e.relationship,")"]})]}),(0,i.jsxs)("div",{className:"flex space-x-2",children:[e.qualifiesForCTC&&i.jsx(m.C,{variant:"secondary",children:"CTC"}),e.qualifiesForEITC&&i.jsx(m.C,{variant:"secondary",children:"EITC"})]})]},e.id))})})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsxs)(c.z,{type:"button",variant:"outline",onClick:a,children:[i.jsx(j,{className:"mr-2 h-4 w-4"}),"Back"]}),(0,i.jsxs)(c.z,{type:"submit",disabled:o,children:[o?"Preparing...":"Ready to File",i.jsx(aA,{className:"ml-2 h-4 w-4"})]})]})]})})}},{id:7,title:"Filing",description:"Submit your tax return",icon:v,component:function({taxReturn:e,onUpdate:t,onNext:n,onPrev:a,loading:s,saving:r}){let[o,u]=(0,l.useState)(!1),[p,x]=(0,l.useState)(!1),[h,f]=(0,l.useState)(!1),y=async e=>{e.preventDefault(),o&&(x(!0),await new Promise(e=>setTimeout(e,3e3)),await t({isFiled:!0,currentStep:7}),x(!1),f(!0))},g=Number(e.refundAmount)>0,N=g?Number(e.refundAmount):Number(e.amountOwed);return h?i.jsx("div",{className:"space-y-6",children:(0,i.jsxs)("div",{className:"text-center py-8",children:[i.jsx(sx.Z,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Tax Return Filed Successfully!"}),(0,i.jsxs)("p",{className:"text-gray-600 mb-6",children:["Your ",e.taxYear," tax return has been submitted to the IRS."]}),(0,i.jsxs)("div",{className:"bg-green-50 p-6 rounded-lg mb-6",children:[(0,i.jsxs)("div",{className:"text-3xl font-bold text-green-600 mb-2",children:["$",N.toLocaleString()]}),i.jsx(m.C,{variant:"default",className:"text-lg px-4 py-2",children:g?"Expected Refund":"Amount Owed"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,i.jsxs)(d.Zb,{children:[i.jsx(d.Ol,{children:i.jsx(d.ll,{className:"text-lg",children:"What's Next?"})}),i.jsx(d.aY,{children:i.jsx("ul",{className:"text-sm space-y-2 text-left",children:g?(0,i.jsxs)(i.Fragment,{children:[i.jsx("li",{children:"• Your refund will be processed within 21 days"}),i.jsx("li",{children:"• You'll receive an email confirmation"}),i.jsx("li",{children:"• Track your refund status online"})]}):(0,i.jsxs)(i.Fragment,{children:[i.jsx("li",{children:"• Payment is due by April 15, 2025"}),i.jsx("li",{children:"• You can pay online or by mail"}),i.jsx("li",{children:"• Set up a payment plan if needed"})]})})})]}),(0,i.jsxs)(d.Zb,{children:[i.jsx(d.Ol,{children:i.jsx(d.ll,{className:"text-lg",children:"Important Notes"})}),i.jsx(d.aY,{children:(0,i.jsxs)("ul",{className:"text-sm space-y-2 text-left",children:[i.jsx("li",{children:"• Keep a copy of your tax return"}),i.jsx("li",{children:"• Save all supporting documents"}),i.jsx("li",{children:"• Your return is available in your dashboard"})]})})]})]}),i.jsx(c.z,{onClick:()=>window.location.href="/dashboard",size:"lg",children:"Return to Dashboard"})]})}):p?i.jsx("div",{className:"space-y-6",children:(0,i.jsxs)("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary mx-auto mb-4"}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Filing Your Tax Return"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Please wait while we submit your return to the IRS..."}),i.jsx("div",{className:"bg-blue-50 p-6 rounded-lg",children:(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[i.jsx(sx.Z,{className:"h-5 w-5 text-green-500"}),i.jsx("span",{className:"text-sm",children:"Validating return data"})]}),(0,i.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"text-sm",children:"Transmitting to IRS"})]}),(0,i.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[i.jsx(ru.Z,{className:"h-5 w-5 text-gray-400"}),i.jsx("span",{className:"text-sm text-gray-500",children:"Awaiting confirmation"})]})]})})]})}):i.jsx("form",{onSubmit:y,className:"space-y-6",children:(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)(aO.bZ,{children:[i.jsx(v,{className:"h-4 w-4"}),i.jsx(aO.X,{children:"You're ready to file your tax return! Please review the information below and confirm your submission."})]}),(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{children:[(0,i.jsxs)(d.ll,{className:"flex items-center space-x-2",children:[i.jsx(b.Z,{className:"h-5 w-5"}),i.jsx("span",{children:"Filing Summary"})]}),(0,i.jsxs)(d.SZ,{children:[e.taxYear," Tax Return for ",e.firstName," ",e.lastName]})]}),i.jsx(d.aY,{children:(0,i.jsxs)("div",{className:"text-center py-6 bg-gray-50 rounded-lg",children:[(0,i.jsxs)("div",{className:`text-4xl font-bold mb-4 ${g?"text-green-600":"text-red-600"}`,children:["$",N.toLocaleString()]}),i.jsx(m.C,{variant:g?"default":"destructive",className:"text-lg px-4 py-2",children:g?"Expected Refund":"Amount Owed"}),(0,i.jsxs)("p",{className:"text-gray-600 mt-4",children:["Filing Status: ",e.filingStatus.replace(/_/g," ")]})]})})]}),(0,i.jsxs)(d.Zb,{children:[i.jsx(d.Ol,{children:(0,i.jsxs)(d.ll,{className:"flex items-center space-x-2",children:[i.jsx(rm,{className:"h-5 w-5"}),i.jsx("span",{children:"Security & Privacy"})]})}),i.jsx(d.aY,{children:(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(sx.Z,{className:"h-5 w-5 text-green-500"}),i.jsx("span",{className:"text-sm",children:"Your data is encrypted with 256-bit SSL"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(sx.Z,{className:"h-5 w-5 text-green-500"}),i.jsx("span",{className:"text-sm",children:"We use IRS-approved e-filing methods"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(sx.Z,{className:"h-5 w-5 text-green-500"}),i.jsx("span",{className:"text-sm",children:"Your personal information is protected"})]})]})})]}),(0,i.jsxs)(d.Zb,{children:[i.jsx(d.Ol,{children:i.jsx(d.ll,{children:"Important Information"})}),i.jsx(d.aY,{children:(0,i.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,i.jsxs)("p",{children:[i.jsx("strong",{children:"Filing Deadline:"})," Your ",e.taxYear," tax return must be filed by April 15, 2025."]}),g?(0,i.jsxs)("p",{children:[i.jsx("strong",{children:"Refund Processing:"})," If you're owed a refund, it typically takes 21 days to process when filed electronically."]}):(0,i.jsxs)("p",{children:[i.jsx("strong",{children:"Payment Due:"})," If you owe taxes, payment is due by April 15, 2025, even if you file an extension."]}),(0,i.jsxs)("p",{children:[i.jsx("strong",{children:"Record Keeping:"})," Keep a copy of your tax return and all supporting documents for at least 3 years."]})]})})]}),(0,i.jsxs)(d.Zb,{children:[i.jsx(d.Ol,{children:i.jsx(d.ll,{children:"Taxpayer Declaration"})}),i.jsx(d.aY,{children:(0,i.jsxs)("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-sm",children:"Under penalties of perjury, I declare that I have examined this return and accompanying schedules and statements, and to the best of my knowledge and belief, they are true, correct, and complete."}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(rd,{id:"agreement",checked:o,onCheckedChange:e=>u(e)}),i.jsx(C._,{htmlFor:"agreement",className:"text-sm",children:"I agree to the taxpayer declaration and authorize the electronic filing of my tax return."})]})]})})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsxs)(c.z,{type:"button",variant:"outline",onClick:a,children:[i.jsx(j,{className:"mr-2 h-4 w-4"}),"Back"]}),(0,i.jsxs)(c.z,{type:"submit",disabled:!o||p,size:"lg",children:[p?"Filing...":"File Tax Return",i.jsx(v,{className:"ml-2 h-4 w-4"})]})]})]})})}}];function rx({taxReturn:e}){let[t,n]=(0,l.useState)(e),[a,s]=(0,l.useState)(!1),[r,p]=(0,l.useState)(!1),[x,h]=(0,l.useState)(!1),[f,y]=(0,l.useState)(e.lastSavedAt?new Date(e.lastSavedAt):null),[g,v]=(0,l.useState)(!1),S=(0,o.useRouter)(),C=rp.find(e=>e.id===t.currentStep)||rp[0],E=C.component,T=t.currentStep/rp.length*100,I=async e=>{p(!0);try{let a=await fetch(`/api/tax-returns/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(a.ok){let e=await a.json();return n(e),y(new Date),v(!1),e}}catch(e){console.error("Error updating tax return:",e)}finally{p(!1)}},k=async e=>{if(!x){h(!0);try{let a=await fetch(`/api/tax-returns/${t.id}/auto-save`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(a.ok){let e=await a.json();return n(e.taxReturn),y(new Date(e.savedAt)),v(!1),e.taxReturn}}catch(e){console.error("Error auto-saving tax return:",e)}finally{h(!1)}}},R=async(e,a)=>{p(!0);try{let s=await fetch(`/api/tax-returns/${t.id}/complete-step`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({stepNumber:e,data:a})});if(s.ok){let e=await s.json();return n(e.taxReturn),y(new Date),v(!1),e.taxReturn}}catch(e){console.error("Error completing step:",e)}finally{p(!1)}},A=e=>{e>=1&&e<=rp.length&&I({currentStep:e})},D=()=>{S.push("/dashboard")};return(0,i.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("header",{className:"bg-white shadow-sm border-b",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,i.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,i.jsxs)(c.z,{variant:"ghost",size:"sm",onClick:D,children:[i.jsx(j,{className:"h-4 w-4 mr-2"}),"Dashboard"]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(b.Z,{className:"h-6 w-6 text-primary"}),(0,i.jsxs)("h1",{className:"text-xl font-semibold text-gray-900",children:[t.taxYear," Tax Return"]})]})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"flex items-center space-x-2 text-sm",children:x?(0,i.jsxs)("div",{className:"flex items-center space-x-1 text-blue-600",children:[i.jsx("div",{className:"animate-spin h-3 w-3 border border-blue-600 border-t-transparent rounded-full"}),i.jsx("span",{children:"Auto-saving..."})]}):g?(0,i.jsxs)("div",{className:"flex items-center space-x-1 text-amber-600",children:[i.jsx("div",{className:"h-2 w-2 bg-amber-600 rounded-full"}),i.jsx("span",{children:"Unsaved changes"})]}):f?(0,i.jsxs)("div",{className:"flex items-center space-x-1 text-green-600",children:[i.jsx(N,{className:"h-3 w-3"}),(0,i.jsxs)("span",{children:["Saved ",(e=>{let t=Math.floor((new Date().getTime()-e.getTime())/6e4);if(t<1)return"just now";if(t<60)return`${t}m ago`;let n=Math.floor(t/60);return n<24?`${n}h ago`:e.toLocaleDateString()})(f)]})]}):null}),i.jsx(m.C,{variant:t.isCompleted?"default":"secondary",children:t.isCompleted?"Completed":"In Progress"}),i.jsx(c.z,{variant:"ghost",size:"sm",onClick:D,children:i.jsx(w,{className:"h-4 w-4"})})]})]})})}),i.jsx("div",{className:"bg-white border-b",children:(0,i.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,i.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Step ",t.currentStep," of ",rp.length]}),(0,i.jsxs)("span",{className:"text-sm text-gray-500",children:[Math.round(T),"% Complete"]})]}),i.jsx(u.E,{value:T,className:"h-2"})]})}),i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[i.jsx("div",{className:"lg:col-span-1",children:(0,i.jsxs)(d.Zb,{children:[i.jsx(d.Ol,{children:i.jsx(d.ll,{className:"text-lg",children:"Steps"})}),i.jsx(d.aY,{className:"space-y-2",children:rp.map(e=>{let n=e.icon,a=e.id===t.currentStep,s=(t.completedSteps||[]).includes(e.id),r=e.id<=t.currentStep||s;return(0,i.jsxs)("button",{onClick:()=>r&&A(e.id),disabled:!r,className:`w-full flex items-center space-x-3 p-3 rounded-lg text-left transition-colors ${a?"bg-primary text-primary-foreground":s?"bg-green-50 text-green-800 hover:bg-green-100":r?"hover:bg-gray-50":"opacity-50 cursor-not-allowed"}`,children:[i.jsx("div",{className:`flex-shrink-0 ${a?"text-primary-foreground":s?"text-green-600":"text-gray-400"}`,children:s?i.jsx(N,{className:"h-5 w-5"}):i.jsx(n,{className:"h-5 w-5"})}),(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:`text-sm font-medium ${a?"text-primary-foreground":s?"text-green-800":"text-gray-900"}`,children:e.title}),i.jsx("p",{className:`text-xs ${a?"text-primary-foreground/80":s?"text-green-600":"text-gray-500"}`,children:e.description})]})]},e.id)})})]})}),i.jsx("div",{className:"lg:col-span-3",children:(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{children:[(0,i.jsxs)(d.ll,{className:"flex items-center space-x-2",children:[i.jsx(C.icon,{className:"h-6 w-6"}),i.jsx("span",{children:C.title})]}),i.jsx(d.SZ,{children:C.description})]}),i.jsx(d.aY,{children:i.jsx(E,{taxReturn:t,onUpdate:I,onAutoSave:k,onCompleteStep:e=>R(t.currentStep,e),onNext:()=>{A(Math.min(t.currentStep+1,rp.length))},onPrev:()=>{A(Math.max(t.currentStep-1,1))},onMarkUnsaved:()=>v(!0),loading:a,saving:r,autoSaving:x,hasUnsavedChanges:g,lastSaved:f})})]})})]})})]})}},54432:(e,t,n)=>{"use strict";n.d(t,{I:()=>i});var a=n(10326),s=n(17577),r=n(77863);let i=s.forwardRef(({className:e,type:t,...n},s)=>a.jsx("input",{type:t,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...n}));i.displayName="Input"},45842:(e,t,n)=>{"use strict";n.d(t,{_:()=>d});var a=n(10326),s=n(17577),r=n(45226),i=s.forwardRef((e,t)=>(0,a.jsx)(r.WV.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var l=n(28671),o=n(77863);let c=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef(({className:e,...t},n)=>a.jsx(i,{ref:n,className:(0,o.cn)(c(),e),...t}));d.displayName=i.displayName},30630:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var a=n(19510),s=n(75571),r=n(58585),i=n(9487);let l=(0,n(68570).createProxy)(String.raw`C:\kiran\taxgrok\tax_filing_app\app\components\tax-filing-interface.tsx#TaxFilingInterface`);async function o({params:e}){let t=await (0,s.getServerSession)();t?.user?.email||(0,r.redirect)("/auth/login");let n=await i._.user.findUnique({where:{email:t.user.email}});n||(0,r.redirect)("/auth/login");let o=await i._.taxReturn.findFirst({where:{id:e.id,userId:n.id},include:{incomeEntries:!0,deductionEntries:!0,dependents:!0}});return o||(0,r.redirect)("/dashboard"),a.jsx(l,{taxReturn:o})}}};var t=require("../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),a=t.X(0,[276,115,571,554,484,283],()=>n(25866));module.exports=a})();